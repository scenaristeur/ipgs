{"version":3,"sources":["webpack:///./node_modules/core-js/internals/get-substitution.js","webpack:///./src/mixins/networkUtilMixin.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./src/util/Websocket.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"],"names":["toObject","floor","Math","replace","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","module","exports","matched","str","position","captures","namedCaptures","replacement","tailPos","length","m","symbols","undefined","call","match","ch","capture","charAt","slice","n","f","fc","FC","auth","methods","arraysEqual","a1","a2","every","o","idx","objectsEqual","o1","o2","Object","keys","p","loadFRAMED","url","readFile","headers","file","jsonFile","JSON","parse","console","log","Array","isArray","parsePossibleJsonld","parseFolder","readFolder","folder","frame","nodes","edges","jsonld","framed","compacted","cont","ldp","load","sockets","includes","push","websocket","Websocket","documentLoaderType","doc","err","alert","json","document","identiques","network","visContext","type","pairToVis","items","map","obj","label","id","info","nodeFromLabel","trim","split","join","color","background","border","shape","edgeFromLabel","data","from","to","jsonToJsonLd","ld","assign","jsonToJsonLd1","forEach","n_clone","e","e_clone","jsonToTtl","output","listeInfos","listeComplementaire","i","edge","sujet","propriete","objet","nodeSubj","find","x","nodeObj","sujetLabel","objetLabel","error","sujetWithPrefix","this","validRdf","proprieteWithPrefix","objetWithPrefix","indexOf","typedeProp","indiceTypeDeProp","toLowerCase","uniq_fast","sort","k","l","a","seen","out","len","j","item","string","valid","downloadFile","contenu","content","format","contentType","fileNameToSaveAs","filename","prompt","textFileAsBlob","Blob","downloadLink","createElement","download","innerHTML","navigator","userAgent","href","window","URL","createObjectURL","target","style","display","body","appendChild","event","createEvent","initMouseEvent","dispatchEvent","setTimeout","removeChild","revokeObjectURL","fixRegExpWellKnownSymbolLogic","anObject","toLength","toInteger","requireObjectCoercible","advanceStringIndex","getSubstitution","regExpExec","max","min","maybeToString","it","String","REPLACE","nativeReplace","maybeCallNative","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","O","replacer","regexp","res","done","value","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","result","matchStr","accumulatedResult","nextSourcePosition","index","groups","replacerArgs","concat","apply","_typeof","Symbol","iterator","constructor","prototype","_defineProperty","key","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","arguments","source","getOwnPropertyDescriptors","defineProperties","$","$find","addToUnscopables","FIND","SKIPS_HOLES","proto","forced","callbackfn","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","separator","nativeKeys","fails","FAILS_ON_PRIMITIVES","stat","callback","test","socket","WebSocket","onopen","send","onmessage","msg","newMessage","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","DESCRIPTORS","getOwnPropertyDescriptorModule","createProperty","sham","descriptor","nativeGetOwnPropertyDescriptor","FORCED"],"mappings":"qGAAA,IAAIA,EAAW,EAAQ,QAEnBC,EAAQC,KAAKD,MACbE,EAAU,GAAGA,QACbC,EAAuB,8BACvBC,EAAgC,sBAGpCC,EAAOC,QAAU,SAAUC,EAASC,EAAKC,EAAUC,EAAUC,EAAeC,GAC1E,IAAIC,EAAUJ,EAAWF,EAAQO,OAC7BC,EAAIL,EAASI,OACbE,EAAUZ,EAKd,YAJsBa,IAAlBN,IACFA,EAAgBZ,EAASY,GACzBK,EAAUb,GAELD,EAAQgB,KAAKN,EAAaI,GAAS,SAAUG,EAAOC,GACzD,IAAIC,EACJ,OAAQD,EAAGE,OAAO,IAChB,IAAK,IAAK,MAAO,IACjB,IAAK,IAAK,OAAOf,EACjB,IAAK,IAAK,OAAOC,EAAIe,MAAM,EAAGd,GAC9B,IAAK,IAAK,OAAOD,EAAIe,MAAMV,GAC3B,IAAK,IACHQ,EAAUV,EAAcS,EAAGG,MAAM,GAAI,IACrC,MACF,QACE,IAAIC,GAAKJ,EACT,GAAU,IAANI,EAAS,OAAOL,EACpB,GAAIK,EAAIT,EAAG,CACT,IAAIU,EAAIzB,EAAMwB,EAAI,IAClB,OAAU,IAANC,EAAgBN,EAChBM,GAAKV,OAA8BE,IAApBP,EAASe,EAAI,GAAmBL,EAAGE,OAAO,GAAKZ,EAASe,EAAI,GAAKL,EAAGE,OAAO,GACvFH,EAETE,EAAUX,EAASc,EAAI,GAE3B,YAAmBP,IAAZI,EAAwB,GAAKA,O,wUC9BlCK,EAAK,IAAIC,IAAIC,KAoBJ,QACbC,QAAS,CAYPC,YAZO,SAYKC,EAAIC,GAAI,WAClB,YAAaf,GAANc,QAAyBd,GAANe,GAAmBD,EAAGjB,SAAWkB,EAAGlB,QAAUiB,EAAGE,OAAM,SAACC,EAAGC,GAAJ,OAAY,EAAKC,aAAaF,EAAGF,EAAGG,QAGvHC,aAhBO,SAgBMC,EAAIC,GAAG,WAClB,MAAqB,WAAd,eAAOD,IAAmBE,OAAOC,KAAKH,GAAIvB,OAAS,EACxDyB,OAAOC,KAAKH,GAAIvB,SAAWyB,OAAOC,KAAKF,GAAIxB,QAC1CyB,OAAOC,KAAKH,GAAIJ,OAAM,SAAAQ,GAAC,OAAI,EAAKL,aAAaC,EAAGI,GAAIH,EAAGG,OACxDJ,IAAOC,GAELI,WAtBC,SAsBUC,GAAI,gLACFjB,EAAGkB,SAASD,EAAK,CAChCE,QAAS,CACP,OAAU,sBACV,eAAgB,yBAJD,OACfC,EADe,OAUfC,EAAWC,KAAKC,MAAMH,GAC1BI,QAAQC,IAAI,WAAWJ,GACpBK,MAAMC,QAAQN,IAAgC,GAAnBA,EAASjC,aAAqCG,GAAtB8B,EAAS,GAAG,OAChE,EAAKO,oBAAoBX,EAAKI,EAAS,IAChCK,MAAMC,QAAQN,IAAaA,EAASjC,OAAS,EACpD,EAAKyC,YAAYZ,GAGjB,EAAKW,oBAAoBX,EAAKI,GAlBb,8CAyBfQ,YA/CC,SA+CWZ,GAAI,mKACDjB,EAAG8B,WAAWb,GADb,OAChBc,EADgB,OAEpBP,QAAQC,IAAI,SAAUM,GAFF,8CAKhBH,oBApDC,SAoDmBX,EAAKI,GAAS,gKACtCG,QAAQC,IAAI,kBAAkBR,EAAKI,GA8B/BW,EAAQ,CACV,WAAY,CAAC,SAAU,uBACvB,QAAS,UACT,SAAY,CACV,QAAS,OACT,SAAY,CACV,QAAS,YAGb,eAAgB,CACd,QAAS,OACT,eAAgB,CACd,QAAS,YAGbC,MAAO,GACPC,MAAO,IA/C6B,SAmDjBC,WAAad,EAAUW,GAnDN,UAmDhCI,EAnDgC,OAoDtCZ,QAAQC,IAAI,SAAUW,GAElBC,EAAY,QACY9C,GAAxB8B,EAAS,YAvDyB,kCAwDnBA,EAAS,YAxDU,eAwDhCiB,EAxDgC,iBAyDjBH,aAAelB,EAAKqB,GAzDH,QAyDpCD,EAzDoC,gDA2DlBF,aAAelB,EAAKsB,EAAI,aA3DN,QA2DpCF,EA3DoC,eA6DtCb,QAAQC,IAAI,mBAAoBY,GA7DM,+CAiElCG,KArHC,SAqHIvB,GAAI,mLACbO,QAAQC,IAAI,OAAOR,GAAM,EAAKwB,QAAQC,SAASzB,IAC1C,EAAKwB,QAAQC,SAASzB,KACzB,EAAKwB,QAAQE,KAAK1B,GACd2B,EAAY,IAAIC,OAAU5B,EAAK,EAAKuB,MACxChB,QAAQC,IAAImB,GACZpB,QAAQC,IAAI,UAAU,EAAKgB,UAE7BjB,QAAQC,IAAI,SAASR,GAAM,EAAKwB,QAAQC,SAASzB,IAwB7C6B,EAAqB,MAhCZ,SAiCPX,uBAAyBW,GAjClB,cAmCTC,EAAM,GAnCG,mBAqCCZ,oBAAsBlB,GAAK,SAAS+B,GAC3CA,GACDxB,QAAQC,IAAIuB,MAvCL,QAqCXD,EArCW,4DA2CXE,MAAM,EAAD,IA3CM,WA8CTC,EAAO5B,KAAKC,MAAMwB,EAAII,UAC1B3B,QAAQC,IAAI,OAAOyB,GACnB,EAAKA,KAAMA,OAIM3D,GAAd2D,EAAKjB,QAAsBP,MAAMC,QAAQuB,EAAKjB,aAAwB1C,GAAd2D,EAAKhB,QAAsBR,MAAMC,QAAQuB,EAAKhB,OApD5F,wBAqDPkB,EAAa,EAAKhD,YAAY,EAAK8C,KAAKjB,MAAO,EAAKoB,QAAQpB,QAAU,EAAK7B,YAAY,EAAK8C,KAAKhB,MAAO,EAAKmB,QAAQnB,OACzHV,QAAQC,IAAI,aAAa2B,GACP,GAAdA,QAAkC7D,GAAZ,EAAK0B,MAC7B,EAAKoC,QAAQpB,MAAQiB,EAAKjB,MAC1B,EAAKoB,QAAQnB,MAAQgB,EAAKhB,OAzDjB,kBA2DJgB,GA3DI,WA+DPb,EAAY,QACQ9C,GAApB2D,EAAK,YAhEE,kCAiEQA,EAAK,YAjEb,eAiELZ,EAjEK,iBAkESH,aAAelB,EAAKqB,GAlE7B,QAkETD,EAlES,gDAoESF,aAAelB,EAAKqC,GApE7B,QAoETjB,EApES,sBAwEXb,QAAQC,IAAI,mBAAoBY,GAEV,OAAlBA,EAAUkB,MACRH,EAAa,EAAKhD,YAAY,EAAK8C,KAAKjB,MAAO,EAAKoB,QAAQpB,QAAU,EAAK7B,YAAY,EAAK8C,KAAKhB,MAAO,EAAKmB,QAAQnB,OACzHV,QAAQC,IAAI,aAAa2B,GACP,GAAdA,QAAmC7D,GAAZ,EAAK0B,MAC9B,EAAKoC,QAAQpB,MAAQ,GACrB,EAAKoB,QAAQnB,MAAQ,GACrBR,MAAMC,QAAQU,EAAUJ,OAAS,EAAKoB,QAAQpB,MAASI,EAAUJ,MAAQ,EAAKoB,QAAQpB,MAAMU,KAAKN,EAAUJ,OAC3GP,MAAMC,QAAQU,EAAUH,OAAS,EAAKmB,QAAQnB,MAASG,EAAUH,MAAQ,EAAKmB,QAAQnB,MAAMS,KAAKN,EAAUH,SAGrF,kDAAxBG,EAAU,cAEVA,EAAU,YAAc,CAACA,EAAU,aACnCA,EAAU,SAAWpB,EACrBO,QAAQC,IAAIY,GACZ,EAAKgB,QAAU,EAAKG,UAAUnB,IAEhCb,QAAQC,IAAI,EAAK4B,SA3FN,kBA4FJhB,GA5FI,6DAgGfmB,UArNO,SAqNGnB,GACR,IAAIJ,EAAQ,GAAIC,EAAQ,GACxBV,QAAQC,IAAI,OAAOY,EAAU,UAC7Bb,QAAQC,IAAIY,EAAU,iBACtB,IAAIoB,EAAQpB,EAAU,gBAAgBqB,KAAI,SAAAC,GAAG,wCAASA,GAAT,IAAcC,MAAOD,EAAIE,QAGtE,OADAnC,MAAMC,QAAQ8B,GAASxB,EAAQwB,EAAQjC,QAAQsC,KAAK,mBAAoBL,GACjE,CAACxB,MAAOA,EAAOC,MAAOA,IAK/B6B,cAjOO,SAiOOH,GACZ,MAAO,CAACC,GAAI,IAAID,EAAMI,OAAOC,MAAM,KAAKC,KAAK,KAC7CN,MAAOA,EACPO,MAAO,CAAGC,WAAY,UAAWC,OAAQ,WACzCC,MAAO,YAETC,cAvOO,SAuOOC,GACZ,MAAO,CAAEC,KAAMD,EAAKC,KAAMC,GAAIF,EAAKE,GAAId,MAAOY,EAAKZ,QAI/Ce,aA5OC,SA4OYzB,GAAK,0JAElB0B,EAAK,GACT/D,OAAOgE,OAAOD,EAAI1B,GAClB0B,EAAG,YAActB,EACjBsB,EAAGrB,KAAO,MALY,kBAMfqB,GANe,8CASlBE,cArPC,SAqPa5B,GAAK,mKACDf,aAAee,EAAMI,GADpB,cACnBjB,EADmB,OAEvBA,EAAU,OAAS,GACnBA,EAAU,UAAY,GACtBa,EAAKjB,MAAM8C,QAAX,yDAAmB,WAAejF,GAAf,uFACbkF,EAAU,GACdnE,OAAOgE,OAAOG,EAASlF,GACvBkF,EAAQ,SAAW,YACnB3C,EAAU,UAAUM,KAAKqC,GAJR,2CAAnB,uDAOA9B,EAAKhB,MAAM6C,QAAX,yDAAmB,WAAeE,GAAf,uFACbC,EAAU,GACdrE,OAAOgE,OAAOK,EAASD,GACvBC,EAAQ,SAAW,YACnBA,EAAQ,QAAU,CAAC,MAAOD,EAAER,MAC5BS,EAAQ,MAAQ,CAAC,MAAOD,EAAEP,IAG1BrC,EAAU,UAAUM,KAAKuC,GARR,2CAAnB,uDAXuB,kBAsBhB7C,GAtBgB,8CA0BzB8C,UA/QO,SA+QGjC,GACR,IAAIkC,EAAS,oDACbA,GAAU,qDACVA,GAAU,kEACVA,GAAU,2DACVA,GAAU,wDACVA,GAAU,6DACVA,GAAU,wDACVA,GAAU,+CAGVA,GAAU,MAMV,IAHA,IAAIC,EAAa,IAAI3D,MACjB4D,EAAsB,IAAI5D,MAErB6D,EAAI,EAAGA,EAAIrC,EAAKhB,MAAM9C,OAAQmG,IAAK,CAC1C,IAAIC,EAAOtC,EAAKhB,MAAMqD,GAClBE,EAAQD,EAAKf,KACbiB,EAAYF,EAAK5B,MAAMpF,QAAQ,MAAO,KACtCmH,EAAQH,EAAKd,GAGbkB,EAAW1C,EAAKjB,MAAM4D,MAAK,SAAAC,GAAC,OAAIA,EAAEjC,IAAI4B,KACtCM,EAAU7C,EAAKjB,MAAM4D,MAAK,SAAAC,GAAC,OAAIA,EAAEjC,IAAI8B,KAErCK,EAAaJ,EAAShC,MAAMpF,QAAQ,MAAO,IAC/C,IACE,IAAIyH,EAAaF,EAAQnC,MAAMpF,QAAQ,MAAO,IAC/C,MAAM0H,IAMP,IAAIC,EAAkBC,KAAKC,SAASZ,GAChCa,EAAsBF,KAAKC,SAASX,GACpCa,EAAkBH,KAAKC,SAASV,IAEC,GAAjCQ,EAAgBK,QAAQ,OAC1BL,EAAkB,KAAOA,IAGc,GAArCG,EAAoBE,QAAQ,OAC9BF,EAAsB,IAAMA,IAGO,GAAjCC,EAAgBC,QAAQ,OAC1BD,EAAkB,KAAOA,GAG3B,IAAIE,EAAa,CAAC,yBAA0B,qBAAsB,wBAC9DC,EAAmB,EAGG,QAAvBJ,GACuB,SAAvBA,GACuB,YAAvBA,GACuB,MAAvBA,GACuB,WAAvBA,GACuB,YAAvBA,GACuB,SAAvBA,GAEDA,EAAsB,WACtBhB,EAAoB3C,KAAK4D,EAAkB,4BAC3CG,EAAmB,GACc,cAAvBJ,GAAgE,eAAvBA,GAAiE,mBAAvBA,EAC7FA,EAAsB,kBAES,UAAvBA,GAA4D,WAAvBA,GAC7CA,EAAsB,aACtBI,GAAoB,GAGkB,YAArCJ,EAAoBK,eACiB,UAArCL,EAAoBK,eACiB,WAArCL,EAAoBK,eACiB,aAArCL,EAAoBK,eACnBL,EAAsB,cACtBI,EAAmB,GAEmB,WAArCJ,EAAoBK,eACiB,eAArCL,EAAoBK,eACiB,MAArCL,EAAoBK,eACiB,KAArCL,EAAoBK,gBAErBL,EAAsB,eACtBI,GAAoB,GAElBA,GAAoB,GACtBpB,EAAoB3C,KAAK2D,EAAsB,aAAeG,EAAWC,GAAoB,SAE/F,IAAIlC,EAAO2B,EAAkB,IAAMG,EAAsB,IAAMC,EAAkB,QACjF/B,GAAQ2B,kBAA0CH,EAAa,SAC/DxB,GAAQ+B,kBAA0CN,EAAa,SAC/DZ,EAAWE,GAAKf,EAIlBa,EAAae,KAAKQ,UAAUvB,EAAWwB,QACvCvB,EAAsBc,KAAKQ,UAAUtB,EAAoBuB,QAEzD,IAAK,IAAIC,EAAI,EAAGA,EAAIzB,EAAWjG,OAAQ0H,IACrC1B,GAAkBC,EAAWyB,GAE/B,IAAK,IAAIC,EAAI,EAAGA,EAAIzB,EAAoBlG,OAAQ2H,IAC9C3B,GAAkBE,EAAoByB,GAExC,OAAO3B,GAETwB,UA9XK,SA8XKI,GAKR,IAJA,IAAIC,EAAO,GACPC,EAAM,GACNC,EAAMH,EAAE5H,OACRgI,EAAI,EACA7B,EAAI,EAAGA,EAAI4B,EAAK5B,IAAK,CAC3B,IAAI8B,EAAOL,EAAEzB,GACK,IAAf0B,EAAKI,KACNJ,EAAKI,GAAQ,EACbH,EAAIE,KAAOC,GAGf,OAAOH,GAGTb,SA7YK,SA6YIiB,GAOP,IAAIC,EAAQ,CACZA,KAAa,OAYb,OAX6B,IAAzBD,EAAOd,QAAQ,OACjBe,EAAMhE,KAAO,WAUR+D,GAKTE,aAtaK,WAuaH,IAAIC,EAAUrB,KAAKsB,QACfC,EAASvB,KAAKuB,OAEdC,EAAc,GACdC,EAAmB,GACnBC,EAAWC,OAAO,wCAAyC,UAC/D,GAAgB,MAAZD,GAAgC,IAAZA,EAAxB,CAIA,OAAQH,GACN,IAAK,OACLC,EAAc,mBACdC,EAAmBC,EAAW,QAC9B,MACA,IAAK,MACLF,EAAc,cACdC,EAAmBC,EAAW,OAC9B,MACA,IAAK,SACLF,EAAc,sBACdC,EAAmBC,EAAW,UAC9B,MACA,QACA7E,MAAM,gCAAiC0E,GAEzC,IAAIK,EAAiB,IAAIC,KAAK,CAACR,GAAU,CAAElE,KAAMqE,IAE7CM,EAAe/E,SAASgF,cAAc,KAC1CD,EAAaE,SAAWP,EACxBK,EAAaG,UAAY,iBACoB,GAA1CC,UAAUC,UAAU/B,QAAQ,UAC7B0B,EAAaM,KAAOC,OAAOC,IAAIC,gBAAgBX,IAE/CE,EAAaM,KAAOC,OAAOC,IAAIC,gBAAgBX,GAC/CE,EAAaU,OAAO,SACpBV,EAAaW,MAAMC,QAAU,OAC7B3F,SAAS4F,KAAKC,YAAYd,IAE5B,IAAIe,EAAQ9F,SAAS+F,YAAY,eACjCD,EAAME,eACJ,SAAS,GAAM,EAAOV,OAAQ,EAAG,EAAG,EAAG,EAAG,GACxC,GAAO,GAAO,GAAO,EAAO,EAAG,MAEnCP,EAAakB,cAAcH,GAC3BI,YAAW,WACTlG,SAAS4F,KAAKO,YAAYpB,GAC1BO,OAAOC,IAAIa,gBAAgBrB,KAC1B,U,kCClfX,IAAIsB,EAAgC,EAAQ,QACxCC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAY,EAAQ,QACpBC,EAAyB,EAAQ,QACjCC,EAAqB,EAAQ,QAC7BC,EAAkB,EAAQ,QAC1BC,EAAa,EAAQ,QAErBC,EAAMzL,KAAKyL,IACXC,EAAM1L,KAAK0L,IAEXC,EAAgB,SAAUC,GAC5B,YAAc5K,IAAP4K,EAAmBA,EAAKC,OAAOD,IAIxCX,EAA8B,UAAW,GAAG,SAAUa,EAASC,EAAeC,EAAiBC,GAC7F,IAAIC,EAA+CD,EAAOC,6CACtDC,EAAmBF,EAAOE,iBAC1BC,EAAoBF,EAA+C,IAAM,KAE7E,MAAO,CAGL,SAAiBG,EAAaC,GAC5B,IAAIC,EAAIlB,EAAuBxD,MAC3B2E,OAA0BxL,GAAfqL,OAA2BrL,EAAYqL,EAAYP,GAClE,YAAoB9K,IAAbwL,EACHA,EAASvL,KAAKoL,EAAaE,EAAGD,GAC9BP,EAAc9K,KAAK4K,OAAOU,GAAIF,EAAaC,IAIjD,SAAUG,EAAQH,GAChB,IACIJ,GAAgDC,GACzB,kBAAjBG,IAA0E,IAA7CA,EAAarE,QAAQmE,GAC1D,CACA,IAAIM,EAAMV,EAAgBD,EAAeU,EAAQ5E,KAAMyE,GACvD,GAAII,EAAIC,KAAM,OAAOD,EAAIE,MAG3B,IAAIC,EAAK3B,EAASuB,GACdK,EAAIjB,OAAOhE,MAEXkF,EAA4C,oBAAjBT,EAC1BS,IAAmBT,EAAeT,OAAOS,IAE9C,IAAIU,EAASH,EAAGG,OAChB,GAAIA,EAAQ,CACV,IAAIC,EAAcJ,EAAGK,QACrBL,EAAGM,UAAY,EAEjB,IAAIC,EAAU,GACd,MAAO,EAAM,CACX,IAAIC,EAAS7B,EAAWqB,EAAIC,GAC5B,GAAe,OAAXO,EAAiB,MAGrB,GADAD,EAAQhJ,KAAKiJ,IACRL,EAAQ,MAEb,IAAIM,EAAWzB,OAAOwB,EAAO,IACZ,KAAbC,IAAiBT,EAAGM,UAAY7B,EAAmBwB,EAAG3B,EAAS0B,EAAGM,WAAYF,IAKpF,IAFA,IAAIM,EAAoB,GACpBC,EAAqB,EAChBxG,EAAI,EAAGA,EAAIoG,EAAQvM,OAAQmG,IAAK,CACvCqG,EAASD,EAAQpG,GAUjB,IARA,IAAI1G,EAAUuL,OAAOwB,EAAO,IACxB7M,EAAWiL,EAAIC,EAAIN,EAAUiC,EAAOI,OAAQX,EAAEjM,QAAS,GACvDJ,EAAW,GAMNoI,EAAI,EAAGA,EAAIwE,EAAOxM,OAAQgI,IAAKpI,EAAS2D,KAAKuH,EAAc0B,EAAOxE,KAC3E,IAAInI,EAAgB2M,EAAOK,OAC3B,GAAIX,EAAmB,CACrB,IAAIY,EAAe,CAACrN,GAASsN,OAAOnN,EAAUD,EAAUsM,QAClC9L,IAAlBN,GAA6BiN,EAAavJ,KAAK1D,GACnD,IAAIC,EAAckL,OAAOS,EAAauB,WAAM7M,EAAW2M,SAEvDhN,EAAc4K,EAAgBjL,EAASwM,EAAGtM,EAAUC,EAAUC,EAAe4L,GAE3E9L,GAAYgN,IACdD,GAAqBT,EAAExL,MAAMkM,EAAoBhN,GAAYG,EAC7D6M,EAAqBhN,EAAWF,EAAQO,QAG5C,OAAO0M,EAAoBT,EAAExL,MAAMkM,S,kIC9F1B,SAASM,EAAQ1I,GAa9B,OATE0I,EADoB,oBAAXC,QAAoD,kBAApBA,OAAOC,SACtC,SAAiB5I,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAX2I,QAAyB3I,EAAI6I,cAAgBF,QAAU3I,IAAQ2I,OAAOG,UAAY,gBAAkB9I,GAItH0I,EAAQ1I,K,wsSCbF,SAAS+I,EAAgB/I,EAAKgJ,EAAKxB,GAYhD,OAXIwB,KAAOhJ,EACT9C,OAAO+L,eAAejJ,EAAKgJ,EAAK,CAC9BxB,MAAOA,EACP0B,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZpJ,EAAIgJ,GAAOxB,EAGNxH,ECVT,SAASqJ,EAAQC,EAAQC,GACvB,IAAIpM,EAAOD,OAAOC,KAAKmM,GAEvB,GAAIpM,OAAOsM,sBAAuB,CAChC,IAAI7N,EAAUuB,OAAOsM,sBAAsBF,GACvCC,IAAgB5N,EAAUA,EAAQ8N,QAAO,SAAUC,GACrD,OAAOxM,OAAOyM,yBAAyBL,EAAQI,GAAKR,eAEtD/L,EAAK6B,KAAKyJ,MAAMtL,EAAMxB,GAGxB,OAAOwB,EAGM,SAASyM,EAAe3E,GACrC,IAAK,IAAIrD,EAAI,EAAGA,EAAIiI,UAAUpO,OAAQmG,IAAK,CACzC,IAAIkI,EAAyB,MAAhBD,UAAUjI,GAAaiI,UAAUjI,GAAK,GAE/CA,EAAI,EACNyH,EAAQnM,OAAO4M,IAAS,GAAM1I,SAAQ,SAAU4H,GAC9CC,EAAehE,EAAQ+D,EAAKc,EAAOd,OAE5B9L,OAAO6M,0BAChB7M,OAAO8M,iBAAiB/E,EAAQ/H,OAAO6M,0BAA0BD,IAEjET,EAAQnM,OAAO4M,IAAS1I,SAAQ,SAAU4H,GACxC9L,OAAO+L,eAAehE,EAAQ+D,EAAK9L,OAAOyM,yBAAyBG,EAAQd,OAKjF,OAAO/D,I,oCChCT,IAAIgF,EAAI,EAAQ,QACZC,EAAQ,EAAQ,QAAgChI,KAChDiI,EAAmB,EAAQ,QAE3BC,EAAO,OACPC,GAAc,EAGdD,IAAQ,IAAIrM,MAAM,GAAGqM,IAAM,WAAcC,GAAc,KAI3DJ,EAAE,CAAEhF,OAAQ,QAASqF,OAAO,EAAMC,OAAQF,GAAe,CACvDnI,KAAM,SAAcsI,GAClB,OAAON,EAAMzH,KAAM+H,EAAYX,UAAUpO,OAAS,EAAIoO,UAAU,QAAKjO,MAKzEuO,EAAiBC,I,6pBCnBjB,IAAIH,EAAI,EAAQ,QACZQ,EAAgB,EAAQ,QACxBC,EAAkB,EAAQ,QAC1BC,EAAsB,EAAQ,QAE9BC,EAAa,GAAGrK,KAEhBsK,EAAcJ,GAAiBvN,OAC/B4N,EAAgBH,EAAoB,OAAQ,KAIhDV,EAAE,CAAEhF,OAAQ,QAASqF,OAAO,EAAMC,OAAQM,IAAgBC,GAAiB,CACzEvK,KAAM,SAAcwK,GAClB,OAAOH,EAAW/O,KAAK6O,EAAgBjI,WAAqB7G,IAAdmP,EAA0B,IAAMA,O,qBCflF,IAAId,EAAI,EAAQ,QACZvP,EAAW,EAAQ,QACnBsQ,EAAa,EAAQ,QACrBC,EAAQ,EAAQ,QAEhBC,EAAsBD,GAAM,WAAcD,EAAW,MAIzDf,EAAE,CAAEhF,OAAQ,SAAUkG,MAAM,EAAMZ,OAAQW,GAAuB,CAC/D/N,KAAM,SAAcqJ,GAClB,OAAOwE,EAAWtQ,EAAS8L,Q,gGCVVtH,G,yCACnB,WAAY5B,EAAK8N,GAAS,uBACxB3I,KAAKnF,IAAMA,EACXmF,KAAK2I,SAAWA,EAChBvN,QAAQC,IAAI2E,KAAKnF,KACjBmF,KAAK4I,KAAK5I,KAAKnF,K,2CAGjB,SAAKA,GACH,IAAItC,EAASyH,KACTxD,EAAY,SAAS3B,EAAIgD,MAAM,KAAK,GACpCgL,EAAS,IAAIC,UAAUtM,EAAW,CAAC,gBAIvCpB,QAAQC,IAAIwN,GACZA,EAAOE,OAAS,WACd3N,QAAQC,IAAI,eACZ2E,KAAKgJ,KAAK,OAAOnO,GACjBO,QAAQC,IAAI,iBAAiBR,IAE/BgO,EAAOI,UAAY,SAASC,GAEtBA,EAAI9K,MAAiC,QAAzB8K,EAAI9K,KAAK3E,MAAM,EAAG,KAEhC2B,QAAQC,IAAI6N,EAAI9K,MAChB7F,EAAO4Q,WAAWD,EAAI9K,KAAKP,MAAM,QAAQ,Q,wBAM/C,SAAWhD,GACTO,QAAQC,IAAI,cAAeR,GAC3BmF,KAAK2I,SAAS9N,O,yCClClB,IAAI2M,EAAI,EAAQ,QACZ4B,EAAO,EAAQ,QAAgC9L,IAC/C+L,EAA+B,EAAQ,QAEvCC,EAAsBD,EAA6B,OAKvD7B,EAAE,CAAEhF,OAAQ,QAASqF,OAAO,EAAMC,QAASwB,GAAuB,CAChEhM,IAAK,SAAayK,GAChB,OAAOqB,EAAKpJ,KAAM+H,EAAYX,UAAUpO,OAAS,EAAIoO,UAAU,QAAKjO,O,qBCZxE,IAAIqO,EAAI,EAAQ,QACZ+B,EAAc,EAAQ,QACtB3C,EAAU,EAAQ,QAClBqB,EAAkB,EAAQ,QAC1BuB,EAAiC,EAAQ,QACzCC,EAAiB,EAAQ,QAI7BjC,EAAE,CAAEhF,OAAQ,SAAUkG,MAAM,EAAMgB,MAAOH,GAAe,CACtDjC,0BAA2B,SAAmCT,GAC5D,IAKIN,EAAKoD,EALLjF,EAAIuD,EAAgBpB,GACpBK,EAA2BsC,EAA+B7P,EAC1De,EAAOkM,EAAQlC,GACfc,EAAS,GACTI,EAAQ,EAEZ,MAAOlL,EAAK1B,OAAS4M,EACnB+D,EAAazC,EAAyBxC,EAAG6B,EAAM7L,EAAKkL,WACjCzM,IAAfwQ,GAA0BF,EAAejE,EAAQe,EAAKoD,GAE5D,OAAOnE,M,qBCrBX,IAAIgC,EAAI,EAAQ,QACZgB,EAAQ,EAAQ,QAChBP,EAAkB,EAAQ,QAC1B2B,EAAiC,EAAQ,QAAmDjQ,EAC5F4P,EAAc,EAAQ,QAEtBd,EAAsBD,GAAM,WAAcoB,EAA+B,MACzEC,GAAUN,GAAed,EAI7BjB,EAAE,CAAEhF,OAAQ,SAAUkG,MAAM,EAAMZ,OAAQ+B,EAAQH,MAAOH,GAAe,CACtErC,yBAA0B,SAAkCnD,EAAIwC,GAC9D,OAAOqD,EAA+B3B,EAAgBlE,GAAKwC","file":"js/chunk-41cef538.729c2d96.js","sourcesContent":["var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","import * as jsonld from 'jsonld';\r\nimport ldp from '@/util/ldp.json' // https://gist.github.com/nandana/661d5961b91b78ff50b6\r\n//console.log(jsonldcontext)\r\nimport visContext from '@/util/visContext.json'\r\n\r\nimport auth from 'solid-auth-client';\r\nimport FC from 'solid-file-client'\r\nconst fc = new FC( auth )\r\n\r\nimport Websocket from '@/util/Websocket.js'\r\n// dcm: \"https://www.dublincore.org/specifications/dublin-core/dcmi-terms/\",\r\n// ldp: \"http://www.w3.org/ns/ldp#\",\r\n// json: \"http://www.w3.org/ns/iana/media-types/application/json#\",\r\n\r\n// const context = {\r\n//   \"name\": \"http://schema.org/name\",\r\n//   \"homepage\": {\"@id\": \"http://schema.org/url\", \"@type\": \"@id\"},\r\n//   \"image\": {\"@id\": \"http://schema.org/image\", \"@type\": \"@id\"}\r\n// };\r\n//const context =;\r\n// ALIAS IN JSLONLD https://github.com/schemaorg/schemaorg/issues/854\r\n// \"owl\":\"http://www.w3.org/2002/07/owl#\",\r\n//\"as\":\"https://www.w3.org/ns/activitystreams\",\r\n// \"schema\":\"http://schema.org/\",\r\n// \"life\": \"http://purl.org/vocab/lifecycle/schema#\",\r\n\r\n\r\nexport default {\r\n  methods: {\r\n    //     equalsIgnoreOrder(a, b) {\r\n    // if (a.length !== b.length) return false;\r\n    // const uniqueValues = new Set([...a, ...b]);\r\n    // for (const v of uniqueValues) {\r\n    //   const aCount = a.filter(e => e === v).length;\r\n    //   const bCount = b.filter(e => e === v).length;\r\n    //   if (aCount !== bCount) return false;\r\n    // }\r\n    // return true;\r\n    // },\r\n\r\n    arraysEqual(a1, a2) {\r\n      return a1 != undefined && a2 != undefined && a1.length === a2.length && a1.every((o, idx) => this.objectsEqual(o, a2[idx]));\r\n    },\r\n\r\n    objectsEqual(o1, o2){\r\n      return typeof o1 === 'object' && Object.keys(o1).length > 0\r\n      ? Object.keys(o1).length === Object.keys(o2).length\r\n      && Object.keys(o1).every(p => this.objectsEqual(o1[p], o2[p]))\r\n      : o1 === o2;\r\n    },\r\n    async loadFRAMED(url){\r\n      let file = await fc.readFile(url, {\r\n        headers: {\r\n          'Accept': 'application/ld+json',\r\n          'Content-Type': 'application/ld+json'\r\n        },\r\n        // method: \"POST\",\r\n        // body: JSON.stringify({a: 1, b: 2})\r\n      })\r\n      //  console.log(\"FILE\",this.file)\r\n      let jsonFile = JSON.parse(file)\r\n      console.log(\"jsonFile\",jsonFile)\r\n      if(Array.isArray(jsonFile) && jsonFile.length == 1 && jsonFile[0]['@id'] != undefined ){\r\n        this.parsePossibleJsonld(url, jsonFile[0])\r\n      }else if(Array.isArray(jsonFile) && jsonFile.length > 1){\r\n        this.parseFolder(url)\r\n      }else{\r\n        //  console.log(\"todo\", jsonFile)\r\n        this.parsePossibleJsonld(url, jsonFile)\r\n      }\r\n      //solid folder : jsonFile is array\r\n\r\n    },\r\n\r\n\r\n    async parseFolder(url){\r\n      let folder = await fc.readFolder(url)\r\n      console.log(\"FOLDER\", folder)\r\n    },\r\n\r\n    async parsePossibleJsonld(url, jsonFile){\r\n      console.log(\"possible jsonld\",url, jsonFile)\r\n\r\n\r\n\r\n      // let doc = {\r\n      //   \"@context\": {\r\n      //     \"@vocab\": \"http://example.org/\",\r\n      //     \"contains\": {\"@type\": \"@id\"}\r\n      //   },\r\n      //   \"@graph\": [{\r\n      //     \"@id\": \"http://example.org/library\",\r\n      //     \"@type\": \"Library\",\r\n      //     \"location\": \"Athens\",\r\n      //     \"contains\": \"http://example.org/library/the-republic\"\r\n      //   }, {\r\n      //     \"@id\": \"http://example.org/library/the-republic\",\r\n      //     \"@type\": \"Book\",\r\n      //     \"creator\": \"Plato\",\r\n      //     \"title\": \"The Republic\",\r\n      //     \"contains\": \"http://example.org/library/the-republic#introduction\"\r\n      //   }, {\r\n      //     \"@id\": \"http://example.org/library/the-republic#introduction\",\r\n      //     \"@type\": \"Chapter\",\r\n      //     \"description\": \"An introductory chapter on The Republic.\",\r\n      //     \"title\": \"The Introduction\"\r\n      //   }]\r\n      // }\r\n\r\n\r\n      //compact or frame ???? https://w3c.github.io/json-ld-framing/#framing\r\n      let frame = {\r\n        \"@context\": {\"@vocab\": \"http://example.org/\"},\r\n        \"@type\": \"Library\",\r\n        \"contains\": {\r\n          \"@type\": \"Book\",\r\n          \"contains\": {\r\n            \"@type\": \"Chapter\"\r\n          }\r\n        },\r\n        \"ldp:contains\": {\r\n          \"@type\": \"Book\",\r\n          \"ldp:contains\": {\r\n            \"@type\": \"Chapter\"\r\n          }\r\n        },\r\n        nodes: [],\r\n        edges: []\r\n      }\r\n\r\n      //  const framed = await jsonld.frame(doc, frame);\r\n      const framed = await jsonld.frame(jsonFile, frame);\r\n      console.log(\"FRAMED\", framed)\r\n\r\n      let compacted = {}\r\n      if (jsonFile['@context'] != undefined ){\r\n        let cont = await jsonFile['@context']\r\n        compacted =  await jsonld.compact(url, cont);\r\n      }else{\r\n        compacted = await jsonld.compact(url, ldp['@context']);\r\n      }\r\n      console.log(\"compacted loaded\", compacted)\r\n    },\r\n\r\n\r\n    async load(url){\r\n      console.log(\"LOAD\",url, !this.sockets.includes(url))\r\n      if (!this.sockets.includes(url)){\r\n        this.sockets.push(url)\r\n        let websocket = new Websocket(url, this.load)\r\n        console.log(websocket)\r\n        console.log(\"SOCKETS\",this.sockets)\r\n      }\r\n      console.log(\"LOAD 2\",url, !this.sockets.includes(url))\r\n\r\n\r\n      // let file = await fc.readFile(url, {\r\n      //   headers: {\r\n      //     'Accept': 'application/ld+json',\r\n      //     'Content-Type': 'application/ld+json'\r\n      //   },\r\n      //   // method: \"POST\",\r\n      //   // body: JSON.stringify({a: 1, b: 2})\r\n      // })\r\n      // //  console.log(\"FILE\",this.file)\r\n      // let jsonFile = JSON.parse(file)\r\n      // console.log(\"jsonFile\",jsonFile)\r\n      //\r\n      //\r\n      //\r\n      // let folder = await fc.readFolder(url)\r\n      // console.log(\"FOLDER\", folder)\r\n\r\n\r\n\r\n\r\n      // FIRST TRY TO LOAD JSONLD\r\n      let documentLoaderType = 'xhr'\r\n      await jsonld.useDocumentLoader(documentLoaderType/*, options*/);\r\n      //  const iri = url;\r\n      let doc = {}\r\n      try{\r\n        doc = await jsonld.documentLoader(url, function(err) {\r\n          if(err) {\r\n            console.log(err)\r\n          }\r\n        })\r\n      }catch(e){\r\n        alert(e)\r\n      }\r\n      //      console.log(doc)\r\n      let json = JSON.parse(doc.document)\r\n      console.log(\"JSON\",json)\r\n      this.json =json\r\n\r\n\r\n\r\n      if(json.nodes != undefined && Array.isArray(json.nodes) && json.edges != undefined && Array.isArray(json.edges)){\r\n        let identiques = this.arraysEqual(this.json.nodes, this.network.nodes) && this.arraysEqual(this.json.edges, this.network.edges)\r\n        console.log(\"identiques\",identiques)\r\n        if (identiques != true && this.url != undefined){ //false or undefined\r\n          this.network.nodes = json.nodes\r\n          this.network.edges = json.edges\r\n        }\r\n        return json\r\n      }else{\r\n        // try jsonld\r\n\r\n        let compacted = {}\r\n        if (json['@context'] != undefined ){\r\n          let cont = await json['@context']\r\n          compacted = await jsonld.compact(url, cont);\r\n        }else{\r\n          compacted = await jsonld.compact(url, visContext);\r\n        }\r\n\r\n\r\n        console.log(\"compacted loaded\", compacted)\r\n\r\n        if (compacted.type == 'vis'){\r\n          let identiques = this.arraysEqual(this.json.nodes, this.network.nodes) && this.arraysEqual(this.json.edges, this.network.edges)\r\n          console.log(\"identiques\",identiques)\r\n          if (identiques == false && this.url != undefined){\r\n            this.network.nodes = []\r\n            this.network.edges = []\r\n            Array.isArray(compacted.nodes) ? this.network.nodes =  compacted.nodes : this.network.nodes.push(compacted.nodes)\r\n            Array.isArray(compacted.edges) ? this.network.edges =  compacted.edges : this.network.edges.push(compacted.edges)\r\n          }\r\n        }else if(\r\n          compacted[\"@context\"] ==\"https://data.virtual-assembly.org/context.json\"\r\n        ){\r\n          compacted[\"@context\"] = [compacted[\"@context\"]]\r\n          compacted[\"@base\"] = url\r\n          console.log(compacted)\r\n          this.network = this.pairToVis(compacted)\r\n        }\r\n        console.log(this.network)\r\n        return compacted\r\n      }\r\n    },\r\n\r\n    pairToVis(compacted){\r\n      let nodes = [], edges = []\r\n      console.log(\"base\",compacted[\"@base\"] )\r\n      console.log(compacted[\"ldp:contains\"])\r\n      let items = compacted[\"ldp:contains\"].map(obj=> ({ ...obj, label: obj.id }))\r\n\r\n      Array.isArray(items) ? nodes = items : console.info(\"i cant deal with\", items)\r\n      return {nodes: nodes, edges: edges}\r\n    },\r\n\r\n\r\n\r\n    nodeFromLabel(label) {\r\n      return {id: \"#\"+label.trim().split(' ').join('_'),\r\n      label: label,\r\n      color: {  background: '#D2E5FF', border: '#2B7CE9'},\r\n      shape: 'ellipse'}\r\n    },\r\n    edgeFromLabel(data){\r\n      return { from: data.from, to: data.to, label: data.label}\r\n    },\r\n\r\n\r\n    async jsonToJsonLd(json){\r\n      //  let compacted = await jsonld.compact(json, context);\r\n      let ld = {}\r\n      Object.assign(ld, json)\r\n      ld['@context'] = visContext\r\n      ld.type = 'vis'\r\n      return ld\r\n    },\r\n\r\n    async jsonToJsonLd1(json){\r\n      let compacted = await jsonld.compact(json, visContext);\r\n      compacted['@id'] = ''\r\n      compacted['@graph'] = []\r\n      json.nodes.forEach(async function(n) {\r\n        let n_clone = {}\r\n        Object.assign(n_clone, n)\r\n        n_clone['@type'] = 'ipgs:Node'\r\n        compacted['@graph'].push(n_clone)\r\n      });\r\n\r\n      json.edges.forEach(async function(e) {\r\n        let e_clone = {}\r\n        Object.assign(e_clone, e)\r\n        e_clone['@type'] = 'ipgs:Edge',\r\n        e_clone['from'] = {'@id': e.from}\r\n        e_clone['to'] = {'@id': e.to}\r\n        // delete e_clone.from\r\n        // delete e_clone.to\r\n        compacted['@graph'].push(e_clone)\r\n      });\r\n\r\n      return compacted\r\n    },\r\n\r\n\r\n    jsonToTtl(json) {\r\n      var output = \"@prefix : <http://smag0.blogspot.fr/spoggy#> . \\n\";\r\n      output += \"@prefix owl: <http://www.w3.org/2002/07/owl#> . \\n\";\r\n      output += \"@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> . \\n\";\r\n      output += \"@prefix xml: <http://www.w3.org/XML/1998/namespace> . \\n\";\r\n      output += \"@prefix xsd: <http://www.w3.org/2001/XMLSchema#> . \\n\";\r\n      output += \"@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> . \\n\";\r\n      output += \"@prefix smag: <http://smag0.blogspot.fr/spoggy#> . \\n\";\r\n      output += \"@base <http://smag0.blogspot.fr/spoggy> . \\n\";\r\n      //output += \"<http://smag0.blogspot.fr/spoggy> rdf:type owl:Ontology ;  \\n\";\r\n      //output += \"                    owl:versionIRI <http://smag0.blogspot.fr/spoggy/1.0.0> . \\n\";\r\n      output += \" \\n\";\r\n      //output += \"owl:Class rdfs:subClassOf owl:Thing .  \\n\";\r\n\r\n      var listeInfos = new Array();\r\n      var listeComplementaire = new Array();\r\n\r\n      for (var i = 0; i < json.edges.length; i++) {\r\n        var edge = json.edges[i];\r\n        var sujet = edge.from;\r\n        var propriete = edge.label.replace(/\\s/g, \"_\");\r\n        var objet = edge.to;\r\n\r\n        //  console.log(objet);\r\n        let nodeSubj = json.nodes.find(x => x.id==sujet);\r\n        let nodeObj = json.nodes.find(x => x.id==objet);\r\n        // AJOUTER EVENTUELLEMENT LA RECUPERATION DE SHAPE, COLOR, pour l'export RDF\r\n        var sujetLabel = nodeSubj.label.replace(/\\n/g, \"\");\r\n        try{\r\n          var objetLabel = nodeObj.label.replace(/\\n/g, \"\");\r\n        }catch(error)\r\n        {\r\n          //  console.error(\"ERREUR NON TRAITEE\")\r\n          //  console.error(error)\r\n\r\n        }\r\n        var sujetWithPrefix = this.validRdf(sujet);\r\n        var proprieteWithPrefix = this.validRdf(propriete);\r\n        var objetWithPrefix = this.validRdf(objet);\r\n\r\n        if (sujetWithPrefix.indexOf(':') == -1) { // ne contient pas de ':'\r\n          sujetWithPrefix = '_:' + sujetWithPrefix; // blanknode\r\n        }\r\n\r\n        if (proprieteWithPrefix.indexOf(':') == -1) { // ne contient pas de ':'\r\n          proprieteWithPrefix = ':' + proprieteWithPrefix; // propriete utilisant \"@base <http://smag0.blogspot.fr/spoggy>\"\r\n        }\r\n\r\n        if (objetWithPrefix.indexOf(':') == -1) { // ne contient pas de ':'\r\n          objetWithPrefix = '_:' + objetWithPrefix;  // blanknode\r\n        }\r\n\r\n        var typedeProp = [\"owl:AnnotationProperty\", \"owl:ObjectProperty\", \"owl:DatatypeProperty\"];\r\n        var indiceTypeDeProp = 1; // -1 pour ne pas ajouter la prop, sinon par defaut en annotationProperty, 1 pour Object, 2 pour Datatype --> revoir pour les datatypes\r\n\r\n        if (\r\n          (proprieteWithPrefix == \"type\") ||\r\n          (proprieteWithPrefix == \":type\") ||\r\n          (proprieteWithPrefix == \"rdf:type\") ||\r\n          (proprieteWithPrefix == \":a\") ||\r\n          (proprieteWithPrefix == \":est_un\") ||\r\n          (proprieteWithPrefix == \":est_une\") ||\r\n          (proprieteWithPrefix == \":is_a\")\r\n        ) {\r\n          proprieteWithPrefix = \"rdf:type\";\r\n          listeComplementaire.push(objetWithPrefix + \" rdf:type owl:Class . \\n\");\r\n          indiceTypeDeProp = 1;\r\n        } else if ((proprieteWithPrefix == \"subClassOf\") || (proprieteWithPrefix == \":subClassOf\") || (proprieteWithPrefix == \"rdfs:subClassOf\")) {\r\n          proprieteWithPrefix = \"rdfs:subClassOf\";\r\n        }\r\n        else if ((proprieteWithPrefix == \"sameAs\") || (proprieteWithPrefix == \":sameAs\")) {\r\n          proprieteWithPrefix = \"owl:sameAs\";\r\n          indiceTypeDeProp = -1;\r\n        }\r\n        else if (\r\n          (proprieteWithPrefix.toLowerCase() == \"ispartof\") ||\r\n          (proprieteWithPrefix.toLowerCase() == \"partof\") ||\r\n          (proprieteWithPrefix.toLowerCase() == \":partof\") ||\r\n          (proprieteWithPrefix.toLowerCase() == \":ispartof\")) {\r\n            proprieteWithPrefix = \"smag:partOf\";\r\n            indiceTypeDeProp = 1;\r\n          } else if (\r\n            (proprieteWithPrefix.toLowerCase() == \"comment\") ||\r\n            (proprieteWithPrefix.toLowerCase() == \"commentaire\") ||\r\n            (proprieteWithPrefix.toLowerCase() == \"//\") ||\r\n            (proprieteWithPrefix.toLowerCase() == \"#\")\r\n          ) {\r\n            proprieteWithPrefix = \"rdfs:comment\";\r\n            indiceTypeDeProp = -1;\r\n          }\r\n          if (indiceTypeDeProp >= 0) {\r\n            listeComplementaire.push(proprieteWithPrefix + \" rdf:type \" + typedeProp[indiceTypeDeProp] + \" . \\n\");\r\n          }\r\n          var data = sujetWithPrefix + \" \" + proprieteWithPrefix + \" \" + objetWithPrefix + \" . \\n\";\r\n          data += sujetWithPrefix + \" \" + \"rdfs:label \\\"\" + sujetLabel + \"\\\" . \\n\";\r\n          data += objetWithPrefix + \" \" + \"rdfs:label \\\"\" + objetLabel + \"\\\" . \\n\";\r\n          listeInfos[i] = data;\r\n          //  console.log(data);\r\n        }\r\n        //suppression des doublons\r\n        listeInfos = this.uniq_fast(listeInfos.sort());\r\n        listeComplementaire = this.uniq_fast(listeComplementaire.sort());\r\n        // console.log (listeInfos);\r\n        for (var k = 0; k < listeInfos.length; k++) {\r\n          output = output + listeInfos[k];\r\n        }\r\n        for (var l = 0; l < listeComplementaire.length; l++) {\r\n          output = output + listeComplementaire[l];\r\n        }\r\n        return output\r\n      },\r\n      uniq_fast(a) {\r\n        var seen = {};\r\n        var out = [];\r\n        var len = a.length;\r\n        var j = 0;\r\n        for(var i = 0; i < len; i++) {\r\n          var item = a[i];\r\n          if(seen[item] !== 1) {\r\n            seen[item] = 1;\r\n            out[j++] = item;\r\n          }\r\n        }\r\n        return out;\r\n      },\r\n\r\n      validRdf(string){\r\n        // A REVOIR\r\n        //  console.log(string)\r\n        //  console.log(network.body.data.nodes.get(string));\r\n        //  console.log(\"nettoyage \"+ string);\r\n        // transformer le noeud en noeud rdf (resource ou literal)\r\n        // ajouter la construction du noeud, son uri, prefix, localname, type...\r\n        var valid = {};\r\n        valid.type = \"uri\";\r\n        if (string.indexOf(\" \") !== -1){\r\n          valid.type = \"literal\";\r\n        }else{\r\n          /*\r\n          replaceAll(string, \" \",\"_\");\r\n          replaceAll(string, \"\",\"_\");\r\n          replaceAll(string, \",\",\"_\");\r\n          replaceAll(string, \";\",\"_\");\r\n          replaceAll(string, \" \",\"_\");*/\r\n        }\r\n\r\n        return string;\r\n      },\r\n\r\n\r\n\r\n      downloadFile(){\r\n        var contenu = this.content\r\n        var format = this.format;\r\n        //  console.log(contenu, format)\r\n        var contentType = \"\";\r\n        var fileNameToSaveAs = \"\"\r\n        var filename = prompt(\"Choose a name for the exported file :\", \"Spoggy\");\r\n        if (filename == null || filename == \"\") {\r\n          return;\r\n        }\r\n\r\n        switch (format) {\r\n          case 'json':\r\n          contentType = 'application/json';\r\n          fileNameToSaveAs = filename + \".json\"; //Date.now() +\r\n          break;\r\n          case 'ttl':\r\n          contentType = 'text/turtle';\r\n          fileNameToSaveAs = filename + \".ttl\"; //Date.now() +\r\n          break;\r\n          case 'jsonld':\r\n          contentType = 'application/ld+json';\r\n          fileNameToSaveAs = filename + \".jsonld\"; //Date.now() +\r\n          break;\r\n          default:\r\n          alert('Format de fichier non reconnu', format);\r\n        }\r\n        var textFileAsBlob = new Blob([contenu], { type: contentType }\r\n        );\r\n        var downloadLink = document.createElement(\"a\");\r\n        downloadLink.download = fileNameToSaveAs;\r\n        downloadLink.innerHTML = \"Download File\";\r\n        if(navigator.userAgent.indexOf(\"Chrome\") != -1) {\r\n          downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\r\n        } else {\r\n          downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\r\n          downloadLink.target=\"_blank\";\r\n          downloadLink.style.display = \"none\";\r\n          document.body.appendChild(downloadLink);\r\n        }\r\n        var event = document.createEvent(\"MouseEvents\");\r\n        event.initMouseEvent(\r\n          \"click\", true, false, window, 0, 0, 0, 0, 0\r\n          , false, false, false, false, 0, null\r\n        );\r\n        downloadLink.dispatchEvent(event);\r\n        setTimeout(function(){\r\n          document.body.removeChild(downloadLink);\r\n          window.URL.revokeObjectURL(downloadLink);\r\n        }, 1000);\r\n      },\r\n    },\r\n\r\n  }\r\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n});\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","\r\nexport default class Websocket {\r\n  constructor(url, callback){\r\n    this.url = url\r\n    this.callback = callback\r\n    console.log(this.url)\r\n    this.test(this.url)\r\n  }\r\n\r\n  test(url){\r\n    let module = this\r\n    var websocket = \"wss://\"+url.split('/')[2];\r\n    let socket = new WebSocket(websocket, ['solid.0.1.0']);\r\n    //  var socket = new WebSocket('wss://ipgs.solidcommunity.net/', ['solid-0.1']);\r\n    //  var socket = new WebSocket('wss://solidweb.org');\r\n\r\n    console.log(socket)\r\n    socket.onopen = function() {\r\n      console.log(\"socket open\")\r\n      this.send('sub '+url);\r\n      console.log(\"socket sub to \"+url)\r\n    };\r\n    socket.onmessage = function(msg) {\r\n      //  console.log(\"message\",msg)\r\n      if (msg.data && msg.data.slice(0, 3) === 'pub') {\r\n        //  console.log(msg)\r\n        console.log(msg.data)\r\n        module.newMessage(msg.data.split('pub ')[1])\r\n        // resource updated, refetch resource\r\n      }\r\n    };\r\n  }\r\n\r\n  newMessage(url){\r\n    console.log(\"NEW MESSAGE\", url)\r\n    this.callback(url)\r\n    //this.store.commit('ipgs/setWebsocketMesssage', url)\r\n  }\r\n\r\n\r\n\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n"],"sourceRoot":""}