{"version":3,"sources":["webpack:///./src/components/network/ImportModal.vue?e595","webpack:///src/components/network/ImportModal.vue","webpack:///./src/components/network/ImportModal.vue?c425","webpack:///./src/components/network/ImportModal.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","staticClass","on","$event","importToGraph","_v","showimport","proxy","model","value","callback","$$v","expression","files","type","indexOf","_k","keyCode","load","apply","arguments","url","staticRenderFns","name","data","methods","console","log","network","nodes","edges","i","length","fichier","extension","split","pop","reader","FileReader","addEventListener","result","readAsText","computed","get","set","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,MAAM,CAAC,GAAK,gBAAgBC,YAAYP,EAAIQ,GAAG,CAAC,CAACC,IAAI,eAAeC,GAAG,WAAW,MAAO,CAACN,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,WAAW,CAACO,YAAY,cAAcL,MAAM,CAAC,QAAU,UAAU,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIc,eAAc,MAAS,CAACd,EAAIe,GAAG,WAAWX,EAAG,WAAW,CAACO,YAAY,cAAcL,MAAM,CAAC,QAAU,UAAU,KAAO,MAAMM,GAAG,CAAC,MAAQZ,EAAIc,gBAAgB,CAACd,EAAIe,GAAG,4BAA4BX,EAAG,WAAW,CAACO,YAAY,cAAcL,MAAM,CAAC,QAAU,UAAU,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAIgB,YAAW,KAAS,CAAChB,EAAIe,GAAG,cAAc,KAAKE,OAAM,KAAQC,MAAM,CAACC,MAAOnB,EAAc,WAAEoB,SAAS,SAAUC,GAAMrB,EAAIgB,WAAWK,GAAKC,WAAW,eAAe,CAAClB,EAAG,cAAc,CAACE,MAAM,CAAC,SAAW,GAAG,YAAc,mCAAmC,mBAAmB,qBAAqBY,MAAM,CAACC,MAAOnB,EAAS,MAAEoB,SAAS,SAAUC,GAAMrB,EAAIuB,MAAMF,GAAKC,WAAW,WAAWlB,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAO,KAAK,QAAU,QAAQ,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,UAAY,IAAIM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOW,KAAKC,QAAQ,QAAQzB,EAAI0B,GAAGb,EAAOc,QAAQ,QAAQ,GAAGd,EAAOJ,IAAI,SAAkB,KAAcT,EAAI4B,KAAKC,MAAM,KAAMC,aAAaZ,MAAM,CAACC,MAAOnB,EAAO,IAAEoB,SAAS,SAAUC,GAAMrB,EAAI+B,IAAIV,GAAKC,WAAW,SAASlB,EAAG,WAAW,CAACE,MAAM,CAAC,QAAU,cAAc,CAACN,EAAIe,GAAG,eAAe,IAAI,IACj7CiB,EAAkB,G,YCiDtB,G,8BAAA,CACEC,KAAM,cACNC,KAFF,WAGI,MAAO,CACLX,MAAO,GACPP,YAAY,EACZe,IAAK,KAITI,QAAS,CACPP,KADJ,WAEMQ,QAAQC,IAAIpC,KAAK8B,MAEnBjB,cAJJ,WAIA,8DACA,OACQb,KAAKqC,QAAQC,MAAQ,GACrBtC,KAAKqC,QAAQE,MAAQ,IAIvB,IAFA,IAAN,OAEeC,EAAI,EAAGA,EAAIxC,KAAKsB,MAAMmB,OAAQD,IAAK,CAC1C,IAAIE,EAAU1C,KAAKsB,MAAMkB,GACrBG,EAAYD,EAAQV,KAAKY,MAAM,KAAKC,MACpCC,EAAS,IAAIC,WACjBD,EAAOE,iBAAiB,QAAQ,WAC9B,IAAIC,EAASH,EAAOG,OAEpB,OADAd,QAAQC,IAAI,OAAtB,OAAsB,CAAtB,MACkBO,GACN,IAAK,OACjB,oBACA,oBACA,aACA,wBACA,yBAUA,MACY,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,MACjB,qBAkBA,MACY,QACZ,8CAGQG,EAAOI,WAAWR,GAKpB1C,KAAKe,YAAX,IAGEoC,SAAU,CACRd,QAAJ,CACMe,IADN,WACA,uCACMC,IAFN,iBCpIoW,I,YCOhWC,EAAY,eACd,EACAxD,EACAiC,GACA,EACA,KACA,KACA,MAIa,aAAAuB,E","file":"js/chunk-2d22d037.58ac2b07.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"id\":\"import-popup\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('div',{staticClass:\"w-100\"},[_c('b-button',{staticClass:\"float-right\",attrs:{\"variant\":\"primary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.importToGraph(true)}}},[_vm._v(\" New \")]),_c('b-button',{staticClass:\"float-right\",attrs:{\"variant\":\"primary\",\"size\":\"sm\"},on:{\"click\":_vm.importToGraph}},[_vm._v(\" Add to current graph \")]),_c('b-button',{staticClass:\"float-right\",attrs:{\"variant\":\"primary\",\"size\":\"sm\"},on:{\"click\":function($event){_vm.showimport=false}}},[_vm._v(\" Close \")])],1)]},proxy:true}]),model:{value:(_vm.showimport),callback:function ($$v) {_vm.showimport=$$v},expression:\"showimport\"}},[_c('b-form-file',{attrs:{\"multiple\":\"\",\"placeholder\":\"Choose a file or drop it here...\",\"drop-placeholder\":\"Drop file here...\"},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}}),_c('b-input-group',{attrs:{\"size\":\"sm\",\"prepend\":\"Url\"}},[_c('b-form-input',{attrs:{\"autofocus\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.load.apply(null, arguments)}},model:{value:(_vm.url),callback:function ($$v) {_vm.url=$$v},expression:\"url\"}}),_c('b-button',{attrs:{\"variant\":\"secondary\"}},[_vm._v(\"From POD\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal id=\"import-popup\" v-model=\"showimport\">\n    <b-form-file\n    v-model=\"files\"\n    multiple\n    placeholder=\"Choose a file or drop it here...\"\n    drop-placeholder=\"Drop file here...\"\n    ></b-form-file>\n\n    <b-input-group size=\"sm\" prepend=\"Url\">\n      <b-form-input v-model=\"url\" autofocus v-on:keyup.enter=\"load\"></b-form-input>\n      <b-button variant=\"secondary\">From POD</b-button>\n    </b-input-group>\n\n\n\n    <template #modal-footer>\n      <div class=\"w-100\">\n        <b-button\n        variant=\"primary\"\n        size=\"sm\"\n        class=\"float-right\"\n        @click=\"importToGraph(true)\"\n        >\n        New\n      </b-button>\n      <b-button\n      variant=\"primary\"\n      size=\"sm\"\n      class=\"float-right\"\n      @click=\"importToGraph\"\n      >\n      Add to current graph\n    </b-button>\n    <b-button\n    variant=\"primary\"\n    size=\"sm\"\n    class=\"float-right\"\n    @click=\"showimport=false\"\n    >\n    Close\n  </b-button>\n</div>\n</template>\n\n</b-modal>\n\n</template>\n\n<script>\nexport default {\n  name: 'ImportModal',\n  data() {\n    return {\n      files: [],\n      showimport: false,\n      url: ''\n      //network: {}\n    }\n  },\n  methods: {\n    load(){\n      console.log(this.url)\n    },\n    importToGraph(clear = false){\n      if(clear == true ){\n        this.network.nodes = []\n        this.network.edges = []\n      }\n      let app = this\n      // var data = {};\n      for (var i = 0; i < this.files.length; i++) {\n        var fichier = this.files[i];\n        var extension = fichier.name.split('.').pop();\n        var reader = new FileReader(); //https://openclassrooms.com/courses/dynamisez-vos-sites-web-avec-javascript/l-api-file\n        reader.addEventListener('load', function () {\n          var result = reader.result;\n          console.log(typeof result, result);\n          switch (extension) {\n            case 'json':\n            var data = JSON.parse(result)\n            console.log(data)\n            if(data.nodes != undefined){\n              app.network.nodes = data.nodes\n              app.network.edges = data.edges\n            }\n            /*  var nodes = res.nodes;\n            var edges = res.edges;\n            data ={nodes: nodes, edges: edges}*/\n            //   callback({data:data,params:params})\n            //editor.insert(\"testJK\")\n            // var text = JSON.stringify(data, null, 2)\n            //   editor.session.setValue(text)\n            //  editor.insert(JSON.stringify(data, null, 2))\n            break;\n            case 'rdf':\n            case 'ttl':\n            case 'n3':\n            case 'n3t':\n            case 'owl':\n            console.lolg(\"todo\")\n            /*  let base = 'https://www.wikidata.org/wiki/Special:EntityData/Q2005.ttl'\n            let mimeType = 'text/turtle'*/\n            // let doc = $rdf.sym(\"http://smag0.blogspot.fr/spoggy\");\n            // let store = $rdf.graph()\n            // console.log(store)\n            // try {\n            //   $rdf.parse(result, store, doc.uri, 'text/turtle');\n            // }\n            // catch(error) {\n            //   alert(error);\n            // }\n            //\n            // /*  $rdf.parse(result, store,base, mimeType)\n            // console.log(\"STORE\",store)*/\n            // data = statements2vis(store.statements);\n            // callback({data:data,params:params})\n            // console.log(\"OK\")\n            break;\n            default:\n            alert('Sorry, je ne peux pas traiter ',fichier);\n          }\n        });\n        reader.readAsText(fichier);\n      }\n      // this.files.forEach((f) => {\n      //\n      // });\n      this.showimport=false\n    }\n  },\n  computed: {\n    network:{\n      get () { return this.$store.state.ipgs.network},\n      set (/*value*/) {  }\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportModal.vue?vue&type=template&id=8ce8f864&\"\nimport script from \"./ImportModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}