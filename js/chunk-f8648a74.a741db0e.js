(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8648a74"],{"0538":function(e,t,n){"use strict";var r=n("1c0b"),o=n("861d"),i=[].slice,s={},a=function(e,t,n){if(!(t in s)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";s[t]=Function("C,a","return new C("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=i.call(arguments,1),s=function(){var r=n.concat(i.call(arguments));return this instanceof s?a(t,r.length,r):t.apply(e,r)};return o(t.prototype)&&(s.prototype=t.prototype),s}},"2ca0":function(e,t,n){"use strict";var r=n("23e7"),o=n("06cf").f,i=n("50c4"),s=n("5a34"),a=n("1d80"),u=n("ab13"),c=n("c430"),l="".startsWith,p=Math.min,d=u("startsWith"),f=!c&&!d&&!!function(){var e=o(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!f&&!d},{startsWith:function(e){var t=String(a(this));s(e);var n=i(p(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return l?l.call(t,r,n):t.slice(n,n+r.length)===r}})},3410:function(e,t,n){var r=n("23e7"),o=n("d039"),i=n("7b0b"),s=n("e163"),a=n("e177"),u=o((function(){s(1)}));r({target:"Object",stat:!0,forced:u,sham:!a},{getPrototypeOf:function(e){return s(i(e))}})},"4ae1":function(e,t,n){var r=n("23e7"),o=n("d066"),i=n("1c0b"),s=n("825a"),a=n("861d"),u=n("7c73"),c=n("0538"),l=n("d039"),p=o("Reflect","construct"),d=l((function(){function e(){}return!(p((function(){}),[],e)instanceof e)})),f=!l((function(){p((function(){}))})),h=d||f;r({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,t){i(e),s(t);var n=arguments.length<3?e:i(arguments[2]);if(f&&!d)return p(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var o=n.prototype,l=u(a(o)?o:Object.prototype),h=Function.apply.call(e,l,t);return a(h)?h:l}})},7037:function(e,t,n){function r(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),r(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"7e22":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("1da1"),o=n("d4ec"),i=n("bee2");function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}n("4ae1"),n("3410");function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var l=n("7037"),p=n.n(l);function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return!t||"object"!==p()(t)&&"function"!==typeof t?d(e):t}function h(e){var t=c();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}n("96cf"),n("2ca0"),n("a15b"),n("1276"),n("ac1f"),n("498a"),n("c740"),n("159b"),n("b0c0");var g=function e(){Object(o["a"])(this,e),this.jsonldRepresentation={},this.jsonldRepresentation["@context"]={owl:"http://www.w3.org/2002/07/owl#",terms:"http://purl.org/dc/terms/",rdfs:"http://www.w3.org/2000/01/rdf-schema#"},this.jsonldRepresentation["@id"]=null,this.jsonldRepresentation["@type"]="owl:Thing",this.jsonldRepresentation["rdfs:label"]="",this.jsonldRepresentation["terms:created"]=(new Date).toISOString()+"^^XML:dateTime",this.jsonldRepresentation["terms:modified"]=(new Date).toISOString()+"^^XML:dateTime"},v=n("00e8"),b=n.n(v),m=n("7fed"),y=n.n(m),R=new y.a(b.a),w=function(e){a(n,e);var t=h(n);function n(){var e;return Object(o["a"])(this,n),e=t.call(this),e.visRepresentation={nodes:[],edges:[]},e.jsonldRepresentation={"@context":{terms:"http://purl.org/dc/terms/",rdfs:"http://www.w3.org/2000/01/rdf-schema#",motifs:"http://purl.org/net/wf-motifs#",ipgs:"https://scenaristeur.github.io/ipgs#"},"@id":"","rdfs:label":"","@type":"motifs:DataVisualization","@graph":[]},e}return Object(i["a"])(n,[{key:"setId",value:function(e){this.jsonldRepresentation["@id"]=e,this.jsonldRepresentation["@context"]["@base"]=e}},{key:"addNodeToVis",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.id.startsWith("http")||t.id.startsWith("#")||(console.log(t),void 0==t.label&&(t.label,t["pair:label"]),void 0!=t.label?t.id="#"+t.label.trim().split(" ").join("_"):console.log(t)),n=this.visRepresentation.nodes.findIndex((function(e){return e.id==t.id})),-1===n&&this.visRepresentation.nodes.push(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addEdgeToVis",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.visRepresentation.edges.push(t),n=this.visRepresentation.edges.findIndex((function(e){return e.from==t.from&&e.to==t.to&&e.label==t.label})),-1===n&&this.visRepresentation.edges.push(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"hydrate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("dat",t),"folder"!=t.type){e.next=6;break}return e.next=4,this.hydrateFolder(t.folder);case 4:e.next=9;break;case 6:return console.log("HYDRATE FILE",t),e.next=9,this.hydrateFile(t);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"hydrateFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.jsonldRepresentation=t.json,this.visRepresentation.nodes=[],this.visRepresentation.edges=[],n=this,e.next=6,t.nodes.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.addNodeToVis(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return e.next=8,t.edges.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.addEdgeToVis(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"hydrateFolder",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this,this.visRepresentation.nodes=[],this.visRepresentation.edges=[],e.next=5,n.addNodeToVis({id:t.url,label:t.name,shape:"image",image:"./assets/folder.png",type:"folder"});case 5:return e.next=7,n.addNodeToVis({id:t.parent,label:t.parent,shape:"image",image:"./assets/parentfolder.png",type:"folder"});case 7:return e.next=9,n.addEdgeToVis({from:t.parent,to:t.url,label:"contains"});case 9:return e.next=11,t.folders.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.addNodeToVis({id:r.url,label:r.name,shape:"image",image:"./assets/folder.png",type:"folder"});case 2:return e.next=4,n.addEdgeToVis({from:t.url,to:r.url,label:"contains"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:return e.next=13,t.files.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.addNodeToVis({id:r.url,label:r.name,shape:"image",image:"./assets/document.png",type:"file"});case 2:return e.next=4,n.addEdgeToVis({from:t.url,to:r.url,label:"contains"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getVisRepresentation",value:function(){return console.log("must convert this to vis",this.visRepresentation),this.visRepresentation}},{key:"getJsonldRepresentation",value:function(){return console.log("return jsonld representation",this.jsonldRepresentation),this.jsonldRepresentation}},{key:"log",value:function(){console.log(this)}},{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R.postFile(t,JSON.stringify(this.jsonldRepresentation),"application/json").then((function(e){return console.log(e),e.headers.get("location")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(this),this.jsonldRepresentation["@graph"]=[],this.visRepresentation.nodes.forEach((function(e){var n={};Object.assign(n,e),n["@id"]=e.id,n["@type"]="ipgs:Node",n["rdfs:label"]=e.label,delete n.id,delete n.label,t.jsonldRepresentation["@graph"].push(n)})),this.visRepresentation.edges.forEach((function(e){var n={};Object.assign(n,e),n["@id"]=e.id,n["@type"]="ipgs:Edge",n["ipgs:from"]={"@id":e.from},n["ipgs:to"]={"@id":e.to},n["rdfs:label"]=e.label,delete n.id,delete n.from,delete n.to,delete n.label,t.jsonldRepresentation["@graph"].push(n)})),console.log("SAVE",this.jsonldRepresentation["@id"],this),e.next=7,R.createFile(this.jsonldRepresentation["@id"],JSON.stringify(this.jsonldRepresentation),"application/json").then((function(e){console.log(e)}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save1",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.jsonldRepresentation["@graph"][0]["@graph"]=[],this.jsonldRepresentation["@graph"][1]["@graph"]=[],this.visRepresentation.nodes.forEach((function(e){var n={};Object.assign(n,e),n["@id"]="#"+e.id,n["@type"]="ipgs:Node",n["rdfs:label"]=e.label,delete n.id,delete n.label,t.jsonldRepresentation["@graph"][0]["@graph"].push(n)})),this.visRepresentation.edges.forEach((function(e){var n={};Object.assign(n,e),n["@id"]="#"+e.id,n["@type"]="ipgs:Edge",n["ipgs:from"]={"@id":"#"+e.from},n["ipgs:to"]={"@id":"#"+e.to},n["rdfs:label"]=e.label,delete n.id,delete n.from,delete n.to,delete n.label,t.jsonldRepresentation["@graph"][1]["@graph"].push(n)})),console.log("SAVE",this.jsonldRepresentation["@id"],this),e.next=7,R.createFile(this.jsonldRepresentation["@id"],JSON.stringify(this),"application/json").then((function(e){console.log(e)}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(g)},c740:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").findIndex,i=n("44d2"),s="findIndex",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)}}]);
//# sourceMappingURL=chunk-f8648a74.a741db0e.js.map