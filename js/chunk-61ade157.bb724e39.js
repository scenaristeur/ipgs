(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61ade157"],{"057d":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{attrs:{id:"storage-modal",title:"Storage"}},[null==t.webId?n("SolidLoginButton"):n("div",[n("b-container",[n("b-input-group",{staticClass:"mt-3"},[n("b-form-input",{attrs:{placeholder:"New Graph Name"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.createNew(e)}},model:{value:t.new_graph_name,callback:function(e){t.new_graph_name=e},expression:"new_graph_name"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"info"},on:{click:t.createNew}},[t._v("create")])],1)],1),null!=t.storage?n("b-list-group",{staticClass:"item list-group-item d-flex justify-content-between p-1"},["https://"!=t.folder.parent?n("b-list-group-item",{attrs:{variant:"dark",button:""},on:{click:function(e){return t.readParent(t.folder.parent)}}},[t._v(t._s(t.folder.parent))]):t._e(),t._l(t.folder.folders,(function(e){return n("b-list-group-item",{key:e.url,attrs:{button:""},on:{click:function(n){return t.read(e)}}},[n("div",{staticClass:"input-group",staticStyle:{display:"table",width:"100%"}},[n("b-button",{staticClass:"unstyled-button",attrs:{variant:"outline-warning"}},[n("b-icon-folder-fill")],1),t._v(" "+t._s(e.name)+" "),n("span",{staticStyle:{display:"table-cell",width:"40px"}},[n("b-button",{attrs:{size:"sm",variant:"outline-info"},on:{click:function(n){return n.stopPropagation(),t.see(e)}}},[n("b-icon-eye",{attrs:{variant:"info"},on:{click:function(n){return n.stopPropagation(),t.see(e)}}})],1)],1)],1)])})),t._l(t.folder.files,(function(e){return n("b-list-group-item",{key:e.url,staticClass:"item list-group-item d-flex justify-content-between",attrs:{variant:"light",button:""},on:{click:function(n){return t.read(e)}}},[n("p",{staticClass:"p-0 m-0 flex-grow-1"},[n("b-icon-file-text"),t._v(" "+t._s(e.name))],1)])}))],2):t._e()],1)],1)],1)},o=[],a=(n("d3b7"),n("2ca0"),n("96cf"),n("1da1")),s=n("00e8"),i=n.n(s),u=n("7fed"),l=n.n(u),c=n("d4ec"),p=n("bee2"),d=n("11c1"),h=n("6655"),f=n.n(h),w=n("9b92"),m=new l.a(i.a),b="https://ipgs.solidcommunity.net/public/activity/",g=b+"log.ttl",k=function(){function t(){Object(c["a"])(this,t),this.jsonld={"@context":"https://www.w3.org/ns/activitystreams","@type":"Create","@id":b+"data/"+Object(d["v4"])()+".json",actor:"https://example.net/~mallory",object:{id:"https://example.com/~mallory/note/72",type:"Note",attributedTo:"https://example.net/~mallory",content:"This is a note",published:"2015-02-10T15:04:55Z",to:["https://example.org/~john/"],cc:["https://example.com/~erik/followers","https://www.w3.org/ns/activitystreams#Public"]},published:new Date,to:["https://example.org/~john/"],cc:["https://example.com/~erik/followers","https://www.w3.org/ns/activitystreams#Public"]}}return Object(p["a"])(t,[{key:"publish",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(this.jsonld["@id"]),t.next=3,m.postFile(this.jsonld["@id"],JSON.stringify(this.jsonld),"application/json").then(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),n=e.headers.get("location"),console.log("Activity send",n),t.next=5,f.a[g]["https://www.dublincore.org/specifications/dublin-core/dcmi-terms/hasPart"].add(Object(w["namedNode"])(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),y=new l.a(i.a),v={name:"StorageModal",components:{SolidLoginButton:function(){return n.e("chunk-2d226c5a").then(n.bind(null,"e9a1"))}},props:["network"],data:function(){return{folder:{folders:[],files:[]},url:"",new_graph_name:""}},created:function(){console.log("network",this.network),null!=this.storage&&this.read({url:this.storage,name:this.storage,type:"folder"})},methods:{createNew:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r,o,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("net",t.network),!(t.new_graph_name.length>0)){e.next=19;break}return n=t.url+t.new_graph_name+".json",e.next=5,t.network.create(n);case 5:return r=e.sent,o=r.startsWith("/")?t.storage+r.substring(1):r,t.network.setId(o),e.next=10,t.network.save();case 10:a=new k,a.jsonld.creator=t.webId,a.jsonld.object=t.network.jsonldRepresentation,console.log(a),a.publish(),t.$bvModal.hide("storage-modal"),t.$router.push({path:"network",query:{url:o}}),e.next=20;break;case 19:alert("If you want to create a Graph, you must provide a name !");case 20:case"end":return e.stop()}}),e)})))()},see:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.$router.push({path:"network",query:{url:t.url}});case 1:case"end":return n.stop()}}),n)})))()},read:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("folder"!=t.type){n.next=7;break}return e.url=t.url,n.next=4,y.readFolder(t.url);case 4:e.folder=n.sent,n.next=8;break;case 7:e.$router.push({path:"network",query:{url:t.url}});case 8:case"end":return n.stop()}}),n)})))()},readParent:function(t){this.read({url:t,name:t,type:"folder"})}},watch:{storage:function(){null!=this.storage&&this.read({url:this.storage,name:this.storage,type:"folder"})}},computed:{webId:{get:function(){return this.$store.state.solid.webId},set:function(){}},storage:{get:function(){return this.$store.state.solid.storage},set:function(){}}}},x=v,j=(n("558e"),n("2877")),_=Object(j["a"])(x,r,o,!1,null,null,null);e["default"]=_.exports},"558e":function(t,e,n){"use strict";n("eb4d")},eb4d:function(t,e,n){}}]);
//# sourceMappingURL=chunk-61ade157.bb724e39.js.map