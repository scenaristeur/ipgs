{"version":3,"sources":["webpack:///./src/mixins/networkUtilMixin.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./src/util/Websocket.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"],"names":["fc","FC","auth","methods","arraysEqual","a1","a2","undefined","length","every","o","idx","objectsEqual","o1","o2","Object","keys","p","loadFRAMED","url","readFile","headers","file","jsonFile","JSON","parse","console","log","Array","isArray","parsePossibleJsonld","parseFolder","readFolder","folder","frame","nodes","edges","jsonld","framed","compacted","cont","ldp","load","sockets","includes","push","websocket","Websocket","documentLoaderType","doc","err","alert","json","document","identiques","network","visContext","type","pairToVis","items","map","obj","label","id","info","nodeFromLabel","trim","split","join","color","background","border","shape","edgeFromLabel","data","from","to","jsonToJsonLd","ld","assign","jsonToJsonLd1","forEach","n","n_clone","e","e_clone","jsonToTtl","output","listeInfos","listeComplementaire","i","edge","sujet","propriete","replace","objet","nodeSubj","find","x","nodeObj","sujetLabel","objetLabel","error","sujetWithPrefix","this","validRdf","proprieteWithPrefix","objetWithPrefix","indexOf","typedeProp","indiceTypeDeProp","toLowerCase","uniq_fast","sort","k","l","a","seen","out","len","j","item","string","valid","downloadFile","contenu","content","format","contentType","fileNameToSaveAs","filename","prompt","textFileAsBlob","Blob","downloadLink","createElement","download","innerHTML","navigator","userAgent","href","window","URL","createObjectURL","target","style","display","body","appendChild","event","createEvent","initMouseEvent","dispatchEvent","setTimeout","removeChild","revokeObjectURL","_defineProperty","key","value","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","apply","_objectSpread2","arguments","source","getOwnPropertyDescriptors","defineProperties","$","$find","addToUnscopables","FIND","SKIPS_HOLES","proto","forced","callbackfn","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","STRICT_METHOD","separator","call","toObject","nativeKeys","fails","FAILS_ON_PRIMITIVES","stat","it","callback","test","module","socket","WebSocket","onopen","send","onmessage","msg","slice","newMessage","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","DESCRIPTORS","getOwnPropertyDescriptorModule","createProperty","sham","descriptor","O","f","result","index","nativeGetOwnPropertyDescriptor","FORCED"],"mappings":"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","file":"js/chunk-6a57da5c.8fabfdc3.js","sourcesContent":["import * as jsonld from 'jsonld';\r\nimport ldp from '@/util/ldp.json' // https://gist.github.com/nandana/661d5961b91b78ff50b6\r\n//console.log(jsonldcontext)\r\nimport visContext from '@/util/visContext.json'\r\n\r\nimport auth from 'solid-auth-client';\r\nimport FC from 'solid-file-client'\r\nconst fc = new FC( auth )\r\n\r\nimport Websocket from '@/util/Websocket.js'\r\n// dcm: \"https://www.dublincore.org/specifications/dublin-core/dcmi-terms/\",\r\n// ldp: \"http://www.w3.org/ns/ldp#\",\r\n// json: \"http://www.w3.org/ns/iana/media-types/application/json#\",\r\n\r\n// const context = {\r\n//   \"name\": \"http://schema.org/name\",\r\n//   \"homepage\": {\"@id\": \"http://schema.org/url\", \"@type\": \"@id\"},\r\n//   \"image\": {\"@id\": \"http://schema.org/image\", \"@type\": \"@id\"}\r\n// };\r\n//const context =;\r\n// ALIAS IN JSLONLD https://github.com/schemaorg/schemaorg/issues/854\r\n// \"owl\":\"http://www.w3.org/2002/07/owl#\",\r\n//\"as\":\"https://www.w3.org/ns/activitystreams\",\r\n// \"schema\":\"http://schema.org/\",\r\n// \"life\": \"http://purl.org/vocab/lifecycle/schema#\",\r\n\r\n\r\nexport default {\r\n  methods: {\r\n    //     equalsIgnoreOrder(a, b) {\r\n    // if (a.length !== b.length) return false;\r\n    // const uniqueValues = new Set([...a, ...b]);\r\n    // for (const v of uniqueValues) {\r\n    //   const aCount = a.filter(e => e === v).length;\r\n    //   const bCount = b.filter(e => e === v).length;\r\n    //   if (aCount !== bCount) return false;\r\n    // }\r\n    // return true;\r\n    // },\r\n\r\n    arraysEqual(a1, a2) {\r\n      return a1 != undefined && a2 != undefined && a1.length === a2.length && a1.every((o, idx) => this.objectsEqual(o, a2[idx]));\r\n    },\r\n\r\n    objectsEqual(o1, o2){\r\n      return typeof o1 === 'object' && Object.keys(o1).length > 0\r\n      ? Object.keys(o1).length === Object.keys(o2).length\r\n      && Object.keys(o1).every(p => this.objectsEqual(o1[p], o2[p]))\r\n      : o1 === o2;\r\n    },\r\n    async loadFRAMED(url){\r\n      let file = await fc.readFile(url, {\r\n        headers: {\r\n          'Accept': 'application/ld+json',\r\n          'Content-Type': 'application/ld+json'\r\n        },\r\n        // method: \"POST\",\r\n        // body: JSON.stringify({a: 1, b: 2})\r\n      })\r\n      //  console.log(\"FILE\",this.file)\r\n      let jsonFile = JSON.parse(file)\r\n      console.log(\"jsonFile\",jsonFile)\r\n      if(Array.isArray(jsonFile) && jsonFile.length == 1 && jsonFile[0]['@id'] != undefined ){\r\n        this.parsePossibleJsonld(url, jsonFile[0])\r\n      }else if(Array.isArray(jsonFile) && jsonFile.length > 1){\r\n        this.parseFolder(url)\r\n      }else{\r\n        //  console.log(\"todo\", jsonFile)\r\n        this.parsePossibleJsonld(url, jsonFile)\r\n      }\r\n      //solid folder : jsonFile is array\r\n\r\n    },\r\n\r\n\r\n    async parseFolder(url){\r\n      let folder = await fc.readFolder(url)\r\n      console.log(\"FOLDER\", folder)\r\n    },\r\n\r\n    async parsePossibleJsonld(url, jsonFile){\r\n      console.log(\"possible jsonld\",url, jsonFile)\r\n\r\n\r\n\r\n      // let doc = {\r\n      //   \"@context\": {\r\n      //     \"@vocab\": \"http://example.org/\",\r\n      //     \"contains\": {\"@type\": \"@id\"}\r\n      //   },\r\n      //   \"@graph\": [{\r\n      //     \"@id\": \"http://example.org/library\",\r\n      //     \"@type\": \"Library\",\r\n      //     \"location\": \"Athens\",\r\n      //     \"contains\": \"http://example.org/library/the-republic\"\r\n      //   }, {\r\n      //     \"@id\": \"http://example.org/library/the-republic\",\r\n      //     \"@type\": \"Book\",\r\n      //     \"creator\": \"Plato\",\r\n      //     \"title\": \"The Republic\",\r\n      //     \"contains\": \"http://example.org/library/the-republic#introduction\"\r\n      //   }, {\r\n      //     \"@id\": \"http://example.org/library/the-republic#introduction\",\r\n      //     \"@type\": \"Chapter\",\r\n      //     \"description\": \"An introductory chapter on The Republic.\",\r\n      //     \"title\": \"The Introduction\"\r\n      //   }]\r\n      // }\r\n\r\n\r\n      //compact or frame ???? https://w3c.github.io/json-ld-framing/#framing\r\n      let frame = {\r\n        \"@context\": {\"@vocab\": \"http://example.org/\"},\r\n        \"@type\": \"Library\",\r\n        \"contains\": {\r\n          \"@type\": \"Book\",\r\n          \"contains\": {\r\n            \"@type\": \"Chapter\"\r\n          }\r\n        },\r\n        \"ldp:contains\": {\r\n          \"@type\": \"Book\",\r\n          \"ldp:contains\": {\r\n            \"@type\": \"Chapter\"\r\n          }\r\n        },\r\n        nodes: [],\r\n        edges: []\r\n      }\r\n\r\n      //  const framed = await jsonld.frame(doc, frame);\r\n      const framed = await jsonld.frame(jsonFile, frame);\r\n      console.log(\"FRAMED\", framed)\r\n\r\n      let compacted = {}\r\n      if (jsonFile['@context'] != undefined ){\r\n        let cont = await jsonFile['@context']\r\n        compacted =  await jsonld.compact(url, cont);\r\n      }else{\r\n        compacted = await jsonld.compact(url, ldp['@context']);\r\n      }\r\n      console.log(\"compacted loaded\", compacted)\r\n    },\r\n\r\n\r\n    async load(url){\r\n      console.log(\"LOAD\",url, !this.sockets.includes(url))\r\n      if (!this.sockets.includes(url)){\r\n        this.sockets.push(url)\r\n        let websocket = new Websocket(url, this.load)\r\n        console.log(websocket)\r\n        console.log(\"SOCKETS\",this.sockets)\r\n      }\r\n      console.log(\"LOAD 2\",url, !this.sockets.includes(url))\r\n\r\n\r\n      // let file = await fc.readFile(url, {\r\n      //   headers: {\r\n      //     'Accept': 'application/ld+json',\r\n      //     'Content-Type': 'application/ld+json'\r\n      //   },\r\n      //   // method: \"POST\",\r\n      //   // body: JSON.stringify({a: 1, b: 2})\r\n      // })\r\n      // //  console.log(\"FILE\",this.file)\r\n      // let jsonFile = JSON.parse(file)\r\n      // console.log(\"jsonFile\",jsonFile)\r\n      //\r\n      //\r\n      //\r\n      // let folder = await fc.readFolder(url)\r\n      // console.log(\"FOLDER\", folder)\r\n\r\n\r\n\r\n\r\n      // FIRST TRY TO LOAD JSONLD\r\n      let documentLoaderType = 'xhr'\r\n      await jsonld.useDocumentLoader(documentLoaderType/*, options*/);\r\n      //  const iri = url;\r\n      let doc = {}\r\n      try{\r\n        doc = await jsonld.documentLoader(url, function(err) {\r\n          if(err) {\r\n            console.log(err)\r\n          }\r\n        })\r\n      }catch(e){\r\n        alert(e)\r\n      }\r\n      //      console.log(doc)\r\n      let json = JSON.parse(doc.document)\r\n      console.log(\"JSON\",json)\r\n      this.json =json\r\n\r\n\r\n\r\n      if(json.nodes != undefined && Array.isArray(json.nodes) && json.edges != undefined && Array.isArray(json.edges)){\r\n        let identiques = this.arraysEqual(this.json.nodes, this.network.nodes) && this.arraysEqual(this.json.edges, this.network.edges)\r\n        console.log(\"identiques\",identiques)\r\n        if (identiques != true && this.url != undefined){ //false or undefined\r\n          this.network.nodes = json.nodes\r\n          this.network.edges = json.edges\r\n        }\r\n        return json\r\n      }else{\r\n        // try jsonld\r\n\r\n        let compacted = {}\r\n        if (json['@context'] != undefined ){\r\n          let cont = await json['@context']\r\n          compacted = await jsonld.compact(url, cont);\r\n        }else{\r\n          compacted = await jsonld.compact(url, visContext);\r\n        }\r\n\r\n\r\n        console.log(\"compacted loaded\", compacted)\r\n\r\n        if (compacted.type == 'vis'){\r\n          let identiques = this.arraysEqual(this.json.nodes, this.network.nodes) && this.arraysEqual(this.json.edges, this.network.edges)\r\n          console.log(\"identiques\",identiques)\r\n          if (identiques == false && this.url != undefined){\r\n            this.network.nodes = []\r\n            this.network.edges = []\r\n            Array.isArray(compacted.nodes) ? this.network.nodes =  compacted.nodes : this.network.nodes.push(compacted.nodes)\r\n            Array.isArray(compacted.edges) ? this.network.edges =  compacted.edges : this.network.edges.push(compacted.edges)\r\n          }\r\n        }else if(\r\n          compacted[\"@context\"] ==\"https://data.virtual-assembly.org/context.json\"\r\n        ){\r\n          compacted[\"@context\"] = [compacted[\"@context\"]]\r\n          compacted[\"@base\"] = url\r\n          console.log(compacted)\r\n          this.network = this.pairToVis(compacted)\r\n        }\r\n        console.log(this.network)\r\n        return compacted\r\n      }\r\n    },\r\n\r\n    pairToVis(compacted){\r\n      let nodes = [], edges = []\r\n      console.log(\"base\",compacted[\"@base\"] )\r\n      console.log(compacted[\"ldp:contains\"])\r\n      let items = compacted[\"ldp:contains\"].map(obj=> ({ ...obj, label: obj.id }))\r\n\r\n      Array.isArray(items) ? nodes = items : console.info(\"i cant deal with\", items)\r\n      return {nodes: nodes, edges: edges}\r\n    },\r\n\r\n\r\n\r\n    nodeFromLabel(label) {\r\n      return {id: \"#\"+label.trim().split(' ').join('_'),\r\n      label: label,\r\n      color: {  background: '#D2E5FF', border: '#2B7CE9'},\r\n      shape: 'ellipse'}\r\n    },\r\n    edgeFromLabel(data){\r\n      return { from: data.from, to: data.to, label: data.label}\r\n    },\r\n\r\n\r\n    async jsonToJsonLd(json){\r\n      //  let compacted = await jsonld.compact(json, context);\r\n      let ld = {}\r\n      Object.assign(ld, json)\r\n      ld['@context'] = visContext\r\n      ld.type = 'vis'\r\n      return ld\r\n    },\r\n\r\n    async jsonToJsonLd1(json){\r\n      let compacted = await jsonld.compact(json, visContext);\r\n      compacted['@id'] = ''\r\n      compacted['@graph'] = []\r\n      json.nodes.forEach(async function(n) {\r\n        let n_clone = {}\r\n        Object.assign(n_clone, n)\r\n        n_clone['@type'] = 'ipgs:Node'\r\n        compacted['@graph'].push(n_clone)\r\n      });\r\n\r\n      json.edges.forEach(async function(e) {\r\n        let e_clone = {}\r\n        Object.assign(e_clone, e)\r\n        e_clone['@type'] = 'ipgs:Edge',\r\n        e_clone['from'] = {'@id': e.from}\r\n        e_clone['to'] = {'@id': e.to}\r\n        // delete e_clone.from\r\n        // delete e_clone.to\r\n        compacted['@graph'].push(e_clone)\r\n      });\r\n\r\n      return compacted\r\n    },\r\n\r\n\r\n    jsonToTtl(json) {\r\n      var output = \"@prefix : <http://smag0.blogspot.fr/spoggy#> . \\n\";\r\n      output += \"@prefix owl: <http://www.w3.org/2002/07/owl#> . \\n\";\r\n      output += \"@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> . \\n\";\r\n      output += \"@prefix xml: <http://www.w3.org/XML/1998/namespace> . \\n\";\r\n      output += \"@prefix xsd: <http://www.w3.org/2001/XMLSchema#> . \\n\";\r\n      output += \"@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> . \\n\";\r\n      output += \"@prefix smag: <http://smag0.blogspot.fr/spoggy#> . \\n\";\r\n      output += \"@base <http://smag0.blogspot.fr/spoggy> . \\n\";\r\n      //output += \"<http://smag0.blogspot.fr/spoggy> rdf:type owl:Ontology ;  \\n\";\r\n      //output += \"                    owl:versionIRI <http://smag0.blogspot.fr/spoggy/1.0.0> . \\n\";\r\n      output += \" \\n\";\r\n      //output += \"owl:Class rdfs:subClassOf owl:Thing .  \\n\";\r\n\r\n      var listeInfos = new Array();\r\n      var listeComplementaire = new Array();\r\n\r\n      for (var i = 0; i < json.edges.length; i++) {\r\n        var edge = json.edges[i];\r\n        var sujet = edge.from;\r\n        var propriete = edge.label.replace(/\\s/g, \"_\");\r\n        var objet = edge.to;\r\n\r\n        //  console.log(objet);\r\n        let nodeSubj = json.nodes.find(x => x.id==sujet);\r\n        let nodeObj = json.nodes.find(x => x.id==objet);\r\n        // AJOUTER EVENTUELLEMENT LA RECUPERATION DE SHAPE, COLOR, pour l'export RDF\r\n        var sujetLabel = nodeSubj.label.replace(/\\n/g, \"\");\r\n        try{\r\n          var objetLabel = nodeObj.label.replace(/\\n/g, \"\");\r\n        }catch(error)\r\n        {\r\n          //  console.error(\"ERREUR NON TRAITEE\")\r\n          //  console.error(error)\r\n\r\n        }\r\n        var sujetWithPrefix = this.validRdf(sujet);\r\n        var proprieteWithPrefix = this.validRdf(propriete);\r\n        var objetWithPrefix = this.validRdf(objet);\r\n\r\n        if (sujetWithPrefix.indexOf(':') == -1) { // ne contient pas de ':'\r\n          sujetWithPrefix = '_:' + sujetWithPrefix; // blanknode\r\n        }\r\n\r\n        if (proprieteWithPrefix.indexOf(':') == -1) { // ne contient pas de ':'\r\n          proprieteWithPrefix = ':' + proprieteWithPrefix; // propriete utilisant \"@base <http://smag0.blogspot.fr/spoggy>\"\r\n        }\r\n\r\n        if (objetWithPrefix.indexOf(':') == -1) { // ne contient pas de ':'\r\n          objetWithPrefix = '_:' + objetWithPrefix;  // blanknode\r\n        }\r\n\r\n        var typedeProp = [\"owl:AnnotationProperty\", \"owl:ObjectProperty\", \"owl:DatatypeProperty\"];\r\n        var indiceTypeDeProp = 1; // -1 pour ne pas ajouter la prop, sinon par defaut en annotationProperty, 1 pour Object, 2 pour Datatype --> revoir pour les datatypes\r\n\r\n        if (\r\n          (proprieteWithPrefix == \"type\") ||\r\n          (proprieteWithPrefix == \":type\") ||\r\n          (proprieteWithPrefix == \"rdf:type\") ||\r\n          (proprieteWithPrefix == \":a\") ||\r\n          (proprieteWithPrefix == \":est_un\") ||\r\n          (proprieteWithPrefix == \":est_une\") ||\r\n          (proprieteWithPrefix == \":is_a\")\r\n        ) {\r\n          proprieteWithPrefix = \"rdf:type\";\r\n          listeComplementaire.push(objetWithPrefix + \" rdf:type owl:Class . \\n\");\r\n          indiceTypeDeProp = 1;\r\n        } else if ((proprieteWithPrefix == \"subClassOf\") || (proprieteWithPrefix == \":subClassOf\") || (proprieteWithPrefix == \"rdfs:subClassOf\")) {\r\n          proprieteWithPrefix = \"rdfs:subClassOf\";\r\n        }\r\n        else if ((proprieteWithPrefix == \"sameAs\") || (proprieteWithPrefix == \":sameAs\")) {\r\n          proprieteWithPrefix = \"owl:sameAs\";\r\n          indiceTypeDeProp = -1;\r\n        }\r\n        else if (\r\n          (proprieteWithPrefix.toLowerCase() == \"ispartof\") ||\r\n          (proprieteWithPrefix.toLowerCase() == \"partof\") ||\r\n          (proprieteWithPrefix.toLowerCase() == \":partof\") ||\r\n          (proprieteWithPrefix.toLowerCase() == \":ispartof\")) {\r\n            proprieteWithPrefix = \"smag:partOf\";\r\n            indiceTypeDeProp = 1;\r\n          } else if (\r\n            (proprieteWithPrefix.toLowerCase() == \"comment\") ||\r\n            (proprieteWithPrefix.toLowerCase() == \"commentaire\") ||\r\n            (proprieteWithPrefix.toLowerCase() == \"//\") ||\r\n            (proprieteWithPrefix.toLowerCase() == \"#\")\r\n          ) {\r\n            proprieteWithPrefix = \"rdfs:comment\";\r\n            indiceTypeDeProp = -1;\r\n          }\r\n          if (indiceTypeDeProp >= 0) {\r\n            listeComplementaire.push(proprieteWithPrefix + \" rdf:type \" + typedeProp[indiceTypeDeProp] + \" . \\n\");\r\n          }\r\n          var data = sujetWithPrefix + \" \" + proprieteWithPrefix + \" \" + objetWithPrefix + \" . \\n\";\r\n          data += sujetWithPrefix + \" \" + \"rdfs:label \\\"\" + sujetLabel + \"\\\" . \\n\";\r\n          data += objetWithPrefix + \" \" + \"rdfs:label \\\"\" + objetLabel + \"\\\" . \\n\";\r\n          listeInfos[i] = data;\r\n          //  console.log(data);\r\n        }\r\n        //suppression des doublons\r\n        listeInfos = this.uniq_fast(listeInfos.sort());\r\n        listeComplementaire = this.uniq_fast(listeComplementaire.sort());\r\n        // console.log (listeInfos);\r\n        for (var k = 0; k < listeInfos.length; k++) {\r\n          output = output + listeInfos[k];\r\n        }\r\n        for (var l = 0; l < listeComplementaire.length; l++) {\r\n          output = output + listeComplementaire[l];\r\n        }\r\n        return output\r\n      },\r\n      uniq_fast(a) {\r\n        var seen = {};\r\n        var out = [];\r\n        var len = a.length;\r\n        var j = 0;\r\n        for(var i = 0; i < len; i++) {\r\n          var item = a[i];\r\n          if(seen[item] !== 1) {\r\n            seen[item] = 1;\r\n            out[j++] = item;\r\n          }\r\n        }\r\n        return out;\r\n      },\r\n\r\n      validRdf(string){\r\n        // A REVOIR\r\n        //  console.log(string)\r\n        //  console.log(network.body.data.nodes.get(string));\r\n        //  console.log(\"nettoyage \"+ string);\r\n        // transformer le noeud en noeud rdf (resource ou literal)\r\n        // ajouter la construction du noeud, son uri, prefix, localname, type...\r\n        var valid = {};\r\n        valid.type = \"uri\";\r\n        if (string.indexOf(\" \") !== -1){\r\n          valid.type = \"literal\";\r\n        }else{\r\n          /*\r\n          replaceAll(string, \" \",\"_\");\r\n          replaceAll(string, \"\",\"_\");\r\n          replaceAll(string, \",\",\"_\");\r\n          replaceAll(string, \";\",\"_\");\r\n          replaceAll(string, \" \",\"_\");*/\r\n        }\r\n\r\n        return string;\r\n      },\r\n\r\n\r\n\r\n      downloadFile(){\r\n        var contenu = this.content\r\n        var format = this.format;\r\n        //  console.log(contenu, format)\r\n        var contentType = \"\";\r\n        var fileNameToSaveAs = \"\"\r\n        var filename = prompt(\"Choose a name for the exported file :\", \"Spoggy\");\r\n        if (filename == null || filename == \"\") {\r\n          return;\r\n        }\r\n\r\n        switch (format) {\r\n          case 'json':\r\n          contentType = 'application/json';\r\n          fileNameToSaveAs = filename + \".json\"; //Date.now() +\r\n          break;\r\n          case 'ttl':\r\n          contentType = 'text/turtle';\r\n          fileNameToSaveAs = filename + \".ttl\"; //Date.now() +\r\n          break;\r\n          case 'jsonld':\r\n          contentType = 'application/ld+json';\r\n          fileNameToSaveAs = filename + \".jsonld\"; //Date.now() +\r\n          break;\r\n          default:\r\n          alert('Format de fichier non reconnu', format);\r\n        }\r\n        var textFileAsBlob = new Blob([contenu], { type: contentType }\r\n        );\r\n        var downloadLink = document.createElement(\"a\");\r\n        downloadLink.download = fileNameToSaveAs;\r\n        downloadLink.innerHTML = \"Download File\";\r\n        if(navigator.userAgent.indexOf(\"Chrome\") != -1) {\r\n          downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\r\n        } else {\r\n          downloadLink.href = window.URL.createObjectURL(textFileAsBlob);\r\n          downloadLink.target=\"_blank\";\r\n          downloadLink.style.display = \"none\";\r\n          document.body.appendChild(downloadLink);\r\n        }\r\n        var event = document.createEvent(\"MouseEvents\");\r\n        event.initMouseEvent(\r\n          \"click\", true, false, window, 0, 0, 0, 0, 0\r\n          , false, false, false, false, 0, null\r\n        );\r\n        downloadLink.dispatchEvent(event);\r\n        setTimeout(function(){\r\n          document.body.removeChild(downloadLink);\r\n          window.URL.revokeObjectURL(downloadLink);\r\n        }, 1000);\r\n      },\r\n    },\r\n\r\n  }\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","\r\nexport default class Websocket {\r\n  constructor(url, callback){\r\n    this.url = url\r\n    this.callback = callback\r\n    console.log(this.url)\r\n    this.test(this.url)\r\n  }\r\n\r\n  test(url){\r\n    let module = this\r\n    var websocket = \"wss://\"+url.split('/')[2];\r\n    let socket = new WebSocket(websocket, ['solid.0.1.0']);\r\n    //  var socket = new WebSocket('wss://ipgs.solidcommunity.net/', ['solid-0.1']);\r\n    //  var socket = new WebSocket('wss://solidweb.org');\r\n\r\n    console.log(socket)\r\n    socket.onopen = function() {\r\n      console.log(\"socket open\")\r\n      this.send('sub '+url);\r\n      console.log(\"socket sub to \"+url)\r\n    };\r\n    socket.onmessage = function(msg) {\r\n      //  console.log(\"message\",msg)\r\n      if (msg.data && msg.data.slice(0, 3) === 'pub') {\r\n        //  console.log(msg)\r\n        console.log(msg.data)\r\n        module.newMessage(msg.data.split('pub ')[1])\r\n        // resource updated, refetch resource\r\n      }\r\n    };\r\n  }\r\n\r\n  newMessage(url){\r\n    console.log(\"NEW MESSAGE\", url)\r\n    this.callback(url)\r\n    //this.store.commit('ipgs/setWebsocketMesssage', url)\r\n  }\r\n\r\n\r\n\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n"],"sourceRoot":""}