(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19d65fdb"],{"0538":function(e,t,n){"use strict";var r=n("1c0b"),i=n("861d"),o=[].slice,a={},s=function(e,t,n){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),a=function(){var r=n.concat(o.call(arguments));return this instanceof a?s(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(a.prototype=t.prototype),a}},"2ca0":function(e,t,n){"use strict";var r=n("23e7"),i=n("06cf").f,o=n("50c4"),a=n("5a34"),s=n("1d80"),c=n("ab13"),u=n("c430"),l="".startsWith,p=Math.min,d=c("startsWith"),f=!u&&!d&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!f&&!d},{startsWith:function(e){var t=String(s(this));a(e);var n=o(p(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return l?l.call(t,r,n):t.slice(n,n+r.length)===r}})},"4ae1":function(e,t,n){var r=n("23e7"),i=n("d066"),o=n("1c0b"),a=n("825a"),s=n("861d"),c=n("7c73"),u=n("0538"),l=n("d039"),p=i("Reflect","construct"),d=l((function(){function e(){}return!(p((function(){}),[],e)instanceof e)})),f=!l((function(){p((function(){}))})),h=d||f;r({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!d)return p(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var i=n.prototype,l=c(s(i)?i:Object.prototype),h=Function.apply.call(e,l,t);return s(h)?h:l}})},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"7e22":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n("1da1"),i=n("d4ec"),o=n("bee2");function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}n("4ae1"),n("3410");function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var l=n("7037"),p=n.n(l);function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return!t||"object"!==p()(t)&&"function"!==typeof t?d(e):t}function h(e){var t=u();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}n("96cf"),n("2ca0"),n("a15b"),n("1276"),n("ac1f"),n("498a"),n("c740"),n("159b"),n("b0c0");var g=function e(){Object(i["a"])(this,e),this.jsonldRepresentation={},this.jsonldRepresentation["@context"]={owl:"http://www.w3.org/2002/07/owl#",terms:"http://purl.org/dc/terms/",rdfs:"http://www.w3.org/2000/01/rdf-schema#"},this.jsonldRepresentation["@id"]=null,this.jsonldRepresentation["@type"]="owl:Thing",this.jsonldRepresentation["rdfs:label"]="",this.jsonldRepresentation["terms:created"]=(new Date).toISOString()+"^^XML:dateTime",this.jsonldRepresentation["terms:modified"]=(new Date).toISOString()+"^^XML:dateTime"},v=n("00e8"),b=n.n(v),m=n("7fed"),w=n.n(m),y=new w.a(b.a),R=function(e){s(n,e);var t=h(n);function n(){var e;return Object(i["a"])(this,n),e=t.call(this),e.visRepresentation={nodes:[],edges:[]},e.jsonldRepresentation={"@context":{terms:"http://purl.org/dc/terms/",rdfs:"http://www.w3.org/2000/01/rdf-schema#",motifs:"http://purl.org/net/wf-motifs#",ipgs:"https://scenaristeur.github.io/ipgs#"},"@id":"","rdfs:label":"","@type":"motifs:DataVisualization","@graph":[]},e}return Object(o["a"])(n,[{key:"setId",value:function(e){this.jsonldRepresentation["@id"]=e,this.jsonldRepresentation["@context"]["@base"]=e}},{key:"addNodeToVis",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.id.startsWith("http")||t.id.startsWith("#")||(console.log(t),void 0==t.label&&(t.label,t["pair:label"]),void 0!=t.label?t.id="#"+t.label.trim().split(" ").join("_"):console.log(t)),n=this.visRepresentation.nodes.findIndex((function(e){return e.id==t.id})),-1===n&&this.visRepresentation.nodes.push(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addEdgeToVis",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.visRepresentation.edges.push(t),n=this.visRepresentation.edges.findIndex((function(e){return e.from==t.from&&e.to==t.to&&e.label==t.label})),-1===n&&this.visRepresentation.edges.push(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"hydrate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("dat",t),"folder"!=t.type){e.next=6;break}return e.next=4,this.hydrateFolder(t.folder);case 4:e.next=9;break;case 6:return console.log("HYDRATE FILE",t),e.next=9,this.hydrateFile(t);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"hydrateFile",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.jsonldRepresentation=t.json,this.visRepresentation.nodes=[],this.visRepresentation.edges=[],n=this,e.next=6,t.nodes.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.addNodeToVis(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:return e.next=8,t.edges.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.addEdgeToVis(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"hydrateFolder",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this,this.visRepresentation.nodes=[],this.visRepresentation.edges=[],e.next=5,n.addNodeToVis({id:t.url,label:t.name,shape:"image",image:"./assets/folder.png",type:"folder"});case 5:return e.next=7,n.addNodeToVis({id:t.parent,label:t.parent,shape:"image",image:"./assets/parentfolder.png",type:"folder"});case 7:return e.next=9,n.addEdgeToVis({from:t.parent,to:t.url,label:"contains"});case 9:return e.next=11,t.folders.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.addNodeToVis({id:r.url,label:r.name,shape:"image",image:"./assets/folder.png",type:"folder"});case 2:return e.next=4,n.addEdgeToVis({from:t.url,to:r.url,label:"contains"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 11:return e.next=13,t.files.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.addNodeToVis({id:r.url,label:r.name,shape:"image",image:"./assets/document.png",type:"file"});case 2:return e.next=4,n.addEdgeToVis({from:t.url,to:r.url,label:"contains"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getVisRepresentation",value:function(){return console.log("must convert this to vis",this.visRepresentation),this.visRepresentation}},{key:"getJsonldRepresentation",value:function(){return console.log("return jsonld representation",this.jsonldRepresentation),this.jsonldRepresentation}},{key:"log",value:function(){console.log(this)}},{key:"create",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y.postFile(t,JSON.stringify(this.jsonldRepresentation),"application/json").then((function(e){return console.log(e),e.headers.get("location")}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(this),this.jsonldRepresentation["@graph"]=[],this.visRepresentation.nodes.forEach((function(e){var n={};Object.assign(n,e),n["@id"]=e.id,n["@type"]="ipgs:Node",n["rdfs:label"]=e.label,delete n.id,delete n.label,t.jsonldRepresentation["@graph"].push(n)})),this.visRepresentation.edges.forEach((function(e){var n={};Object.assign(n,e),n["@id"]=e.id,n["@type"]="ipgs:Edge",n["ipgs:from"]={"@id":e.from},n["ipgs:to"]={"@id":e.to},n["rdfs:label"]=e.label,delete n.id,delete n.from,delete n.to,delete n.label,t.jsonldRepresentation["@graph"].push(n)})),console.log("SAVE",this.jsonldRepresentation["@id"],this),e.next=7,y.createFile(this.jsonldRepresentation["@id"],JSON.stringify(this.jsonldRepresentation),"application/json").then((function(e){console.log(e)}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save1",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.jsonldRepresentation["@graph"][0]["@graph"]=[],this.jsonldRepresentation["@graph"][1]["@graph"]=[],this.visRepresentation.nodes.forEach((function(e){var n={};Object.assign(n,e),n["@id"]="#"+e.id,n["@type"]="ipgs:Node",n["rdfs:label"]=e.label,delete n.id,delete n.label,t.jsonldRepresentation["@graph"][0]["@graph"].push(n)})),this.visRepresentation.edges.forEach((function(e){var n={};Object.assign(n,e),n["@id"]="#"+e.id,n["@type"]="ipgs:Edge",n["ipgs:from"]={"@id":"#"+e.from},n["ipgs:to"]={"@id":"#"+e.to},n["rdfs:label"]=e.label,delete n.id,delete n.from,delete n.to,delete n.label,t.jsonldRepresentation["@graph"][1]["@graph"].push(n)})),console.log("SAVE",this.jsonldRepresentation["@id"],this),e.next=7,y.createFile(this.jsonldRepresentation["@id"],JSON.stringify(this),"application/json").then((function(e){console.log(e)}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),n}(g)},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/,c="name";r&&!(c in o)&&i(o,c,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},bee2:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},c740:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").findIndex,o=n("44d2"),a="findIndex",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},d4ec:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=chunk-19d65fdb.84bda77a.js.map