(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56ba6d26"],{"03005":function(e,t,r){"use strict";const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a=n+"langString",i="http://www.w3.org/2001/XMLSchema#string",o="NamedNode",s="BlankNode",u="Literal",c="DefaultGraph",l={};function d(e,t){return e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType&&(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value&&(e.object.termType!==u||e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value))}(()=>{const e="(?:<([^:]+:[^>]*)>)",t="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",r=t+"_",n=r+"0-9-·̀-ͯ‿-⁀",a="(_:(?:["+r+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",i=a,o='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',s="(?:\\^\\^"+e+")",u="(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))",c="(?:"+o+"(?:"+s+"|"+u+")?)",d="[ \\t]+",p="[ \\t]*",f="(?:"+e+"|"+i+")"+d,h=e+d,y="(?:"+e+"|"+i+"|"+c+")"+p,v="(?:\\.|(?:(?:"+e+"|"+i+")"+p+"\\.))";l.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,l.empty=new RegExp("^"+p+"$"),l.quad=new RegExp("^"+p+f+h+y+v+p+"$")})(),e.exports=class e{static parse(e){const t=[],r={},n=e.split(l.eoln);let p=0;for(const f of n){if(p++,l.empty.test(f))continue;const e=f.match(l.quad);if(null===e)throw new Error("N-Quads parse error on line "+p+".");const n={subject:null,predicate:null,object:null,graph:null};if(void 0!==e[1]?n.subject={termType:o,value:e[1]}:n.subject={termType:s,value:e[2]},n.predicate={termType:o,value:e[3]},void 0!==e[4]?n.object={termType:o,value:e[4]}:void 0!==e[5]?n.object={termType:s,value:e[5]}:(n.object={termType:u,value:void 0,datatype:{termType:o}},void 0!==e[7]?n.object.datatype.value=e[7]:void 0!==e[8]?(n.object.datatype.value=a,n.object.language=e[8]):n.object.datatype.value=i,n.object.value=y(e[6])),void 0!==e[9]?n.graph={termType:o,value:e[9]}:void 0!==e[10]?n.graph={termType:s,value:e[10]}:n.graph={termType:c,value:""},n.graph.value in r){let e=!0;const a=r[n.graph.value];for(const t of a)if(d(t,n)){e=!1;break}e&&(a.push(n),t.push(n))}else r[n.graph.value]=[n],t.push(n)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(e.serializeQuad(n));return r.sort().join("")}static serializeQuad(e){const t=e.subject,r=e.predicate,n=e.object,u=e.graph;let c="";return t.termType===o?c+=`<${t.value}>`:c+=""+t.value,c+=` <${r.value}> `,n.termType===o?c+=`<${n.value}>`:n.termType===s?c+=n.value:(c+=`"${f(n.value)}"`,n.datatype.value===a?n.language&&(c+="@"+n.language):n.datatype.value!==i&&(c+=`^^<${n.datatype.value}>`)),u.termType===o?c+=` <${u.value}>`:u.termType===s&&(c+=" "+u.value),c+=" .\n",c}static legacyDatasetToQuads(e){const t=[],r={"blank node":s,IRI:o,literal:u};for(const n in e){const l=e[n];l.forEach(e=>{const l={};for(const t in e){const n=e[t],s={termType:r[n.type],value:n.value};s.termType===u&&(s.datatype={termType:o},"datatype"in n&&(s.datatype.value=n.datatype),"language"in n?("datatype"in n||(s.datatype.value=a),s.language=n.language):"datatype"in n||(s.datatype.value=i)),l[t]=s}l.graph="@default"===n?{termType:c,value:""}:{termType:n.startsWith("_:")?s:o,value:n},t.push(l)})}return t}};const p=/["\\\n\r]/g;function f(e){return e.replace(p,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}const h=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function y(e){return e.replace(h,(function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")}))}},"036f":function(e,t,r){"use strict";r("60174");const n=self.crypto||self.msCrypto;e.exports=class{constructor(e){if(!n||!n.subtle)throw new Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else{if("sha1"!==e)throw new Error(`Unsupport algorithm "${e}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content),t=new Uint8Array(await n.subtle.digest(this.algorithm,e));let r="";for(let n=0;n<t.length;++n)r+=t[n].toString(16).padStart(2,"0");return r}}},"037b":function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Feature=void 0,t.Feature=n,function(e){e["collections"]="COLLECTIONS",e["defaultGraphType"]="DEFAULT_GRAPH_TYPE",e["equalsMethod"]="EQUALS_METHOD",e["id"]="ID",e["identity"]="IDENTITY",e["reversibleId"]="REVERSIBLE_ID",e["variableType"]="VARIABLE_TYPE"}(n||(t.Feature=n={}))},"03fd":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.isDefaultGraph=g,t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),o=n(r("3c96")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("33e3")),p=r("43f5"),f=r("5c0f");function h(e){var t=y();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,s.default)(r,e);var t=h(r);function r(){var e;return(0,a.default)(this,r),e=t.call(this,""),(0,l.default)((0,o.default)(e),"value",""),(0,l.default)((0,o.default)(e),"termType",p.DefaultGraphTermType),(0,l.default)((0,o.default)(e),"uri",f.defaultGraphURI),e}return(0,i.default)(r,[{key:"toCanonical",value:function(){return this.value}},{key:"toString",value:function(){return"DefaultGraph"}}]),r}(d.default);function g(e){return!!e&&e.termType===p.DefaultGraphTermType}t.default=v},"05ca":function(e,t,r){"use strict";e.exports=class e{constructor(e,t=new Map,r=0){this.prefix=e,this._existing=t,this.counter=r}clone(){const{prefix:t,_existing:r,counter:n}=this;return new e(t,new Map(r),n)}getId(e){const t=e&&this._existing.get(e);if(t)return t;const r=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,r),r}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}},"073a":function(e,t,r){"use strict";function n(e){return"string"===typeof e?e:e.value}Object.defineProperty(t,"__esModule",{value:!0}),t.termValue=n},"085a":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("7037")),i=n(r("970b")),o=n(r("5bc3")),s=n(r("3c96")),u=n(r("ed6d")),c=n(r("6b58")),l=n(r("36c6")),d=n(r("9523")),p=n(r("21b4")),f=n(r("606c")),h=n(r("33e3")),y=r("43f5"),v=r("ab32"),g=n(r("4df7"));function m(e){var t=b();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=function(e){(0,u.default)(r,e);var t=m(r);function r(e,n,a){var o;return(0,i.default)(this,r),o=t.call(this,e),(0,d.default)((0,s.default)(o),"termType",y.LiteralTermType),(0,d.default)((0,s.default)(o),"classOrder",p.default.Literal),(0,d.default)((0,s.default)(o),"datatype",g.default.string),(0,d.default)((0,s.default)(o),"isVar",0),(0,d.default)((0,s.default)(o),"language",""),n?(o.language=n,o.datatype=g.default.langString):o.datatype=a?f.default.fromValue(a):g.default.string,o}return(0,o.default)(r,[{key:"copy",value:function(){return new r(this.value,this.lang,this.datatype)}},{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value&&this.language===e.language&&(!this.datatype&&!e.datatype||this.datatype&&this.datatype.equals(e.datatype)))}},{key:"toNT",value:function(){return r.toNT(this)}},{key:"toString",value:function(){return""+this.value}},{key:"lang",get:function(){return this.language},set:function(e){this.language=e||""}}],[{key:"toNT",value:function(e){if("number"===typeof e.value)return""+e.value;if("string"!==typeof e.value)throw new Error("Value of RDF literal is not string or number: "+e.value);var t=e.value;return t=t.replace(/\\/g,"\\\\"),t=t.replace(/\"/g,'\\"'),t=t.replace(/\n/g,"\\n"),t='"'+t+'"',e.language?t+="@"+e.language:e.datatype.equals(g.default.string)||(t+="^^"+e.datatype.toCanonical()),t}},{key:"fromBoolean",value:function(e){var t=e?"1":"0";return new r(t,null,g.default.boolean)}},{key:"fromDate",value:function(e){if(!(e instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");var t=function(e){return(""+(100+e)).slice(1,3)},n=e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z";return new r(n,null,g.default.dateTime)}},{key:"fromNumber",value:function(e){if("number"!==typeof e)throw new TypeError("Invalid argument to Literal.fromNumber()");var t,n=e.toString();return t=n.indexOf("e")<0&&Math.abs(e)<=Number.MAX_SAFE_INTEGER?Number.isInteger(e)?g.default.integer:g.default.decimal:g.default.double,new r(n,null,t)}},{key:"fromValue",value:function(e){if((0,v.isLiteral)(e))return e;switch((0,a.default)(e)){case"object":if(e instanceof Date)return r.fromDate(e);case"boolean":return r.fromBoolean(e);case"number":return r.fromNumber(e);case"string":return new r(e)}throw new Error("Can't make literal from "+e+" of type "+(0,a.default)(e))}}]),r}(h.default);t.default=w},"089a":function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("970b")),o=a(r("5bc3")),s=a(r("3c96")),u=a(r("ed6d")),c=a(r("6b58")),l=a(r("36c6")),d=a(r("9523")),p=a(r("21b4")),f=a(r("33e3")),h=r("43f5"),y=n(r("3897"));function v(e){var t=g();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){(0,u.default)(r,e);var t=v(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.default)(this,r),e=t.call(this,n),(0,d.default)((0,s.default)(e),"termType",h.VariableTermType),(0,d.default)((0,s.default)(e),"base","varid:"),(0,d.default)((0,s.default)(e),"classOrder",p.default.Variable),(0,d.default)((0,s.default)(e),"isVar",1),(0,d.default)((0,s.default)(e),"uri",void 0),e.base="varid:",e.uri=y.join(n,e.base),e}return(0,o.default)(r,[{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value)}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(e){var t;return null!=(t=e[this.toNT()])?t:this}},{key:"toString",value:function(){return r.toString(this)}}],[{key:"toString",value:function(e){return e.uri.slice(0,e.base.length)===e.base?"?".concat(e.uri.slice(e.base.length)):"?".concat(e.uri)}}]),r}(f.default);t.default=m},"0bc7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"0c02":function(e,t,r){"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},"0d60":function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var i=a(r("f6d5")),o=a(r("e1b7")),s=r("dae0"),u=a(r("dfa6")),c=r("f51a"),l=a(r("c2f2")),d=a(r("15a8")),p=n(r("4b68")),f=r("43f5");function h(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text/turtle",a=arguments.length>4?arguments[4]:void 0;n=n||f.TurtleContentType,n=n.split(";")[0];try{if(n===f.N3ContentType||n===f.TurtleContentType){var y=(0,u.default)(t,t,r,r,null,null,"",null);y.loadBuf(e),m()}else if(n===f.RDFXMLContentType){var v=new l.default(t);v.parse(p.parseXML(e),r,t.sym(r)),m()}else if(n===f.XHTMLContentType)(0,c.parseRDFaDOM)(p.parseXML(e,{contentType:f.XHTMLContentType}),t,r),m();else if(n===f.HTMLContentType)(0,c.parseRDFaDOM)(p.parseXML(e,{contentType:f.HTMLContentType}),t,r),m();else if(n===f.SPARQLUpdateContentType)(0,d.default)(e,t,r),m();else if(n===f.JSONLDContentType)(0,o.default)(e,t,r,m);else{if(n!==f.NQuadsContentType&&n!==f.NQuadsAltContentType)throw void 0===n?new Error("contentType is undefined"):new Error("Don't know how to parse "+n+" yet");var g=new s.Parser({factory:i.default});w(null,e)}}catch(T){b(T)}function m(){a&&a(null,t)}function b(e){if(n!==f.JSONLDContentType||n!==f.NQuadsContentType||n!==f.NQuadsAltContentType){if(!a){var i=new Error(e+" while trying to parse <"+r+"> as "+n);throw i.cause=e,i}a(e,t)}}function w(e,r){e&&a(e,t);try{g.parse(r,x)}catch(e){a(e,t)}}function x(e,r){r?t.add(r.subject,r.predicate,r.object,r.graph):a(e,t)}h.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0}}},1079:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.AJAR_handleNewTerm=s,t.arrayToStatements=l,t.ArrayIndexOf=d,t.appliedFactoryMethods=void 0;var a=n(r("3c962")),i=r("3897"),o=r("4b68");function s(e,t,r){var n=null;if("undefined"!==typeof e.fetcher&&(n=e.fetcher,"NamedNode"===t.termType)){var s,u=(0,i.docpart)(t.uri);if(t.uri.indexOf("#")<0){if((0,o.string_startswith)(t.uri,"http://dbpedia.org/resource/Category:"))return;(0,o.string_startswith)(t.uri,"http://purl.org/dc/elements/1.1/")||(0,o.string_startswith)(t.uri,"http://purl.org/dc/terms/")?s="http://dublincore.org/2005/06/13/dcq":(0,o.string_startswith)(t.uri,"http://xmlns.com/wot/0.1/")?s="http://xmlns.com/wot/0.1/index.rdf":(0,o.string_startswith)(t.uri,"http://web.resource.org/cc/")&&(s="http://web.resource.org/cc/schema.rdf")}if(s&&(u=s),!n||"unrequested"===n.getState(u))return s&&a.default.warn("Assuming server still broken, faking redirect of <"+t.uri+"> to <"+u+">"),n.fetch(u,{referringTerm:r})}}var u=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"];t.appliedFactoryMethods=u;var c={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function l(e,t,r){var n=[];return r.reduce((function(t,r,a,i){var o;return n.push(e.quad(t,e.namedNode(c.first),i[a])),a<i.length-1?(o=e.blankNode(),n.push(e.quad(t,e.namedNode(c.rest),o))):n.push(e.quad(t,e.namedNode(c.rest),e.namedNode(c.nil))),o}),t),n}function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.length;for(r<0&&(r=n+r);r<n;r++)if(e[r]===t)return r;return-1}},"10d1":function(e,t,r){"use strict";var n,a=r("da84"),i=r("e2cc"),o=r("f183"),s=r("6d61"),u=r("acac"),c=r("861d"),l=r("69f3").enforce,d=r("7f9a"),p=!a.ActiveXObject&&"ActiveXObject"in a,f=Object.isExtensible,h=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},y=e.exports=s("WeakMap",h,u);if(d&&p){n=u.getConstructor(h,"WeakMap",!0),o.REQUIRED=!0;var v=y.prototype,g=v["delete"],m=v.has,b=v.get,w=v.set;i(v,{delete:function(e){if(c(e)&&!f(e)){var t=l(this);return t.frozen||(t.frozen=new n),g.call(this,e)||t.frozen["delete"](e)}return g.call(this,e)},has:function(e){if(c(e)&&!f(e)){var t=l(this);return t.frozen||(t.frozen=new n),m.call(this,e)||t.frozen.has(e)}return m.call(this,e)},get:function(e){if(c(e)&&!f(e)){var t=l(this);return t.frozen||(t.frozen=new n),m.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(c(e)&&!f(e)){var r=l(this);r.frozen||(r.frozen=new n),m.call(this,e)?w.call(this,e,t):r.frozen.set(e,t)}else w.call(this,e,t);return this}})}},"134b":function(e,t,r){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},"13f1":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const n=r("7096"),a=r("3e6b"),i=r("8ce0"),o=r("9935"),s=r("8026"),u=r("a22a");let c=0;class l{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${c++}_`}namedNode(e){return new o.NamedNode(e)}blankNode(e){return new n.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,t){return new i.Literal(e,t)}variable(e){return new u.Variable(e)}defaultGraph(){return a.DefaultGraph.INSTANCE}quad(e,t,r,n){return new s.Quad(e,t,r,n||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(i.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}t.DataFactory=l},1456:function(e,t,r){function n(e){this.options=e||{locator:{}}}function a(e,t,r){if(!e){if(t instanceof i)return t;e=t}var n={},a=e instanceof Function;function o(t){var i=e[t];!i&&a&&(i=2==e.length?function(r){e(t,r)}:e),n[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+s(r))}||function(){}}return r=r||{},o("warning"),o("error"),o("fatalError"),n}function i(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function s(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function u(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function c(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}n.prototype.parseFromString=function(e,t){var r=this.options,n=new d,o=r.domBuilder||new i,s=r.errorHandler,u=r.locator,c=r.xmlns||{},p=/\/x?html?$/.test(t),f=p?l.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&o.setDocumentLocator(u),n.errorHandler=a(s,o,u),n.domBuilder=r.domBuilder||o,p&&(c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e?n.parse(e,c,f):n.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new p).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var a=this.doc,i=a.createElementNS(e,r||t),s=n.length;c(this,i),this.currentElement=i,this.locator&&o(this.locator,i);for(var u=0;u<s;u++){e=n.getURI(u);var l=n.getValue(u),d=(r=n.getQName(u),a.createAttributeNS(e,r));this.locator&&o(n.getLocator(u),d),d.value=d.nodeValue=l,i.setAttributeNode(d)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,r),c(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=u.apply(this,arguments),e){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&o(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=u.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&o(this.locator,n),c(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var a=n.createDocumentType(e,t,r);this.locator&&o(this.locator,a),c(this,a)}},warning:function(e){console.warn("[xmldom warning]\t"+e,s(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,s(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,s(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){i.prototype[e]=function(){return null}}));var l=r("d4a2"),d=r("8f7b").XMLReader,p=t.DOMImplementation=r("c1dd").DOMImplementation;t.XMLSerializer=r("c1dd").XMLSerializer,t.DOMParser=n},"14b4":function(e,t,r){"use strict";const n=r("4192"),a=r("29308"),i=r("8fd9").IdentifierIssuer,o=r("a2c2"),s=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,u=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,l={headers:{accept:"application/ld+json, application/json"}},d={};function p(e,t){if(a.isArray(t))for(let r=0;r<t.length;++r)t[r]=p(e,t[r]);else if(n.isList(t))t["@list"]=p(e,t["@list"]);else if(a.isObject(t)){n.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const a=r[n];"@id"!==a&&(t[a]=p(e,t[a]))}}return t}e.exports=d,d.IdentifierIssuer=i,d.clone=function(e){if(e&&"object"===typeof e){let t;if(a.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=d.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,d.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(d.clone(r))}else if(a.isObject(e)){t={};for(const r in e)t[r]=d.clone(e[r])}else t=e.toString();return t}return e},d.asArray=function(e){return Array.isArray(e)?e:[e]},d.buildHeaders=(e={})=>{const t=Object.keys(e).some(e=>"accept"===e.toLowerCase());if(t)throw new RangeError('Accept header may not be specified; only "'+l.headers.accept+'" is supported.');return Object.assign({Accept:l.headers.accept},e)},d.parseLinkHeader=e=>{const t={},r=e.match(s);for(let n=0;n<r.length;++n){let e=r[n].match(u);if(!e)continue;const a={target:e[1]},i=e[2];while(e=c.exec(i))a[e[1]]=void 0===e[2]?e[3]:e[2];const o=a["rel"]||"";Array.isArray(t[o])?t[o].push(a):t.hasOwnProperty(o)?t[o]=[t[o],a]:t[o]=a}return t},d.validateTypeValue=(e,t)=>{if(!a.isString(e)&&(!a.isArray(e)||!e.every(e=>a.isString(e)))){if(t&&a.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&d.asArray(e["@default"]).every(e=>a.isString(e)))return}throw new o('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},d.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!a.isArray(r)||r.length>0}return!1},d.hasValue=(e,t,r)=>{if(d.hasProperty(e,t)){let i=e[t];const o=n.isList(i);if(a.isArray(i)||o){o&&(i=i["@list"]);for(let e=0;e<i.length;++e)if(d.compareValues(r,i[e]))return!0}else if(!a.isArray(r))return d.compareValues(r,i)}return!1},d.addValue=(e,t,r,n)=>{if(n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(a.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let a=0;a<r.length;++a)d.addValue(e,t,r[a],n)}else if(e.hasOwnProperty(t)){const i=!n.allowDuplicate&&d.hasValue(e,t,r);a.isArray(e[t])||i&&!n.propertyIsArray||(e[t]=[e[t]]),i||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r},d.getValues=(e,t)=>[].concat(e[t]||[]),d.removeProperty=(e,t)=>{delete e[t]},d.removeValue=(e,t,r,n)=>{n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1);const a=d.getValues(e,t).filter(e=>!d.compareValues(e,r));0===a.length?d.removeProperty(e,t):1!==a.length||n.propertyIsArray?e[t]=a:e[t]=a[0]},d.relabelBlankNodes=(e,t)=>{t=t||{};const r=t.issuer||new i("_:b");return p(r,e)},d.compareValues=(e,t)=>e===t||(!(!n.isValue(e)||!n.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(a.isObject(e)&&"@id"in e&&a.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]),d.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},"14ff":function(e,t,r){"use strict";e.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){const{current:e,dir:t}=this,r=e.slice();let n=null,a=0;const i=e.length;for(let o=0;o<i;++o){const r=e[o],s=t.get(r);(null===n||r>n)&&(s&&o>0&&r>e[o-1]||!s&&o<i-1&&r>e[o+1])&&(n=r,a=o)}if(null===n)this.done=!0;else{const r=t.get(n)?a-1:a+1;e[a]=e[r],e[r]=n;for(const a of e)a>n&&t.set(a,!t.get(a))}return r}}},"15a8":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(r("dfa6")),i=n(r("491a"));function o(e,t,r){var n,o,s,u=["INSERT","DELETE","WHERE"],c=(0,i.default)("http://www.w3.org/ns/pim/patch#"),l=(0,a.default)(t,t,r,r,null,null,"",null),d={},p=function(e,t,r,n,a){return"Line "+(t+1)+" of <"+e+">: Bad syntax:\n   "+a+'\n   at: "'+r.slice(n,n+30)+'"'};n=0;var f=t.sym(r+"#query");d["query"]=f;while(1){if(o=l.skipSpace(e,n),o<0)return d;if(";"===e[o]){if(n=l.skipSpace(e,o+1),n<0)return d;o=n}var h=!1;for(s=0;s<u.length;s++){var y=u[s];if(e.slice(o,o+y.length)===y){if(n=l.skipSpace(e,o+y.length),n<0)throw p(l._thisDoc,l.lines,e,o+y.length,"found EOF, needed {...} after "+y);if(("INSERT"===y||"DELETE"===y)&&"DATA"===e.slice(n,n+4)){if(o=l.skipSpace(e,n+4),o<0)throw p(l._thisDoc,l.lines,e,n+4,"needed {...} after INSERT DATA "+y);n=o}var v=[];if(o=l.node(e,n,v),o<0)throw p(l._thisDoc,l.lines,e,n,"bad syntax or EOF in {...} after "+y);d[y.toLowerCase()]=v[0],t.add(f,c(y.toLowerCase()),v[0]),h=!0,n=o}}if(!h&&"@prefix"===e.slice(o,o+7)){if(n=l.directive(e,o),n<0)throw p(l._thisDoc,l.lines,e,n,"bad syntax or EOF after @prefix ");n=l.checkDot(e,n),h=!0}if(!h)throw p(l._thisDoc,l.lines,e,o,"Unknown syntax at start of statememt: '"+e.slice(o).slice(0,20)+"'")}}},1912:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b");class a extends n.JSONLDResolver{constructor(e){super(e);const t=this._exposedContext=Object.create(e["@context"]);Object.defineProperty(t,"extend",{value:(...e)=>this.extendContext(...e)}),Object.defineProperty(t,"then",{value:(e,t)=>this._context.then(e=>e.contextRaw).then(e,t)})}handle(){return this._exposedContext}}t.default=a},"19f2":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var n=r("600b"),a=h(r("9c67")),i=h(r("9604")),o=h(r("3432")),s=h(r("3896")),u=h(r("4e8ed")),c=h(r("b474")),l=h(r("bdfe")),d=h(r("4f59")),p=h(r("1912")),f=h(r("e88a"));function h(e){return e&&e.__esModule?e:{default:e}}const{as:y}=a.default["@context"],v=new p.default(a.default),g={...n.defaultHandlers,put:new i.default,delete:new o.default,findActivity:new s.default,likes:(e,t)=>t.findActivity("".concat(y,"Like")),dislikes:(e,t)=>t.findActivity("".concat(y,"Dislike")),follows:(e,t)=>t.findActivity("".concat(y,"Follow")),createActivity:new u.default,like:(e,t)=>()=>t.createActivity("".concat(y,"Like")),dislike:(e,t)=>()=>t.createActivity("".concat(y,"Dislike")),follow:(e,t)=>()=>t.createActivity("".concat(y,"Follow")),deleteActivity:new c.default,unlike:(e,t)=>()=>t.deleteActivity("".concat(y,"Like")),undislike:(e,t)=>()=>t.deleteActivity("".concat(y,"Dislike")),unfollow:(e,t)=>()=>t.deleteActivity("".concat(y,"Follow"))};function m(e){let t=null;const r=new n.PathFactory({handlers:{...g,root:()=>t},resolvers:[v]});return t=new n.PathFactory({handlers:{...n.defaultHandlers,from:new l.default(r),user:new d.default(r),clearCache:({settings:e})=>t=>e.createQueryEngine().clearCache(t),context:v},resolvers:[new f.default(r)],...e}).create(),t}},"1c32":function(e,t,r){"use strict";const{RDF_LANGSTRING:n,RDF_PLAIN_LITERAL:a,RDF_OBJECT:i,RDF_XML_LITERAL:o,XSD_STRING:s}=r("4c4c");let u;function c(){return"undefined"===typeof XMLSerializer?r(27).XMLSerializer:XMLSerializer}u="undefined"!==typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},e.exports=class{parse(e){const t={"@default":[]},r=e.getSubjects();for(let l=0;l<r.length;++l){const d=r[l];if(null===d)continue;const p=e.getSubjectTriples(d);if(null===p)continue;const f=p.predicates;for(const e in f){const r=f[e].objects;for(let l=0;l<r.length;++l){const p=r[l],f={};0===d.indexOf("_:")?f.subject={type:"blank node",value:d}:f.subject={type:"IRI",value:d},0===e.indexOf("_:")?f.predicate={type:"blank node",value:e}:f.predicate={type:"IRI",value:e};let h=p.value;if(p.type===o){const e=c(),t=new e;h="";for(let r=0;r<p.value.length;r++)p.value[r].nodeType===u.ELEMENT_NODE?h+=t.serializeToString(p.value[r]):p.value[r].nodeType===u.TEXT_NODE&&(h+=p.value[r].nodeValue)}f.object={},p.type===i?0===p.value.indexOf("_:")?f.object.type="blank node":f.object.type="IRI":(f.object.type="literal",p.type===a?p.language?(f.object.datatype=n,f.object.language=p.language):f.object.datatype=s:f.object.datatype=p.type),f.object.value=h,t["@default"].push(f)}}}return t}}},"212e":function(e,t,r){"use strict";const{isKeyword:n}=r("5749"),a=r("4192"),i=r("29308"),o=r("14b4"),s=r("a2c2"),u={};e.exports=u,u.createMergedNodeMap=(e,t)=>{t=t||{};const r=t.issuer||new o.IdentifierIssuer("_:b"),n={"@default":{}};return u.createNodeMap(e,n,"@default",r),u.mergeNodeMaps(n)},u.createNodeMap=(e,t,r,c,l,d)=>{if(i.isArray(e)){for(const n of e)u.createNodeMap(n,t,r,c,void 0,d);return}if(!i.isObject(e))return void(d&&d.push(e));if(a.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(d&&d.push(e))}if(d&&a.isList(e)){const n=[];return u.createNodeMap(e["@list"],t,r,c,l,n),void d.push({"@list":n})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&c.getId(e)}i.isUndefined(l)&&(l=a.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),d&&d.push({"@id":l});const p=t[r],f=p[l]=p[l]||{};f["@id"]=l;const h=Object.keys(e).sort();for(let i of h){if("@id"===i)continue;if("@reverse"===i){const n={"@id":l},i=e["@reverse"];for(const e in i){const s=i[e];for(const i of s){let s=i["@id"];a.isBlankNode(i)&&(s=c.getId(s)),u.createNodeMap(i,t,r,c,s),o.addValue(p[s],e,n,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===i){l in t||(t[l]={}),u.createNodeMap(e[i],t,l,c);continue}if("@included"===i){u.createNodeMap(e[i],t,r,c);continue}if("@type"!==i&&n(i)){if("@index"===i&&i in f&&(e[i]!==f[i]||e[i]["@id"]!==f[i]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:f});f[i]=e[i];continue}const d=e[i];if(0===i.indexOf("_:")&&(i=c.getId(i)),0!==d.length)for(let e of d)if("@type"===i&&(e=0===e.indexOf("_:")?c.getId(e):e),a.isSubject(e)||a.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const n=a.isBlankNode(e)?c.getId(e["@id"]):e["@id"];o.addValue(f,i,{"@id":n},{propertyIsArray:!0,allowDuplicate:!1}),u.createNodeMap(e,t,r,c,n)}else if(a.isValue(e))o.addValue(f,i,e,{propertyIsArray:!0,allowDuplicate:!1});else if(a.isList(e)){const n=[];u.createNodeMap(e["@list"],t,r,c,l,n),e={"@list":n},o.addValue(f,i,e,{propertyIsArray:!0,allowDuplicate:!1})}else u.createNodeMap(e,t,r,c,l),o.addValue(f,i,e,{propertyIsArray:!0,allowDuplicate:!1});else o.addValue(f,i,[],{propertyIsArray:!0})}},u.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const a of Object.keys(e[r]).sort()){const i=e[r][a];a in t||(t[a]={"@id":a});const s=t[a];for(const e of Object.keys(i).sort())if(n(e)&&"@type"!==e)s[e]=o.clone(i[e]);else for(const t of i[e])o.addValue(s,e,o.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},u.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if("@default"===n)continue;const r=e[n];let i=t[n];i?"@graph"in i||(i["@graph"]=[]):t[n]=i={"@id":n,"@graph":[]};const o=i["@graph"];for(const e of Object.keys(r).sort()){const t=r[e];a.isSubjectReference(t)||o.push(t)}}return t}},"21b4":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7},a=n;t.default=a},"21ee":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2321:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.UpdatesVia=t.UpdatesSocket=void 0;var a=n(r("970b")),i=n(r("5bc3")),o=n(r("691a")),s=function(){function e(t,r){(0,a.default)(this,e),this.parent=t,this.via=r,this.connected=!1,this.pending={},this.subscribed={},this.socket={};try{this.socket=new WebSocket(r),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onmessage=this.onMessage,this.socket.onerror=this.onError}catch(n){this.onError(n)}}return(0,i.default)(e,[{key:"_decode",value:function(e){var t,r,n,a,i,o,s;for(r in a={},i=function(){var r,n,a,i;for(a=e.split("&"),i=[],r=0,n=a.length;r<n;r++)t=a[r],i.push(t.split("="));return i}(),i)t=i[r],o=[decodeURIComponent(t[0]),decodeURIComponent(t[1])],n=o[0],s=o[1],null==a[n]&&(a[n]=[]),a[n].push(s);return a}},{key:"_send",value:function(e,t,r){var n,a;return a=[e,t,r].join(" "),"function"===typeof(n=this.socket).send?n.send(a):void 0}},{key:"_subscribe",value:function(e){return this._send("sub",e,""),this.subscribed[e]=!0,this.subscribed[e]}},{key:"onClose",value:function(e){var t;for(t in this.connected=!1,this.subscribed)this.pending[t]=!0;return this.subscribed={},this.subscribed}},{key:"onError",value:function(e){throw new Error("onError"+e)}},{key:"onMessage",value:function(e){var t,r;return r=e.data.split(" "),"ping"===r[0]?"function"===typeof(t=this.socket).send?t.send("pong "+r.slice(1).join(" ")):void 0:"pub"===r[0]?this.parent.onUpdate(r[1],this._decode(r[2])):void 0}},{key:"onOpen",value:function(e){var t,r;for(r in this.connected=!0,t=[],this.pending)delete this.pending[r],t.push(this._subscribe(r));return t}},{key:"subscribe",value:function(e){return this.connected?this._subscribe(e):(this.pending[e]=!0,this.pending[e])}}]),e}();t.UpdatesSocket=s;var u=function(){function e(t){(0,a.default)(this,e),this.fetcher=t,this.graph={},this.via={},this.fetcher.addCallback("headers",this.onHeaders)}return(0,i.default)(e,[{key:"onHeaders",value:function(e){var t,r,n;return null==e.headers||"undefined"===typeof WebSocket||null===WebSocket||(t=e.headers["etag"],n=e.headers["updates-via"],r=e.uri,t&&n&&(this.graph[r]={etag:t,via:n},this.register(n,r))),!0}},{key:"onUpdate",value:function(e,t){return this.fetcher.refresh(o.default.namedNode(e))}},{key:"register",value:function(e,t){return null==this.via[e]&&(this.via[e]=new s(this,e)),this.via[e].subscribe(t)}}]),e}();t.UpdatesVia=u},"234b":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(r("3c962")),i=r("b19c");function o(e,t,r){var n=[];function o(e){if(n[e])return n[e];var t=r.variable(e);return n[e]=t,t}function s(e){return"string"===typeof e&&e.match(/[^ \n\t]/)}function u(e){return"string"===typeof e&&e.match(/^[\?\$]/)}function c(e){return"string"===typeof e?e.replace(/^&lt;/,"<").replace(/&gt;$/,">"):e}function l(e){return"string"===typeof e&&e.match(/^<[^>]*>$/)}function d(e){return"string"===typeof e&&(e.match(/^_:/)||e.match(/^$/))}function p(e){return"string"===typeof e&&e.match(/:$/)}function f(e){return"string"===typeof e&&e.match(/^:|^[^_][^:]*:/)}function h(e){var t=e.split(":");return t[0]}function y(e){var t=e.split(":");return t[1]}function v(e){return l(e)?e.slice(1,e.length-1):e}function g(e){var t=-1===e.indexOf("'")?null:e.indexOf("'"),n=-1===e.indexOf('"')?null:e.indexOf('"');if(!t&&!n){var i=new Array(1);return i[0]=e,i}var o,s,u=new Array(2);if(!t||n&&n<t)o='"',s=n;else{if(n&&!(t&&t<n))return a.default.error("SQARQL QUERY OOPS!"),u;o="'",s=t}u[0]=e.slice(0,s);var c,l=e.slice(s+1).indexOf(o);return-1===l?(a.default.error("SPARQL parsing error: no matching parentheses in literal "+e),e):(e.slice(l+s+2).match(/^\^\^/)?(c=e.slice(l+s+2).indexOf(" "),u[1]=r.literal(e.slice(s+1,s+1+l),r.sym(v(e.slice(s+4+l,s+2+l+c)))),u=u.concat(g(e.slice(l+s+3+c)))):e.slice(l+s+2).match(/^@/)?(c=e.slice(l+s+2).indexOf(" "),u[1]=r.literal(e.slice(s+1,s+1+l),e.slice(s+3+l,s+2+l+c),null),u=u.concat(g(e.slice(l+s+2+c)))):(u[1]=r.literal(e.slice(s+1,s+1+l)),a.default.info("Literal found: "+u[1]),u=u.concat(g(e.slice(l+s+2)))),u)}function m(e){e=e.replace(/\(/g," ( ").replace(/\)/g," ) ").replace(/</g," <").replace(/>/g,"> ").replace(/{/g," { ").replace(/}/g," } ").replace(/[\t\n\r]/g," ").replace(/; /g," ; ").replace(/\. /g," . ").replace(/, /g," , "),a.default.info("New str into spaceDelimit: \n"+e);var t=[],r=e.split(" ");for(var n in r)s(r[n])&&(t=t.concat(r[n]));return t}function b(e){for(var t=e,r=0;r<t.length;r++)if("a"===t[r]&&(t[r]="<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>"),"is"===t[r]&&"of"===t[r+2]){t.splice(r,1),t.splice(r+1,1);var n=t[r-1];t[r-1]=t[r+1],t[r+1]=n}return t}function w(e){for(var t=[],n=0;n<e.length;n++)"string"===typeof e[n]?(e[n]=c(e[n]),u(e[n])?t[n]=o(e[n].slice(1)):d(e[n])?(a.default.info(e[n]+" was identified as a bnode."),t[n]=r.bnode()):l(e[n])?(a.default.info(e[n]+" was identified as a symbol."),t[n]=r.sym(v(e[n]))):f(e[n])?(a.default.info(e[n]+" was identified as a prefixed symbol"),L[h(e[n])]?t[n]=r.sym(e[n]=L[h(e[n])]+y(e[n])):(a.default.error("SPARQL error: "+e[n]+" with prefix "+h(e[n])+" does not have a correct prefix entry."),t[n]=e[n])):t[n]=e[n]):t[n]=e[n];return t}function x(e){var t=g(e),r=[];for(var n in t)r="string"===typeof t[n]?r.concat(m(t[n])):r.concat(t[n]);return r=b(r),a.default.info("SPARQL Tokens: "+r),r}function T(e,t){for(var r=0;r<t.length;r++)if("string"===typeof t[r]&&t[r].toLowerCase()===e.toLowerCase())return r;return null}function E(e,t){for(var r=[],n=0;n<t.length;n++)"string"===typeof t[n]&&t[n].toLowerCase()===e.toLowerCase()&&r.push(n);return r}function N(e,t){for(var r in a.default.info("SPARQL vars: "+e),e)if(u(e[r])){a.default.info("Added "+e[r]+" to query variables from SPARQL");var n=o(e[r].slice(1));t.vars.push(n),n.label=e[r].slice(1)}else a.default.warn("Incorrect SPARQL variable in SELECT: "+e[r])}function O(e){var t=E("PREFIX",e),r=[];for(var n in t){var i=e[t[n]+1],o=e[t[n]+2];if(p(i))if(l(o)){a.default.info("Prefix found: "+i+" -> "+o);var s=h(i),u=v(o);r[s]=u}else a.default.error("Invalid SPARQL symbol: "+o);else a.default.error("Invalid SPARQL prefix: "+i)}return r}function _(e,t,r){a.default.info("Looking for a close bracket of type "+r+" in "+e);for(var n=0,i=0;i<e.length;i++)if(e[i]===t&&n++,e[i]===r&&n--,n<0)return i;return a.default.error("Statement had no close parenthesis in SPARQL query"),0}function I(e){return this.describe=function(t){return t+" = "+e.toNT()},this.test=function(t){return e.equals(t)},this}function S(e){this.describe=function(t){return"REGEXP( '"+e+"' , "+t+" )"},this.test=function(t){var r=e,n=new RegExp(r);return!!t.value&&n.test(t.value)}}function R(e,t){3!==e.length||"Variable"!==e[0].termType||"NamedNode"!==e[2].termType&&"Literal"!==e[2].termType?6===e.length&&"string"===typeof e[0]&&"regexp"===e[0].toLowerCase()&&"("===e[1]&&")"===e[5]&&","===e[3]&&"Variable"===e[4].termType&&"Literal"===e[2].termType&&(a.default.debug("Constraint added: "+e),t.constraints[e[4]]=new S(e[2].value)):"="===e[1]||">"===e[1]||"<"===e[1]?(a.default.debug("Constraint added: "+e),t.constraints[e[0]]=new I(e[2])):a.default.warn("I don't know how to handle the constraint: "+e)}function C(e,t){a.default.debug("Optional query: "+e+" not yet implemented.");var n=r.formula();A(e,n),t.optional.push(n)}function A(e,t){var r,n,i=w(e);a.default.debug("WHERE: "+i);while(T("OPTIONAL",i))n=T("OPTIONAL",i),a.default.debug("OPT: "+n+" "+i[n]+" in "+i),"{"!==i[n+1]&&a.default.warn("Bad optional opening bracket in word "+n),r=_(i.slice(n+2),"{","}"),-1===r?a.default.error("No matching bracket in word "+n):(C(i.slice(n+2,n+2+r),t),n=T("OPTIONAL",i),r=_(i.slice(n+2),"{","}"),i.splice(n,r+3));a.default.debug("WHERE after optionals: "+i);while(T("FILTER",i)){var o=T("FILTER",i);"("!==i[o+1]&&a.default.warn("Bad filter opening bracket in word "+o),r=_(i.slice(o+2),"(",")"),-1===r?a.default.error("No matching bracket in word "+o):(R(i.slice(o+2,o+2+r),t),o=T("FILTER",i),r=_(i.slice(o+2),"(",")"),i.splice(o,r+3))}a.default.debug("WHERE after filters and optionals: "+i),D(i,t)}function D(e,t){var r=new Array(1);r[0]=-1;for(var n=r.concat(E(".",e)),i=[],o=0;o<n.length-1;o++)i[o]=e.slice(n[o]+1,n[o+1]);for(o in i){a.default.info("s+p+o "+o+" = "+i[o]);var s=i[o][0];i[o].splice(0,1);var u=r.concat(E(";",i[o]));u.push(i[o].length);for(var c=[],l=0;l<u.length-1;l++)c[l]=i[o].slice(u[l]+1,u[l+1]);for(o in c){a.default.info("p+o "+o+" = "+i[o]);var d=c[o][0];c[o].splice(0,1);var p=r.concat(E(",",c[o]));p.push(c[o].length);var f=[];for(l=0;l<p.length-1;l++)f[l]=c[o].slice(p[l]+1,p[l+1]);for(o in f){var h=f[o][0];a.default.info("Subj="+s+" Pred="+d+" Obj="+h),t.add(s,d,h)}}}}a.default.info("SPARQL input: \n"+e);var k=new i.Query,j=x(e),L=O(j);L.rdf||(L.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"),L.rdfs||(L.rdfs="http://www.w3.org/2000/01/rdf-schema#");var P=T("SELECT",j),F=T("WHERE",j);if(P<0||F<0||P>F)return a.default.error("Invalid or nonexistent SELECT and WHERE tags in SPARQL query"),!1;if(N(j.slice(P+1,F),k),A(j.slice(F+2,j.length-1),k.pat),t)return k;for(var M in k.pat.statements){var U=k.pat.statements[M];"NamedNode"===U.subject.termType&&r.fetcher&&r.fetcher.lookUpThing(U.subject,"sparql:"+U.subject),"NamedNode"===U.object.termType&&r.fetcher&&r.fetcher.lookUpThing(U.object,"sparql:"+U.object)}return k}},24:function(e,t){},25:function(e,t){},26:function(e,t){},27:function(e,t){},28:function(e,t){},29:function(e,t){},29308:function(e,t,r){"use strict";const n={};e.exports=n,n.isArray=Array.isArray,n.isBoolean=e=>"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e),n.isDouble=e=>n.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),n.isEmptyObject=e=>n.isObject(e)&&0===Object.keys(e).length,n.isNumber=e=>"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e),n.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),n.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),n.isString=e=>"string"===typeof e||"[object String]"===Object.prototype.toString.call(e),n.isUndefined=e=>"undefined"===typeof e},"2c03":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expressionTypes=t.types=void 0,t.types=Object.freeze({ALT:"alt",ASK:"ask",BGP:"bgp",CONSTRUCT:"construct",DESC:"desc",DESCRIBE:"describe",DISTINCT:"distinct",EXPRESSION:"expression",EXTEND:"extend",FILTER:"filter",FROM:"from",GRAPH:"graph",GROUP:"group",INV:"inv",JOIN:"join",LEFT_JOIN:"leftjoin",LINK:"link",MINUS:"minus",NPS:"nps",ONE_OR_MORE_PATH:"OneOrMorePath",ORDER_BY:"orderby",PATH:"path",PATTERN:"pattern",PROJECT:"project",REDUCED:"reduced",SEQ:"seq",SERVICE:"service",SLICE:"slice",UNION:"union",VALUES:"values",ZERO_OR_MORE_PATH:"ZeroOrMorePath",ZERO_OR_ONE_PATH:"ZeroOrOnePath",COMPOSITE_UPDATE:"compositeupdate",DELETE_INSERT:"deleteinsert",LOAD:"load",CLEAR:"clear",CREATE:"create",DROP:"drop",ADD:"add",MOVE:"move",COPY:"copy"}),t.expressionTypes=Object.freeze({AGGREGATE:"aggregate",EXISTENCE:"existence",NAMED:"named",OPERATOR:"operator",TERM:"term",WILDCARD:"wildcard"})},"2d54":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.toSparqlJs=t.toSparql=t.Factory=t.Algebra=t.translate=void 0;const n=r("f4a4");t.translate=n.default;const a=r("2c03");t.Algebra=a;const i=r("9659");t.Factory=i.default;const o=r("3ecc");Object.defineProperty(t,"toSparql",{enumerable:!0,get:function(){return o.toSparql}}),Object.defineProperty(t,"toSparqlJs",{enumerable:!0,get:function(){return o.toSparqlJs}});const s=r("ef12");t.Util=s.default},"2f24":function(e,t,r){"use strict";function n(e,...t){return(...r)=>e(...t,...r)}function a(e){return function(...t){var r=t.pop();return e.call(this,t,r)}}r.r(t),r.d(t,"apply",(function(){return n})),r.d(t,"applyEach",(function(){return V})),r.d(t,"applyEachSeries",(function(){return H})),r.d(t,"asyncify",(function(){return d})),r.d(t,"auto",(function(){return z})),r.d(t,"autoInject",(function(){return te})),r.d(t,"cargo",(function(){return ie})),r.d(t,"cargoQueue",(function(){return oe})),r.d(t,"compose",(function(){return le})),r.d(t,"concat",(function(){return ve})),r.d(t,"concatLimit",(function(){return he})),r.d(t,"concatSeries",(function(){return me})),r.d(t,"constant",(function(){return be})),r.d(t,"detect",(function(){return Te})),r.d(t,"detectLimit",(function(){return Ne})),r.d(t,"detectSeries",(function(){return _e})),r.d(t,"dir",(function(){return Se})),r.d(t,"doUntil",(function(){return Ae})),r.d(t,"doWhilst",(function(){return Ce})),r.d(t,"each",(function(){return je})),r.d(t,"eachLimit",(function(){return Pe})),r.d(t,"eachOf",(function(){return F})),r.d(t,"eachOfLimit",(function(){return k})),r.d(t,"eachOfSeries",(function(){return q})),r.d(t,"eachSeries",(function(){return Me})),r.d(t,"ensureAsync",(function(){return Ue})),r.d(t,"every",(function(){return Be})),r.d(t,"everyLimit",(function(){return Ge})),r.d(t,"everySeries",(function(){return He})),r.d(t,"filter",(function(){return We})),r.d(t,"filterLimit",(function(){return Ke})),r.d(t,"filterSeries",(function(){return et})),r.d(t,"forever",(function(){return rt})),r.d(t,"groupBy",(function(){return it})),r.d(t,"groupByLimit",(function(){return at})),r.d(t,"groupBySeries",(function(){return ot})),r.d(t,"log",(function(){return st})),r.d(t,"map",(function(){return U})),r.d(t,"mapLimit",(function(){return pe})),r.d(t,"mapSeries",(function(){return $})),r.d(t,"mapValues",(function(){return dt})),r.d(t,"mapValuesLimit",(function(){return lt})),r.d(t,"mapValuesSeries",(function(){return pt})),r.d(t,"memoize",(function(){return ft})),r.d(t,"nextTick",(function(){return ht})),r.d(t,"parallel",(function(){return vt})),r.d(t,"parallelLimit",(function(){return gt})),r.d(t,"priorityQueue",(function(){return Et})),r.d(t,"queue",(function(){return mt})),r.d(t,"race",(function(){return Ot})),r.d(t,"reduce",(function(){return ue})),r.d(t,"reduceRight",(function(){return _t})),r.d(t,"reflect",(function(){return It})),r.d(t,"reflectAll",(function(){return St})),r.d(t,"reject",(function(){return At})),r.d(t,"rejectLimit",(function(){return kt})),r.d(t,"rejectSeries",(function(){return Lt})),r.d(t,"retry",(function(){return Ut})),r.d(t,"retryable",(function(){return Bt})),r.d(t,"seq",(function(){return ce})),r.d(t,"series",(function(){return qt})),r.d(t,"setImmediate",(function(){return l})),r.d(t,"some",(function(){return $t})),r.d(t,"someLimit",(function(){return Xt})),r.d(t,"someSeries",(function(){return zt})),r.d(t,"sortBy",(function(){return Wt})),r.d(t,"timeout",(function(){return Yt})),r.d(t,"times",(function(){return er})),r.d(t,"timesLimit",(function(){return Zt})),r.d(t,"timesSeries",(function(){return tr})),r.d(t,"transform",(function(){return rr})),r.d(t,"tryEach",(function(){return ar})),r.d(t,"unmemoize",(function(){return ir})),r.d(t,"until",(function(){return ur})),r.d(t,"waterfall",(function(){return lr})),r.d(t,"whilst",(function(){return sr})),r.d(t,"all",(function(){return Be})),r.d(t,"allLimit",(function(){return Ge})),r.d(t,"allSeries",(function(){return He})),r.d(t,"any",(function(){return $t})),r.d(t,"anyLimit",(function(){return Xt})),r.d(t,"anySeries",(function(){return zt})),r.d(t,"find",(function(){return Te})),r.d(t,"findLimit",(function(){return Ne})),r.d(t,"findSeries",(function(){return _e})),r.d(t,"flatMap",(function(){return ve})),r.d(t,"flatMapLimit",(function(){return he})),r.d(t,"flatMapSeries",(function(){return me})),r.d(t,"forEach",(function(){return je})),r.d(t,"forEachSeries",(function(){return Me})),r.d(t,"forEachLimit",(function(){return Pe})),r.d(t,"forEachOf",(function(){return F})),r.d(t,"forEachOfSeries",(function(){return q})),r.d(t,"forEachOfLimit",(function(){return k})),r.d(t,"inject",(function(){return ue})),r.d(t,"foldl",(function(){return ue})),r.d(t,"foldr",(function(){return _t})),r.d(t,"select",(function(){return We})),r.d(t,"selectLimit",(function(){return Ke})),r.d(t,"selectSeries",(function(){return et})),r.d(t,"wrapSync",(function(){return d})),r.d(t,"during",(function(){return sr})),r.d(t,"doDuring",(function(){return Ce}));var i,o="function"===typeof setImmediate&&setImmediate,s="object"===typeof process&&"function"===typeof process.nextTick;function u(e){setTimeout(e,0)}function c(e){return(t,...r)=>e(()=>t(...r))}i=o?setImmediate:s?process.nextTick:u;var l=c(i);function d(e){return h(e)?function(...t){const r=t.pop(),n=e.apply(this,t);return p(n,r)}:a((function(t,r){var n;try{n=e.apply(this,t)}catch(a){return r(a)}if(n&&"function"===typeof n.then)return p(n,r);r(null,n)}))}function p(e,t){return e.then(e=>{f(t,null,e)},e=>{f(t,e&&e.message?e:new Error(e))})}function f(e,t,r){try{e(t,r)}catch(n){l(e=>{throw e},n)}}function h(e){return"AsyncFunction"===e[Symbol.toStringTag]}function y(e){return"AsyncGenerator"===e[Symbol.toStringTag]}function v(e){return"function"===typeof e[Symbol.asyncIterator]}function g(e){if("function"!==typeof e)throw new Error("expected a function");return h(e)?d(e):e}function m(e,t=e.length){if(!t)throw new Error("arity is undefined");function r(...r){return"function"===typeof r[t-1]?e.apply(this,r):new Promise((n,a)=>{r[t-1]=(e,...t)=>{if(e)return a(e);n(t.length>1?t:t[0])},e.apply(this,r)})}return r}function b(e){return function(t,...r){const n=m((function(n){var a=this;return e(t,(e,t)=>{g(e).apply(a,r.concat(t))},n)}));return n}}function w(e,t,r,n){t=t||[];var a=[],i=0,o=g(r);return e(t,(e,t,r)=>{var n=i++;o(e,(e,t)=>{a[n]=t,r(e)})},e=>{n(e,a)})}function x(e){return e&&"number"===typeof e.length&&e.length>=0&&e.length%1===0}const T={};function E(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}function N(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}function O(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}function _(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}function I(e){var t=e?Object.keys(e):[],r=-1,n=t.length;return function(){var a=t[++r];return r<n?{value:e[a],key:a}:null}}function S(e){if(x(e))return O(e);var t=N(e);return t?_(t):I(e)}function R(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}function C(e,t,r,n){let a=!1,i=!1,o=!1,s=0,u=0;function c(){s>=t||o||a||(o=!0,e.next().then(({value:e,done:t})=>{if(!i&&!a){if(o=!1,t)return a=!0,void(s<=0&&n(null));s++,r(e,u,l),u++,c()}}).catch(d))}function l(e,t){if(s-=1,!i)return e?d(e):!1===e?(a=!0,void(i=!0)):t===T||a&&s<=0?(a=!0,n(null)):void c()}function d(e){i||(o=!1,a=!0,n(e))}c()}var A=e=>(t,r,n)=>{if(n=E(n),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return n(null);if(y(t))return C(t,e,r,n);if(v(t))return C(t[Symbol.asyncIterator](),e,r,n);var a=S(t),i=!1,o=!1,s=0,u=!1;function c(e,t){if(!o)if(s-=1,e)i=!0,n(e);else if(!1===e)i=!0,o=!0;else{if(t===T||i&&s<=0)return i=!0,n(null);u||l()}}function l(){u=!0;while(s<e&&!i){var t=a();if(null===t)return i=!0,void(s<=0&&n(null));s+=1,r(t.value,t.key,R(c))}u=!1}l()};function D(e,t,r,n){return A(t)(e,g(r),n)}var k=m(D,4);function j(e,t,r){r=E(r);var n=0,a=0,{length:i}=e,o=!1;function s(e,t){!1===e&&(o=!0),!0!==o&&(e?r(e):++a!==i&&t!==T||r(null))}for(0===i&&r(null);n<i;n++)t(e[n],n,R(s))}function L(e,t,r){return k(e,1/0,t,r)}function P(e,t,r){var n=x(e)?j:L;return n(e,g(t),r)}var F=m(P,3);function M(e,t,r){return w(F,e,t,r)}var U=m(M,3),V=b(U);function B(e,t,r){return k(e,1,t,r)}var q=m(B,3);function G(e,t,r){return w(q,e,t,r)}var $=m(G,3),H=b($);const X=Symbol("promiseCallback");function Q(){let e,t;function r(r,...n){if(r)return t(r);e(n.length>1?n:n[0])}return r[X]=new Promise((r,n)=>{e=r,t=n}),r}function z(e,t,r){"number"!==typeof t&&(r=t,t=null),r=E(r||Q());var n=Object.keys(e).length;if(!n)return r(null);t||(t=n);var a={},i=0,o=!1,s=!1,u=Object.create(null),c=[],l=[],d={};function p(e,t){c.push(()=>v(e,t))}function f(){if(!o){if(0===c.length&&0===i)return r(null,a);while(c.length&&i<t){var e=c.shift();e()}}}function h(e,t){var r=u[e];r||(r=u[e]=[]),r.push(t)}function y(e){var t=u[e]||[];t.forEach(e=>e()),f()}function v(e,t){if(!s){var n=R((t,...n)=>{if(i--,!1!==t)if(n.length<2&&([n]=n),t){var c={};if(Object.keys(a).forEach(e=>{c[e]=a[e]}),c[e]=n,s=!0,u=Object.create(null),o)return;r(t,c)}else a[e]=n,y(e);else o=!0});i++;var c=g(t[t.length-1]);t.length>1?c(a,n):c(n)}}function m(){var e,t=0;while(l.length)e=l.pop(),t++,b(e).forEach(e=>{0===--d[e]&&l.push(e)});if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function b(t){var r=[];return Object.keys(e).forEach(n=>{const a=e[n];Array.isArray(a)&&a.indexOf(t)>=0&&r.push(n)}),r}return Object.keys(e).forEach(t=>{var r=e[t];if(!Array.isArray(r))return p(t,[r]),void l.push(t);var n=r.slice(0,r.length-1),a=n.length;if(0===a)return p(t,r),void l.push(t);d[t]=a,n.forEach(i=>{if(!e[i])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+i+"` in "+n.join(", "));h(i,()=>{a--,0===a&&p(t,r)})})}),m(),f(),r[X]}var J=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,W=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,Y=/,/,K=/(=.+)?(\s*)$/,Z=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function ee(e){const t=e.toString().replace(Z,"");let r=t.match(J);if(r||(r=t.match(W)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,n]=r;return n.replace(/\s/g,"").split(Y).map(e=>e.replace(K,"").trim())}function te(e,t){var r={};return Object.keys(e).forEach(t=>{var n,a=e[t],i=h(a),o=!i&&1===a.length||i&&0===a.length;if(Array.isArray(a))n=[...a],a=n.pop(),r[t]=n.concat(n.length>0?s:a);else if(o)r[t]=a;else{if(n=ee(a),0===a.length&&!i&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");i||n.pop(),r[t]=n.concat(s)}function s(e,t){var r=n.map(t=>e[t]);r.push(t),g(a)(...r)}}),z(r,t)}class re{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){while(this.head)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):ne(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):ne(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){var e=this.head;while(e)yield e.data,e=e.next}remove(e){var t=this.head;while(t){var{next:r}=t;e(t)&&this.removeLink(t),t=r}return this}}function ne(e,t){e.length=1,e.head=e.tail=t}function ae(e,t,r){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var n=g(e),a=0,i=[];const o={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function s(e,t){o[e].push(t)}function u(e,t){const r=(...n)=>{c(e,r),t(...n)};o[e].push(r)}function c(e,t){return e?t?void(o[e]=o[e].filter(e=>e!==t)):o[e]=[]:Object.keys(o).forEach(e=>o[e]=[])}function d(e,...t){o[e].forEach(e=>e(...t))}var p=!1;function f(e,t,r,n){if(null!=n&&"function"!==typeof n)throw new Error("task callback must be a function");var a,i;function o(e,...t){return e?r?i(e):a():t.length<=1?a(t[0]):void a(t)}b.started=!0;var s={data:e,callback:r?o:n||o};if(t?b._tasks.unshift(s):b._tasks.push(s),p||(p=!0,l(()=>{p=!1,b.process()})),r||!n)return new Promise((e,t)=>{a=e,i=t})}function h(e){return function(t,...r){a-=1;for(var n=0,o=e.length;n<o;n++){var s=e[n],u=i.indexOf(s);0===u?i.shift():u>0&&i.splice(u,1),s.callback(t,...r),null!=t&&d("error",t,s.data)}a<=b.concurrency-b.buffer&&d("unsaturated"),b.idle()&&d("drain"),b.process()}}function y(e){return!(0!==e.length||!b.idle())&&(l(()=>d("drain")),!0)}const v=e=>t=>{if(!t)return new Promise((t,r)=>{u(e,(e,n)=>{if(e)return r(e);t(n)})});c(e),s(e,t)};var m=!1,b={_tasks:new re,*[Symbol.iterator](){yield*b._tasks[Symbol.iterator]()},concurrency:t,payload:r,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(e=>f(e,!1,!1,t))}return f(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(e=>f(e,!1,!0,t))}return f(e,!1,!0,t)},kill(){c(),b._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(e=>f(e,!0,!1,t))}return f(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(e=>f(e,!0,!0,t))}return f(e,!0,!0,t)},remove(e){b._tasks.remove(e)},process(){if(!m){m=!0;while(!b.paused&&a<b.concurrency&&b._tasks.length){var e=[],t=[],r=b._tasks.length;b.payload&&(r=Math.min(r,b.payload));for(var o=0;o<r;o++){var s=b._tasks.shift();e.push(s),i.push(s),t.push(s.data)}a+=1,0===b._tasks.length&&d("empty"),a===b.concurrency&&d("saturated");var u=R(h(e));n(t,u)}m=!1}},length(){return b._tasks.length},running(){return a},workersList(){return i},idle(){return b._tasks.length+a===0},pause(){b.paused=!0},resume(){!1!==b.paused&&(b.paused=!1,l(b.process))}};return Object.defineProperties(b,{saturated:{writable:!1,value:v("saturated")},unsaturated:{writable:!1,value:v("unsaturated")},empty:{writable:!1,value:v("empty")},drain:{writable:!1,value:v("drain")},error:{writable:!1,value:v("error")}}),b}function ie(e,t){return ae(e,1,t)}function oe(e,t,r){return ae(e,t,r)}function se(e,t,r,n){n=E(n);var a=g(r);return q(e,(e,r,n)=>{a(t,e,(e,r)=>{t=r,n(e)})},e=>n(e,t))}var ue=m(se,4);function ce(...e){var t=e.map(g);return function(...e){var r=this,n=e[e.length-1];return"function"==typeof n?e.pop():n=Q(),ue(t,e,(e,t,n)=>{t.apply(r,e.concat((e,...t)=>{n(e,t)}))},(e,t)=>n(e,...t)),n[X]}}function le(...e){return ce(...e.reverse())}function de(e,t,r,n){return w(A(t),e,r,n)}var pe=m(de,4);function fe(e,t,r,n){var a=g(r);return pe(e,t,(e,t)=>{a(e,(e,...r)=>e?t(e):t(e,r))},(e,t)=>{for(var r=[],a=0;a<t.length;a++)t[a]&&(r=r.concat(...t[a]));return n(e,r)})}var he=m(fe,4);function ye(e,t,r){return he(e,1/0,t,r)}var ve=m(ye,3);function ge(e,t,r){return he(e,1,t,r)}var me=m(ge,3);function be(...e){return function(...t){var r=t.pop();return r(null,...e)}}function we(e,t){return(r,n,a,i)=>{var o,s=!1;const u=g(a);r(n,(r,n,a)=>{u(r,(n,i)=>n||!1===n?a(n):e(i)&&!o?(s=!0,o=t(!0,r),a(null,T)):void a())},e=>{if(e)return i(e);i(null,s?o:t(!1))})}}function xe(e,t,r){return we(e=>e,(e,t)=>t)(F,e,t,r)}var Te=m(xe,3);function Ee(e,t,r,n){return we(e=>e,(e,t)=>t)(A(t),e,r,n)}var Ne=m(Ee,4);function Oe(e,t,r){return we(e=>e,(e,t)=>t)(A(1),e,t,r)}var _e=m(Oe,3);function Ie(e){return(t,...r)=>g(t)(...r,(t,...r)=>{"object"===typeof console&&(t?console.error&&console.error(t):console[e]&&r.forEach(t=>console[e](t)))})}var Se=Ie("dir");function Re(e,t,r){r=R(r);var n,a=g(e),i=g(t);function o(e,...t){if(e)return r(e);!1!==e&&(n=t,i(...t,s))}function s(e,t){return e?r(e):!1!==e?t?void a(o):r(null,...n):void 0}return s(null,!0)}var Ce=m(Re,3);function Ae(e,t,r){const n=g(t);return Ce(e,(...e)=>{const t=e.pop();n(...e,(e,r)=>t(e,!r))},r)}function De(e){return(t,r,n)=>e(t,n)}function ke(e,t,r){return F(e,De(g(t)),r)}var je=m(ke,3);function Le(e,t,r,n){return A(t)(e,De(g(r)),n)}var Pe=m(Le,4);function Fe(e,t,r){return Pe(e,1,t,r)}var Me=m(Fe,3);function Ue(e){return h(e)?e:function(...t){var r=t.pop(),n=!0;t.push((...e)=>{n?l(()=>r(...e)):r(...e)}),e.apply(this,t),n=!1}}function Ve(e,t,r){return we(e=>!e,e=>!e)(F,e,t,r)}var Be=m(Ve,3);function qe(e,t,r,n){return we(e=>!e,e=>!e)(A(t),e,r,n)}var Ge=m(qe,4);function $e(e,t,r){return we(e=>!e,e=>!e)(q,e,t,r)}var He=m($e,3);function Xe(e,t,r,n){var a=new Array(t.length);e(t,(e,t,n)=>{r(e,(e,r)=>{a[t]=!!r,n(e)})},e=>{if(e)return n(e);for(var r=[],i=0;i<t.length;i++)a[i]&&r.push(t[i]);n(null,r)})}function Qe(e,t,r,n){var a=[];e(t,(e,t,n)=>{r(e,(r,i)=>{if(r)return n(r);i&&a.push({index:t,value:e}),n(r)})},e=>{if(e)return n(e);n(null,a.sort((e,t)=>e.index-t.index).map(e=>e.value))})}function ze(e,t,r,n){var a=x(t)?Xe:Qe;return a(e,t,g(r),n)}function Je(e,t,r){return ze(F,e,t,r)}var We=m(Je,3);function Ye(e,t,r,n){return ze(A(t),e,r,n)}var Ke=m(Ye,4);function Ze(e,t,r){return ze(q,e,t,r)}var et=m(Ze,3);function tt(e,t){var r=R(t),n=g(Ue(e));function a(e){if(e)return r(e);!1!==e&&n(a)}return a()}var rt=m(tt,2);function nt(e,t,r,n){var a=g(r);return pe(e,t,(e,t)=>{a(e,(r,n)=>r?t(r):t(r,{key:n,val:e}))},(e,t)=>{for(var r={},{hasOwnProperty:a}=Object.prototype,i=0;i<t.length;i++)if(t[i]){var{key:o}=t[i],{val:s}=t[i];a.call(r,o)?r[o].push(s):r[o]=[s]}return n(e,r)})}var at=m(nt,4);function it(e,t,r){return at(e,1/0,t,r)}function ot(e,t,r){return at(e,1,t,r)}var st=Ie("log");function ut(e,t,r,n){n=E(n);var a={},i=g(r);return A(t)(e,(e,t,r)=>{i(e,t,(e,n)=>{if(e)return r(e);a[t]=n,r(e)})},e=>n(e,a))}var ct,lt=m(ut,4);function dt(e,t,r){return lt(e,1/0,t,r)}function pt(e,t,r){return lt(e,1,t,r)}function ft(e,t=(e=>e)){var r=Object.create(null),n=Object.create(null),i=g(e),o=a((e,a)=>{var o=t(...e);o in r?l(()=>a(null,...r[o])):o in n?n[o].push(a):(n[o]=[a],i(...e,(e,...t)=>{e||(r[o]=t);var a=n[o];delete n[o];for(var i=0,s=a.length;i<s;i++)a[i](e,...t)}))});return o.memo=r,o.unmemoized=e,o}ct=s?process.nextTick:o?setImmediate:u;var ht=c(ct),yt=m((e,t,r)=>{var n=x(t)?[]:{};e(t,(e,t,r)=>{g(e)((e,...a)=>{a.length<2&&([a]=a),n[t]=a,r(e)})},e=>r(e,n))},3);function vt(e,t){return yt(F,e,t)}function gt(e,t,r){return yt(A(t),e,r)}function mt(e,t){var r=g(e);return ae((e,t)=>{r(e[0],t)},t,1)}class bt{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;while(e>0&&Tt(this.heap[e],this.heap[t=xt(e)])){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}percDown(e){let t;while((t=wt(e))<this.heap.length){if(t+1<this.heap.length&&Tt(this.heap[t+1],this.heap[t])&&(t+=1),Tt(this.heap[e],this.heap[t]))break;let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let r=0;r<this.heap.length;r++)e(this.heap[r])||(this.heap[t]=this.heap[r],t++);this.heap.splice(t);for(let r=xt(this.heap.length-1);r>=0;r--)this.percDown(r);return this}}function wt(e){return 1+(e<<1)}function xt(e){return(e+1>>1)-1}function Tt(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function Et(e,t){var r=mt(e,t);return r._tasks=new bt,r.push=function(e,t=0,n=(()=>{})){if("function"!==typeof n)throw new Error("task callback must be a function");if(r.started=!0,Array.isArray(e)||(e=[e]),0===e.length&&r.idle())return l(()=>r.drain());for(var a=0,i=e.length;a<i;a++){var o={data:e[a],priority:t,callback:n};r._tasks.push(o)}l(r.process)},delete r.unshift,r}function Nt(e,t){if(t=E(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)g(e[r])(t)}var Ot=m(Nt,2);function _t(e,t,r,n){var a=[...e].reverse();return ue(a,t,r,n)}function It(e){var t=g(e);return a((function(e,r){return e.push((e,...t)=>{let n={};if(e&&(n.error=e),t.length>0){var a=t;t.length<=1&&([a]=t),n.value=a}r(null,n)}),t.apply(this,e)}))}function St(e){var t;return Array.isArray(e)?t=e.map(It):(t={},Object.keys(e).forEach(r=>{t[r]=It.call(this,e[r])})),t}function Rt(e,t,r,n){const a=g(r);return ze(e,t,(e,t)=>{a(e,(e,r)=>{t(e,!r)})},n)}function Ct(e,t,r){return Rt(F,e,t,r)}var At=m(Ct,3);function Dt(e,t,r,n){return Rt(A(t),e,r,n)}var kt=m(Dt,4);function jt(e,t,r){return Rt(q,e,t,r)}var Lt=m(jt,3);function Pt(e){return function(){return e}}const Ft=5,Mt=0;function Ut(e,t,r){var n={times:Ft,intervalFunc:Pt(Mt)};if(arguments.length<3&&"function"===typeof e?(r=t||Q(),t=e):(Vt(n,e),r=r||Q()),"function"!==typeof t)throw new Error("Invalid arguments for async.retry");var a=g(t),i=1;function o(){a((e,...t)=>{!1!==e&&(e&&i++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(e))?setTimeout(o,n.intervalFunc(i-1)):r(e,...t))})}return o(),r[X]}function Vt(e,t){if("object"===typeof t)e.times=+t.times||Ft,e.intervalFunc="function"===typeof t.interval?t.interval:Pt(+t.interval||Mt),e.errorFilter=t.errorFilter;else{if("number"!==typeof t&&"string"!==typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||Ft}}function Bt(e,t){t||(t=e,e=null);let r=e&&e.arity||t.length;h(t)&&(r+=1);var n=g(t);return a((t,a)=>{function i(e){n(...t,e)}return(t.length<r-1||null==a)&&(t.push(a),a=Q()),e?Ut(e,i,a):Ut(i,a),a[X]})}function qt(e,t){return yt(q,e,t)}function Gt(e,t,r){return we(Boolean,e=>e)(F,e,t,r)}var $t=m(Gt,3);function Ht(e,t,r,n){return we(Boolean,e=>e)(A(t),e,r,n)}var Xt=m(Ht,4);function Qt(e,t,r){return we(Boolean,e=>e)(q,e,t,r)}var zt=m(Qt,3);function Jt(e,t,r){var n=g(t);return U(e,(e,t)=>{n(e,(r,n)=>{if(r)return t(r);t(r,{value:e,criteria:n})})},(e,t)=>{if(e)return r(e);r(null,t.sort(a).map(e=>e.value))});function a(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}}var Wt=m(Jt,3);function Yt(e,t,r){var n=g(e);return a((a,i)=>{var o,s=!1;function u(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),s=!0,i(n)}a.push((...e)=>{s||(i(...e),clearTimeout(o))}),o=setTimeout(u,t),n(...a)})}function Kt(e){var t=Array(e);while(e--)t[e]=e;return t}function Zt(e,t,r,n){var a=g(r);return pe(Kt(e),t,a,n)}function er(e,t,r){return Zt(e,1/0,t,r)}function tr(e,t,r){return Zt(e,1,t,r)}function rr(e,t,r,n){arguments.length<=3&&"function"===typeof t&&(n=r,r=t,t=Array.isArray(e)?[]:{}),n=E(n||Q());var a=g(r);return F(e,(e,r,n)=>{a(t,e,r,n)},e=>n(e,t)),n[X]}function nr(e,t){var r,n=null;return Me(e,(e,t)=>{g(e)((e,...a)=>{if(!1===e)return t(e);a.length<2?[r]=a:r=a,n=e,t(e?null:{})})},()=>t(n,r))}var ar=m(nr);function ir(e){return(...t)=>(e.unmemoized||e)(...t)}function or(e,t,r){r=R(r);var n=g(t),a=g(e),i=[];function o(e,...t){if(e)return r(e);i=t,!1!==e&&a(s)}function s(e,t){return e?r(e):!1!==e?t?void n(o):r(null,...i):void 0}return a(s)}var sr=m(or,3);function ur(e,t,r){const n=g(e);return sr(e=>n((t,r)=>e(t,!r)),t,r)}function cr(e,t){if(t=E(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function n(t){var n=g(e[r++]);n(...t,R(a))}function a(a,...i){if(!1!==a)return a||r===e.length?t(a,...i):void n(i)}n([])}var lr=m(cr),dr={apply:n,applyEach:V,applyEachSeries:H,asyncify:d,auto:z,autoInject:te,cargo:ie,cargoQueue:oe,compose:le,concat:ve,concatLimit:he,concatSeries:me,constant:be,detect:Te,detectLimit:Ne,detectSeries:_e,dir:Se,doUntil:Ae,doWhilst:Ce,each:je,eachLimit:Pe,eachOf:F,eachOfLimit:k,eachOfSeries:q,eachSeries:Me,ensureAsync:Ue,every:Be,everyLimit:Ge,everySeries:He,filter:We,filterLimit:Ke,filterSeries:et,forever:rt,groupBy:it,groupByLimit:at,groupBySeries:ot,log:st,map:U,mapLimit:pe,mapSeries:$,mapValues:dt,mapValuesLimit:lt,mapValuesSeries:pt,memoize:ft,nextTick:ht,parallel:vt,parallelLimit:gt,priorityQueue:Et,queue:mt,race:Ot,reduce:ue,reduceRight:_t,reflect:It,reflectAll:St,reject:At,rejectLimit:kt,rejectSeries:Lt,retry:Ut,retryable:Bt,seq:ce,series:qt,setImmediate:l,some:$t,someLimit:Xt,someSeries:zt,sortBy:Wt,timeout:Yt,times:er,timesLimit:Zt,timesSeries:tr,transform:rr,tryEach:ar,unmemoize:ir,until:ur,waterfall:lr,whilst:sr,all:Be,allLimit:Ge,allSeries:He,any:$t,anyLimit:Xt,anySeries:zt,find:Te,findLimit:Ne,findSeries:_e,flatMap:ve,flatMapLimit:he,flatMapSeries:me,forEach:je,forEachSeries:Me,forEachLimit:Pe,forEachOf:F,forEachOfSeries:q,forEachOfLimit:k,inject:ue,foldl:ue,foldr:_t,select:We,selectLimit:Ke,selectSeries:et,wrapSync:d,during:sr,doDuring:Ce};t["default"]=dr},"33e3":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),o=n(r("9523")),s=function(){function e(t){(0,a.default)(this,e),(0,o.default)(this,"termType",void 0),(0,o.default)(this,"classOrder",void 0),(0,o.default)(this,"value",void 0),this.value=t}return(0,i.default)(e,[{key:"substitute",value:function(e){return console.log("@@@ node substitute"+this),this}},{key:"compareTerm",value:function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.value<e.value?-1:this.value>e.value?1:0}},{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value)}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(e){return this.equals(e)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toNQ",value:function(){return this.toNT()}},{key:"toString",value:function(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}]),e}();t.default=s,(0,o.default)(s,"fromValue",void 0),(0,o.default)(s,"toJS",void 0)},3410:function(e,t,r){var n=r("23e7"),a=r("d039"),i=r("7b0b"),o=r("e163"),s=r("e177"),u=a((function(){o(1)}));n({target:"Object",stat:!0,forced:u,sham:!s},{getPrototypeOf:function(e){return o(i(e))}})},3432:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b");class a extends n.DeleteFunctionHandler{async extractObjects(e,t,r){const n=await super.extractObjects(e,t,r),a=[];for await(const i of t)"BlankNode"!==i.termType&&a.push(i);return n?a.filter(e=>n.some(t=>t.equals(e))):a}}t.default=a},"36c6":function(e,t,r){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports["default"]=e.exports,e.exports.__esModule=!0,n(t)}r("3410"),e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},3896:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("ef3c")),a=r("f947");function i(e){return e&&e.__esModule?e:{default:e}}const o="SELECT ?activity WHERE {\n  ?activity a _:type;\n      <https://www.w3.org/ns/activitystreams#actor> _:actor;\n      <https://www.w3.org/ns/activitystreams#object> _:object.\n}\n";class s extends n.default{constructor(...e){super(...e),this.requireUser=!1}async*createResults(e,t,r){const n=(0,a.replaceVariables)(o,e);for await(const a of r.execute(n,t))yield a.values().next().value}}t.default=s},3897:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.docpart=o,t.document=s,t.hostpart=u,t.join=c,t.protocol=l,t.refTo=d;var a=n(r("606c")),i=i||console.log;function o(e){var t;return t=e.indexOf("#"),t<0?e:e.slice(0,t)}function s(e){return new a.default(o(e))}function u(e){var t=/[^\/]*\/\/([^\/]*)\//.exec(e);return t?t[1]:""}function c(e,t){var r,n,a,o,s,u,c=t.indexOf("#");if(c>0&&(t=t.slice(0,c)),0===e.length)return t;if(0===e.indexOf("#"))return t+e;if(o=e.indexOf(":"),o>=0)return e;if(r=t.indexOf(":"),0===t.length)return e;if(r<0)return i("Invalid base: "+t+" in join with given: "+e),e;if(n=t.slice(0,+r+1||9e9),0===e.indexOf("//"))return n+e;if(t.indexOf("//",r)===r+1){if(a=t.indexOf("/",r+3),a<0)return t.length-r-3>0?t+"/"+e:n+e}else if(a=t.indexOf("/",r+1),a<0)return t.length-r-1>0?t+"/"+e:n+e;if(0===e.indexOf("/"))return t.slice(0,a)+e;if(u=t.slice(a),s=u.lastIndexOf("/"),s<0)return n+e;s>=0&&s<u.length-1&&(u=u.slice(0,+s+1||9e9)),u+=e;while(u.match(/[^\/]*\/\.\.\//))u=u.replace(/[^\/]*\/\.\.\//,"");return u=u.replace(/\.\//g,""),u=u.replace(/\/\.$/,"/"),t.slice(0,a)+u}function l(e){var t=e.indexOf(":");return t<0?null:e.slice(0,t)}function d(e,t){var r,n,a,i,o,s,u,c,l,d,p,f,h,y=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!e)return t;if(e===t)return"";for(n=c=0,o=t.length;c<o;n=++c){var v=t[n];if(v!==e[n])break}if(e.slice(0,n).match(y)&&(a=t.indexOf("//"),a<0&&(a=-2),i=t.indexOf("/",a+2),"/"!==t[i+1]&&"/"!==e[i+1]&&t.slice(0,i)===e.slice(0,i)))return t.slice(i);if("#"===t[n]&&e.length===n)return t.slice(n);while(n>0&&"/"!==t[n-1])n--;if(n<3)return t;if(e.indexOf("//",n-2)>0||t.indexOf("//",n-2)>0)return t;if(e.indexOf(":",n)>0)return t;for(u=0,p=e.slice(n),l=0,s=p.length;l<s;l++)r=p[l],"/"===r&&u++;if(0===u&&n<t.length&&"#"===t[n])return"./"+t.slice(n);if(0===u&&n===t.length)return"./";if(h="",u>0)for(d=1,f=u;f>=1?d<=f:d>=f;f>=1?++d:--d)h+="../";return h+t.slice(n)}},"3c96":function(e,t){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"3c962":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={debug:function(e){},warn:function(e){},info:function(e){},error:function(e){},success:function(e){},msg:function(e){}},a=n;t.default=a},"3e6b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=n,n.INSTANCE=new n},"3ecc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toSparqlJs=t.toSparql=void 0;const n=r("8eeb4"),a=r("2c03"),i=r("9659"),o=r("ef12"),s=r("5189"),u=r("b4c9").Generator,c=r("b4c9").Wildcard,l=a.types,d=a.expressionTypes;let p;const f=new i.default;function h(e,t={}){let r=new u(t);return r.stringify(y(e))}function y(e){v(),e=ve(e);let t=g(e);return"group"===t.type?t.patterns[0]:t}function v(){p={project:!1,extend:[],group:[],aggregates:[],order:[]}}function g(e){switch(e.type!==l.EXTEND&&e.type!==l.ORDER_BY&&e.type!==l.GRAPH&&(p.project=!1),e.type){case l.EXPRESSION:return m(e);case l.ASK:return G(e,l.ASK);case l.BGP:return S(e);case l.CONSTRUCT:return R(e);case l.DESCRIBE:return G(e,l.DESCRIBE);case l.DISTINCT:return C(e);case l.EXTEND:return A(e);case l.FROM:return D(e);case l.FILTER:return k(e);case l.GRAPH:return j(e);case l.GROUP:return L(e);case l.JOIN:return P(e);case l.LEFT_JOIN:return F(e);case l.MINUS:return M(e);case l.ORDER_BY:return U(e);case l.PATH:return V(e);case l.PATTERN:return B(e);case l.PROJECT:return G(e,l.PROJECT);case l.REDUCED:return H(e);case l.SERVICE:return X(e);case l.SLICE:return Q(e);case l.UNION:return z(e);case l.VALUES:return J(e);case l.COMPOSITE_UPDATE:return ae(e);case l.DELETE_INSERT:return ie(e);case l.LOAD:return oe(e);case l.CLEAR:return se(e);case l.CREATE:return ue(e);case l.DROP:return ce(e);case l.ADD:return de(e);case l.MOVE:return pe(e);case l.COPY:return fe(e)}throw new Error("Unknown Operation type "+e.type)}function m(e){switch(e.expressionType){case d.AGGREGATE:return x(e);case d.EXISTENCE:return T(e);case d.NAMED:return E(e);case d.OPERATOR:return N(e);case d.TERM:return O(e);case d.WILDCARD:return _(e)}throw new Error("Unknown Expression Operation type "+e.expressionType)}function b(e){switch(e.type){case l.ALT:return W(e);case l.INV:return Y(e);case l.LINK:return K(e);case l.NPS:return Z(e);case l.ONE_OR_MORE_PATH:return ee(e);case l.SEQ:return te(e);case l.ZERO_OR_MORE_PATH:return re(e);case l.ZERO_OR_ONE_PATH:return ne(e)}throw new Error("Unknown Path type "+e.type)}function w(e){return s.termToString(e)}function x(e){let t={expression:m(e.expression),type:"aggregate",aggregation:e.aggregator,distinct:e.distinct};return e.separator&&(t.separator=e.separator),t}function T(e){return{type:"operation",operator:e.not?"notexists":"exists",args:o.default.flatten([g(e.input)])}}function E(e){return{type:"functionCall",function:e.name,args:e.args.map(m)}}function N(e){if("desc"===e.operator){let t={expression:m(e.args[0]),descending:!0};return t}let t={type:"operation",operator:e.operator,args:e.args.map(m)};return"in"!==t.operator&&"notin"!==t.operator||(t.args=[t.args[0]].concat([t.args.slice(1)])),t}function O(e){return e.term}function _(e){return e.wildcard}function I(e){return e}function S(e){let t=e.patterns.map(B);return 0===t.length?null:{type:"bgp",triples:t}}function R(e){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:e.template.map(B),where:o.default.flatten([g(e.input)])}}function C(e){let t=g(e.input);return t.patterns[0].distinct=!0,t}function A(e){return p.project?(p.extend.push(e),g(e.input)):o.default.flatten([g(e.input),{type:"bind",variable:e.variable,expression:m(e.expression)}])}function D(e){let t=g(e.input),r=t.patterns[0];return r.from={default:e.default,named:e.named},t}function k(e){return{type:"group",patterns:o.default.flatten([g(e.input),{type:"filter",expression:m(e.expression)}])}}function j(e){return{type:"graph",patterns:o.default.flatten([g(e.input)]),name:e.name}}function L(e){let t=g(e.input),r=e.aggregates.map(I);return p.aggregates.push(...r),p.group.push(...e.variables),t}function P(e){const t=o.default.flatten([g(e.left),g(e.right)]);return t.reduce((e,t)=>("bgp"!==t.type||0==e.length||"bgp"!==e[e.length-1].type?e.push(t):e[e.length-1].triples.push(...t.triples),e),[])}function F(e){let t={type:"optional",patterns:[g(e.right)]};return e.expression&&t.patterns.push({type:"filter",expression:m(e.expression)}),t.patterns=o.default.flatten(t.patterns),o.default.flatten([g(e.left),t])}function M(e){let t=g(e.right);return"group"===t.type&&(t=t.patterns),Array.isArray(t)||(t=[t]),o.default.flatten([g(e.left),{type:"minus",patterns:t}])}function U(e){return p.order.push(...e.expressions),g(e.input)}function V(e){return{type:"bgp",triples:[{subject:e.subject,predicate:b(e.predicate),object:e.object}]}}function B(e){return{subject:e.subject,predicate:e.predicate,object:e.object}}function q(e,t){let r=o.default.isTerm(e)?w(e):e;if("string"===typeof r){if(t[r])return t[r]}else if(Array.isArray(e))e=e.map(e=>q(e,t));else for(let n of Object.keys(e))e[n]=q(e[n],t);return e}function G(e,t){let r={type:"query",prefixes:{}};t===l.PROJECT?(r.queryType="SELECT",r.variables=e.variables):t===l.ASK?r.queryType="ASK":t===l.DESCRIBE&&(r.queryType="DESCRIBE",r.variables=e.terms);let n=p.extend,a=p.group,i=p.aggregates,s=p.order;v(),p.project=!0;let u=o.default.flatten([g(e.input)]);1===u.length&&"group"===u[0].type&&(u=u[0].patterns),r.where=u;let d={};for(let o of p.aggregates)d[w(o.variable)]=m(o);let f={};for(let o=p.extend.length-1;o>=0;--o){let e=p.extend[o];f[w(e.variable)]=q(m(e.expression),d)}if(p.group.length>0&&(r.group=p.group.map(e=>{let t=w(e);if(f[t]){let r=f[t];return delete f[t],{variable:e,expression:r}}return{expression:e}})),p.order.length>0&&(r.order=p.order.map(g).map(e=>e.descending?e:{expression:e})),r.variables&&(r.variables=r.variables.map(e=>{let t=w(e);return f[t]?{variable:e,expression:f[t]}:e}),0===r.variables.length&&(r.variables=[new c])),r.where.length>0&&"filter"===r.where[r.where.length-1].type){let e=r.where[r.where.length-1];$(e,Object.keys(d))&&(r.having=o.default.flatten([q(e.expression,d)]),r.where.splice(-1))}return p.extend=n,p.group=a,p.aggregates=i,p.order=s,r={type:"group",patterns:[r]},r}function $(e,t){return o.default.isTerm(e)?t.indexOf(w(e))>=0:Array.isArray(e)?e.some(e=>$(e,t)):e===Object(e)?Object.keys(e).some(r=>$(e[r],t)):t.indexOf(e)>=0}function H(e){let t=g(e.input);return t.patterns[0].reduced=!0,t}function X(e){let t=g(e.input);return"group"===t.type&&(t=t.patterns),Array.isArray(t)||(t=[t]),{type:"service",name:e.name,silent:e.silent,patterns:t}}function Q(e){let t=g(e.input),r=t;return t.type&&"group"===t.type&&(r=t.patterns[0]),0!==e.start&&(r.offset=e.start),void 0!==e.length&&(r.limit=e.length),t}function z(e){return{type:"union",patterns:o.default.flatten([g(e.left),g(e.right)])}}function J(e){return{type:"values",values:e.bindings.map(t=>{let r={};for(let n of e.variables){let e="?"+n.value;t[e]?r[e]=t[e]:r[e]=void 0}return r})}}function W(e){let t=b(e.left),r=b(e.right);return"!"===t.pathType&&"!"===r.pathType?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:[].concat(t.items,r.items)}]}:{type:"path",pathType:"|",items:[t,r]}}function Y(e){if(e.path.type===l.NPS){let t=e.path,r=t.iris.map(e=>({type:"path",pathType:"^",items:[e]}));return r.length<=1?{type:"path",pathType:"!",items:r}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:r}]}}return{type:"path",pathType:"^",items:[b(e.path)]}}function K(e){return e.iri}function Z(e){return e.iris.length<=1?{type:"path",pathType:"!",items:e.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:e.iris}]}}function ee(e){return{type:"path",pathType:"+",items:[b(e.path)]}}function te(e){return{type:"path",pathType:"/",items:[b(e.left),b(e.right)]}}function re(e){return{type:"path",pathType:"*",items:[b(e.path)]}}function ne(e){return{type:"path",pathType:"?",items:[b(e.path)]}}function ae(e){const t=e.updates.map(e=>{const t=g(e);return t.updates[0]});return{prefixes:{},type:"update",updates:t}}function ie(e){let t=e.where,r=void 0;if(t&&t.type===l.FROM){let n=e.where;t=n.input,r={default:n.default,named:n.named}}const a=[{updateType:"insertdelete",delete:ye(e.delete),insert:ye(e.insert)}];if(r&&(a[0].using=r),!t||t.type===l.BGP&&0===t.patterns.length)a[0].where=[];else{const e={};let r=g(ge(t,e));"group"===r.type?a[0].where=r.patterns:a[0].where=[r];const n=Object.keys(e);if(n.length>0){if(1!==n.length)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");""!==e[n[0]].graph.value&&(a[0].where=[{type:"graph",patterns:a[0].where,name:e[n[0]].graph}])}}return e.delete||e.where?e.insert||e.where?!e.insert&&e.where&&"bgp"===e.where.type&&n.isomorphic(e.delete,e.where.patterns)&&(delete a[0].where,a[0].updateType="deletewhere"):(delete a[0].insert,delete a[0].where,e.delete.some(e=>"Variable"===e.subject.termType||"Variable"===e.predicate.termType||"Variable"===e.object.termType)?a[0].updateType="deletewhere":a[0].updateType="delete"):(a[0].updateType="insert",delete a[0].delete,delete a[0].where),{prefixes:{},type:"update",updates:a}}function oe(e){const t=[{type:"load",silent:Boolean(e.silent),source:e.source}];return e.destination&&(t[0].destination=e.destination),{prefixes:{},type:"update",updates:t}}function se(e){return le(e,"clear")}function ue(e){return le(e,"create")}function ce(e){return le(e,"drop")}function le(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return"DEFAULT"===e.source?r[0].graph={default:!0}:"NAMED"===e.source?r[0].graph={named:!0}:"ALL"===e.source?r[0].graph={all:!0}:r[0].graph={type:"graph",name:e.source},{prefixes:{},type:"update",updates:r}}function de(e){return he(e,"add")}function pe(e){return he(e,"move")}function fe(e){return he(e,"copy")}function he(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return r[0].source="DEFAULT"===e.source?{type:"graph",default:!0}:{type:"graph",name:e.source},r[0].destination="DEFAULT"===e.destination?{type:"graph",default:!0}:{type:"graph",name:e.destination},{prefixes:{},type:"update",updates:r}}function ye(e){if(!e)return[];const t={};return e.forEach(e=>{const r=e.graph.value;t[r]||(t[r]=[]),t[r].push(e)}),Object.keys(t).map(e=>""===e?{type:"bgp",triples:t[e].map(B)}:{type:"graph",triples:t[e].map(B),name:t[e][0].graph})}function ve(e){return ge(e,{})}function ge(e,t){if(Array.isArray(e))return e.map(e=>ge(e,t));if(!e.type)return e;if(e.type===l.DELETE_INSERT)return e;if((e.type===l.PATTERN||e.type===l.PATH)&&e.graph)return t[e.graph.value]||(t[e.graph.value]={graph:e.graph,values:[]}),t[e.graph.value].values.push(e),e;const r={},n={},a={};for(let o of Object.keys(e)){const t={};r[o]=ge(e[o],t);const i=Object.keys(t);if(i.length>1){let e=me(t[i[0]].values);for(let r=1;r<i.length;++r){const n=me(t[i[r]].values);e=f.createJoin(e,n)}return i.map(e=>delete t[e]),e}if(1===i.length){const e=t[i[0]].graph;n[o]=e,a[e.value]=e}}const i=Object.keys(a);if(i.length>0)if(1===i.length&&e.type!==l.PROJECT)t[i[0]]={graph:a[i[0]],values:[r]};else for(let o of Object.keys(n))n[o].value.length>0&&(r[o]=f.createGraph(r[o],n[o]));return r}function me(e){const t=f.createBgp(e),r=e[0].graph;return 0===r.value.length?t:f.createGraph(t,r)}t.toSparql=h,t.toSparqlJs=y},4192:function(e,t,r){"use strict";const n=r("29308"),a={};e.exports=a,a.isSubject=e=>{if(n.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){const t=Object.keys(e).length;return t>1||!("@id"in e)}return!1},a.isSubjectReference=e=>n.isObject(e)&&1===Object.keys(e).length&&"@id"in e,a.isValue=e=>n.isObject(e)&&"@value"in e,a.isList=e=>n.isObject(e)&&"@list"in e,a.isGraph=e=>n.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length,a.isSimpleGraph=e=>a.isGraph(e)&&!("@id"in e),a.isBlankNode=e=>!!n.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))},"41a5":function(e,t,r){"use strict";const n=r("5dee");e.exports=class extends n{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;let a=0;for(const i of n){let n,o;if("BlankNode"===i.subject.termType&&i.subject.value!==e)o=i.subject.value,n="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;o=i.object.value,n="r"}++a%100===0&&await this._yield();const s=await this.hashRelatedBlankNode(o,i,t,n),u=r.get(s);u?u.push(o):r.set(s,[o])}return r}}},"41e0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTermGrounded=t.termToSignature=t.quadToSignature=t.sha1hex=t.hashTerm=t.hashTerms=t.getGraphBlankNodes=t.uniqGraph=t.deindexGraph=t.indexGraph=t.getQuadsWithoutBlankNodes=t.getQuadsWithBlankNodes=t.hasValue=t.hashValues=t.getBijectionInner=t.getBijection=t.isomorphic=void 0;const n=r("7d92"),a=r("5189"),i=r("68dd");function o(e,t){return!!s(e,t)}function s(e,t){const r=h(f(e)),n=h(f(t));if(Object.keys(r).length!==Object.keys(n).length)return null;for(const u in r)if(r[u]!==n[u])return null;const a=v(p(e)),i=v(p(t)),o=g(e),s=g(t);return u(a,i,o,s)}function u(e,t,r,n,i,o){i||(i={}),o||(o={});const[s,p]=m(e,r,i),[f,h]=m(t,n,o);if(Object.keys(s).length!==Object.keys(f).length)return null;for(const a in s)if(!d(f,s[a]))return null;let y={};for(const u of r){const e=a.termToString(u),t=p[e];for(const r in h)if(h[r]===t){y[e]=r,delete h[r];break}}if(!c(Object.keys(y).sort(),r.map(a.termToString).sort())||!c(l(y).sort(),n.map(a.termToString).sort())){y=null;for(const i of r){const o=a.termToString(i);if(!s[o])for(const i of n){const c=a.termToString(i);if(!f[c]&&p[o]===h[c]){const a=w(o);y=u(e,t,r,n,Object.assign(Object.assign({},s),{[o]:a}),Object.assign(Object.assign({},f),{[c]:a}))}}}}return y}function c(e,t){if(e.length!==t.length)return!1;for(let r=e.length;r--;)if(e[r]!==t[r])return!1;return!0}function l(e){const t=[];for(const r in e)t.push(e[r]);return t}function d(e,t){for(const r in e)if(e[r]===t)return!0;return!1}function p(e){return e.filter(e=>i.someTerms(e,e=>"BlankNode"===e.termType||"Quad"===e.termType&&i.getTermsNested(e).some(e=>"BlankNode"===e.termType)))}function f(e){return e.filter(e=>i.everyTerms(e,e=>"BlankNode"!==e.termType&&!("Quad"===e.termType&&i.getTermsNested(e).some(e=>"BlankNode"===e.termType))))}function h(e){const t={};for(const r of e)t[JSON.stringify(a.quadToStringQuad(r))]=!0;return t}function y(e){return Object.keys(e).map(e=>a.stringQuadToQuad(JSON.parse(e)))}function v(e){return y(h(e))}function g(e){return i.uniqTerms(e.map(e=>i.getBlankNodes(i.getTermsNested(e))).reduce((e,t)=>e.concat(t),[]))}function m(e,t,r){const n=Object.assign({},r),i={};let o=!0;while(o){const r=Object.keys(n).length;for(const o of t){const t=a.termToString(o);if(!n[t]){const[r,a]=b(o,e,n);r&&(n[t]=a),i[t]=a}}const s={};for(const e in i){const t=i[e];void 0===s[t]?s[t]=e:s[t]=!1}for(const e in s){const t=s[e];t&&(n[t]=e)}o=r!==Object.keys(n).length}return[n,i]}function b(e,t,r){const n=[];let a=!0;for(const s of t){const t=i.getTermsNested(s);if(t.some(t=>t.equals(e))){n.push(x(s,r,e));for(const n of t)E(n,r)||n.equals(e)||(a=!1)}}const o=w(n.sort().join(""));return[a,o]}function w(e){return n.sha1().update(e).digest("hex")}function x(e,t,r){return i.getTerms(e).map(e=>T(e,t,r)).join("|")}function T(e,t,r){return e.equals(r)?"@self":"BlankNode"===e.termType?t[a.termToString(e)]||"@blank":"Quad"===e.termType?`<${x(e,t,r)}>`:a.termToString(e)}function E(e,t){return"BlankNode"!==e.termType&&!("Quad"===e.termType&&i.getTermsNested(e).some(e=>!E(e,t)))||!!t[a.termToString(e)]}t.isomorphic=o,t.getBijection=s,t.getBijectionInner=u,t.hashValues=l,t.hasValue=d,t.getQuadsWithBlankNodes=p,t.getQuadsWithoutBlankNodes=f,t.indexGraph=h,t.deindexGraph=y,t.uniqGraph=v,t.getGraphBlankNodes=g,t.hashTerms=m,t.hashTerm=b,t.sha1hex=w,t.quadToSignature=x,t.termToSignature=T,t.isTermGrounded=E},"424d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonLdContextNormalized=void 0;const n=r("e43f"),a=r("4f5c"),i=r("56af"),o=r("5bc9");class s{constructor(e){this.contextRaw=e}getContextRaw(){return this.contextRaw}expandTerm(e,t,r=a.defaultExpandOptions){const s=this.contextRaw[e];if(null===s||s&&null===s["@id"])return null;let u=!0;if(s&&t){const t=o.Util.getContextValueId(s);if(t&&t!==e){if("string"===typeof t&&(o.Util.isValidIri(t)||o.Util.isValidKeyword(t)))return t;o.Util.isPotentialKeyword(t)||(u=!1)}}const c=o.Util.getPrefix(e,this.contextRaw),l=this.contextRaw["@vocab"],d=(!!l||""===l)&&l.indexOf(":")<0,p=this.contextRaw["@base"],f=o.Util.isPotentialKeyword(e);if(c){const t=this.contextRaw[c],n=o.Util.getContextValueId(t);if(n){if("string"!==typeof t&&r.allowPrefixForcing){if("_"!==n[0]&&!f&&!t["@prefix"]&&!(e in this.contextRaw))return e}else if(!o.Util.isSimpleTermDefinitionPrefix(n,r))return e;return n+e.substr(c.length+1)}}else{if(t&&(l||""===l||r.allowVocabRelativeToBase&&p&&d)&&!f&&!o.Util.isCompactIri(e)){if(d){if(r.allowVocabRelativeToBase)return n.resolve(l,p)+e;throw new i.ErrorCoded(`Relative vocab expansion for term '${e}' with vocab '${l}' is not allowed.`,i.ERROR_CODES.INVALID_VOCAB_MAPPING)}return l+e}if(!t&&p&&!f&&!o.Util.isCompactIri(e))return n.resolve(e,p)}if(u)return e;throw new i.ErrorCoded(`Invalid IRI mapping found for context entry '${e}': '${JSON.stringify(s)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(e,t){if(t&&this.contextRaw["@vocab"]&&e.startsWith(this.contextRaw["@vocab"]))return e.substr(this.contextRaw["@vocab"].length);if(!t&&this.contextRaw["@base"]&&e.startsWith(this.contextRaw["@base"]))return e.substr(this.contextRaw["@base"].length);const r={prefix:"",suffix:e};for(const n in this.contextRaw){const a=this.contextRaw[n];if(a&&!o.Util.isPotentialKeyword(n)){const i=o.Util.getContextValueId(a);if(e.startsWith(i)){const a=e.substr(i.length);if(a)a.length<r.suffix.length&&(r.prefix=n,r.suffix=a);else if(t)return n}}}return r.prefix?r.prefix+":"+r.suffix:e}}t.JsonLdContextNormalized=s},"43f5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLContentType=t.TurtleLegacyContentType=t.TurtleContentType=t.SPARQLUpdateContentType=t.RDFXMLContentType=t.NTriplesContentType=t.NQuadsContentType=t.NQuadsAltContentType=t.N3LegacyContentType=t.N3ContentType=t.JSONLDContentType=t.HTMLContentType=t.GraphTermType=t.EmptyTermType=t.CollectionTermType=t.DefaultGraphTermType=t.VariableTermType=t.LiteralTermType=t.BlankNodeTermType=t.NamedNodeTermType=void 0;var n="NamedNode";t.NamedNodeTermType=n;var a="BlankNode";t.BlankNodeTermType=a;var i="Literal";t.LiteralTermType=i;var o="Variable";t.VariableTermType=o;var s="DefaultGraph";t.DefaultGraphTermType=s;var u="Collection";t.CollectionTermType=u;var c="Empty";t.EmptyTermType=c;var l="Graph";t.GraphTermType=l;var d="text/html";t.HTMLContentType=d;var p="application/ld+json";t.JSONLDContentType=p;var f="text/n3";t.N3ContentType=f;var h="application/n3";t.N3LegacyContentType=h;var y="application/nquads";t.NQuadsAltContentType=y;var v="application/n-quads";t.NQuadsContentType=v;var g="application/n-triples";t.NTriplesContentType=g;var m="application/rdf+xml";t.RDFXMLContentType=m;var b="application/sparql-update";t.SPARQLUpdateContentType=b;var w="text/turtle";t.TurtleContentType=w;var x="application/x-turtle";t.TurtleLegacyContentType=x;var T="application/xhtml+xml";t.XHTMLContentType=T},"43f6":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("970b")),i=n(r("3c96")),o=n(r("5bc3")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("21b4")),p=n(r("33e3")),f=r("43f5");function h(e){var t=y();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,s.default)(r,e);var t=h(r);function r(e){var n;return(0,a.default)(this,r),n=t.call(this,r.getId(e)),(0,l.default)((0,i.default)(n),"termType",f.BlankNodeTermType),(0,l.default)((0,i.default)(n),"classOrder",d.default.BlankNode),(0,l.default)((0,i.default)(n),"isBlank",1),(0,l.default)((0,i.default)(n),"isVar",1),n}return(0,o.default)(r,null,[{key:"getId",value:function(e){if(e){if("string"!==typeof e)throw console.log("Bad blank id:",e),new Error("Bad id argument to new blank node: "+e);if(e.includes("#")){var t=e.split("#");return t[t.length-1]}return e}return"n"+r.nextId++}}]),(0,o.default)(r,[{key:"compareTerm",value:function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.id<e.id?-1:this.id>e.id?1:0}},{key:"copy",value:function(e){var t=new r;return e.copyTo(this,t),t}},{key:"toCanonical",value:function(){return r.NTAnonymousNodePrefix+this.value}},{key:"toString",value:function(){return r.NTAnonymousNodePrefix+this.id}},{key:"id",get:function(){return this.value},set:function(e){this.value=e}}]),r}(p.default);t.default=v,(0,l.default)(v,"nextId",0),(0,l.default)(v,"NTAnonymousNodePrefix","_:")},"45d5":function(e,t,r){(function(t,n){
/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2019 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
const a=r("8fd9"),i=r("14b4"),o=r("6d47"),s=i.IdentifierIssuer,u=r("a2c2"),c=r("f81b"),l=r("66a7"),d=r("1c32"),{expand:p}=r("f499"),{flatten:f}=r("7b39"),{fromRDF:h}=r("c6fe"),{toRDF:y}=r("4627"),{frameMergedOrDefault:v,cleanupNull:g}=r("4f10"),{isArray:m,isObject:b,isString:w}=r("29308"),{isSubjectReference:x}=r("4192"),{expandIri:T,getInitialContext:E,process:N,processingMode:O}=r("5749"),{compact:_,compactIri:I}=r("87fb"),{createNodeMap:S,createMergedNodeMap:R,mergeNodeMaps:C}=r("212e"),A="undefined"!==typeof t&&t.versions&&t.versions.node,D=!A&&("undefined"!==typeof window||"undefined"!==typeof self),k=function(e){const t={},k=100,j=new c({max:k});function L(t,{documentLoader:r=e.documentLoader,...n}){return Object.assign({},{documentLoader:r},n,t)}return e.compact=async function(t,r,n){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===r)throw new u("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let a;n=L(n,{base:w(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new o({sharedCache:j})}),n.link&&(n.skipExpansion=!0),n.compactToRelative||delete n.base,a=n.skipExpansion?t:await e.expand(t,n);const c=await e.processContext(E(n),r,n);let l=await _({activeCtx:c,element:a,options:n,compactionMap:n.compactionMap});n.compactArrays&&!n.graph&&m(l)?1===l.length?l=l[0]:0===l.length&&(l={}):n.graph&&b(l)&&(l=[l]),b(r)&&"@context"in r&&(r=r["@context"]),r=i.clone(r),m(r)||(r=[r]);const d=r;r=[];for(let e=0;e<d.length;++e)(!b(d[e])||Object.keys(d[e]).length>0)&&r.push(d[e]);const p=r.length>0;if(1===r.length&&(r=r[0]),m(l)){const e=I({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),t=l;l={},p&&(l["@context"]=r),l[e]=t}else if(b(l)&&p){const e=l;l={"@context":r};for(const t in e)l[t]=e[t]}return l},e.expand=async function(t,r){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");r=L(r,{keepFreeFloatingNodes:!1,contextResolver:new o({sharedCache:j})}),!1===r.expansionMap&&(r.expansionMap=void 0);const n={},a=[];if("expandContext"in r){const e=i.clone(r.expandContext);b(e)&&"@context"in e?n.expandContext=e:n.expandContext={"@context":e},a.push(n.expandContext)}let s;if(w(t)){const i=await e.get(t,r);s=i.documentUrl,n.input=i.document,i.contextUrl&&(n.remoteContext={"@context":i.contextUrl},a.push(n.remoteContext))}else n.input=i.clone(t);"base"in r||(r.base=s||"");let u=E(r);for(const e of a)u=await N({activeCtx:u,localCtx:e,options:r});let c=await p({activeCtx:u,element:n.input,options:r,expansionMap:r.expansionMap});return b(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),m(c)||(c=[c]),c},e.flatten=async function(t,r,n){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");r="function"===typeof r?null:r||null,n=L(n,{base:w(t)?t:"",contextResolver:new o({sharedCache:j})});const a=await e.expand(t,n),i=f(a);if(null===r)return i;n.graph=!0,n.skipExpansion=!0;const s=await e.compact(i,r,n);return s},e.frame=async function(t,r,n){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(n=L(n,{base:w(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new o({sharedCache:j})}),w(r)){const t=await e.get(r,n);if(r=t.document,t.contextUrl){let e=r["@context"];e?m(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,r["@context"]=e}}const a=r&&r["@context"]||{},i=await e.processContext(E(n),a,n);n.hasOwnProperty("omitGraph")||(n.omitGraph=O(i,1.1)),n.hasOwnProperty("pruneBlankNodeIdentifiers")||(n.pruneBlankNodeIdentifiers=O(i,1.1));const s=await e.expand(t,n),u={...n};u.isFrame=!0,u.keepFreeFloatingNodes=!0;const c=await e.expand(r,u),l=Object.keys(r).map(e=>T(i,e,{vocab:!0}));u.merged=!l.includes("@graph"),u.is11=O(i,1.1);const d=v(s,c,u);u.graph=!n.omitGraph,u.skipExpansion=!0,u.link={},u.framing=!0;let p=await e.compact(d,a,u);return u.link={},p=g(p,u),p},e.link=async function(t,r,n){const a={};return r&&(a["@context"]=r),a["@embed"]="@link",e.frame(t,a,n)},e.normalize=e.canonize=async function(t,r){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(r=L(r,{base:w(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new o({sharedCache:j})}),"inputFormat"in r){if("application/n-quads"!==r.inputFormat&&"application/nquads"!==r.inputFormat)throw new u("Unknown canonicalization input format.","jsonld.CanonizeError");const e=l.parse(t);return a.canonize(e,r)}const n={...r};delete n.format,n.produceGeneralizedRdf=!1;const i=await e.toRDF(t,n);return a.canonize(i,r)},e.fromRDF=async function(e,r){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");r=L(r,{format:w(e)?"application/n-quads":void 0});const{format:n}=r;let{rdfParser:a}=r;if(n){if(a=a||t[n],!a)throw new u("Unknown input format.","jsonld.UnknownFormat",{format:n})}else a=()=>e;const i=await a(e);return h(i,r)},e.toRDF=async function(t,r){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let n;r=L(r,{base:w(t)?t:"",skipExpansion:!1,contextResolver:new o({sharedCache:j})}),n=r.skipExpansion?t:await e.expand(t,r);const a=y(n,r);if(r.format){if("application/n-quads"===r.format||"application/nquads"===r.format)return await l.serialize(a);throw new u("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}return a},e.createNodeMap=async function(t,r){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");r=L(r,{base:w(t)?t:"",contextResolver:new o({sharedCache:j})});const n=await e.expand(t,r);return R(n,r)},e.merge=async function(t,r,n){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!m(t))throw new TypeError('Could not merge, "docs" must be an array.');r="function"===typeof r?null:r||null,n=L(n,{contextResolver:new o({sharedCache:j})});const a=await Promise.all(t.map(t=>{const r={...n};return e.expand(t,r)}));let u=!0;"mergeNodes"in n&&(u=n.mergeNodes);const c=n.issuer||new s("_:b"),l={"@default":{}};for(let e=0;e<a.length;++e){const t=i.relabelBlankNodes(a[e],{issuer:new s("_:b"+e+"-")}),r=u||0===e?l:{"@default":{}};if(S(t,r,"@default",c),r!==l)for(const e in r){const t=r[e];if(!(e in l)){l[e]=t;continue}const n=l[e];for(const e in t)e in n||(n[e]=t[e])}}const d=C(l),p=[],f=Object.keys(d).sort();for(let e=0;e<f.length;++e){const t=d[f[e]];x(t)||p.push(t)}if(null===r)return p;n.graph=!0,n.skipExpansion=!0;const h=await e.compact(p,r,n);return h},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new u("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,r){let n;n="function"===typeof r.documentLoader?r.documentLoader:e.documentLoader;const a=await n(t);try{if(!a.document)throw new u("No remote document found at the given URL.","jsonld.NullRemoteDocument");w(a.document)&&(a.document=JSON.parse(a.document))}catch(i){throw new u("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:i,remoteDoc:a})}return a},e.processContext=async function(e,t,r){return r=L(r,{base:"",contextResolver:new o({sharedCache:j})}),null===t?E(r):(t=i.clone(t),b(t)&&"@context"in t||(t={"@context":t}),N({activeCtx:e,localCtx:t,options:r}))},e.getContextValue=r("5749").getContextValue,e.documentLoaders={},e.documentLoaders.node=r("6e759"),e.documentLoaders.xhr=r("9e0d"),e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new u('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",l.parse),e.registerRDFParser("application/nquads",l.parse),e.registerRDFParser("rdfa-api",d.parse),e.url=r("f060"),e.util=i,Object.assign(e,i),e.promises=e,e.RequestQueue=r("0c02"),e.JsonLdProcessor=r("9ff5")(e),D&&"undefined"===typeof n.JsonLdProcessor&&Object.defineProperty(n,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor}),A?e.useDocumentLoader("node"):"undefined"!==typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),e},j=function(){return k((function(){return j()}))};k(j),e.exports=j}).call(this,r("4362"),r("c8ba"))},4627:function(e,t,r){"use strict";const{createNodeMap:n}=r("212e"),{isKeyword:a}=r("5749"),i=r("4192"),o=r("5727"),s=r("29308"),u=r("14b4"),{RDF_FIRST:c,RDF_REST:l,RDF_NIL:d,RDF_TYPE:p,RDF_JSON_LITERAL:f,RDF_LANGSTRING:h,XSD_BOOLEAN:y,XSD_DOUBLE:v,XSD_INTEGER:g,XSD_STRING:m}=r("4c4c"),{isAbsolute:b}=r("f060"),w={};function x(e,t,r,n,i){const o=Object.keys(t).sort();for(const s of o){const o=t[s],u=Object.keys(o).sort();for(let t of u){const u=o[t];if("@type"===t)t=p;else if(a(t))continue;for(const a of u){const o={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!b(s))continue;const u={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!b(t))continue;if("BlankNode"===u.termType&&!i.produceGeneralizedRdf)continue;const c=E(a,n,e,r,i.rdfDirection);c&&e.push({subject:o,predicate:u,object:c,graph:r})}}}}function T(e,t,r,n,a){const i={termType:"NamedNode",value:c},o={termType:"NamedNode",value:l},s={termType:"NamedNode",value:d},u=e.pop(),p=u?{termType:"BlankNode",value:t.getId()}:s;let f=p;for(const c of e){const e=E(c,t,r,n,a),s={termType:"BlankNode",value:t.getId()};r.push({subject:f,predicate:i,object:e,graph:n}),r.push({subject:f,predicate:o,object:s,graph:n}),f=s}if(u){const e=E(u,t,r,n,a);r.push({subject:f,predicate:i,object:e,graph:n}),r.push({subject:f,predicate:o,object:s,graph:n})}return p}function E(e,t,r,n,a){const u={};if(i.isValue(e)){u.termType="Literal",u.value=void 0,u.datatype={termType:"NamedNode"};let t=e["@value"];const r=e["@type"]||null;if("@json"===r)u.value=o(t),u.datatype.value=f;else if(s.isBoolean(t))u.value=t.toString(),u.datatype.value=r||y;else if(s.isDouble(t)||r===v)s.isDouble(t)||(t=parseFloat(t)),u.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),u.datatype.value=r||v;else if(s.isNumber(t))u.value=t.toFixed(0),u.datatype.value=r||g;else if("i18n-datatype"===a&&"@direction"in e){const r="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+"_"+e["@direction"];u.datatype.value=r,u.value=t}else"@language"in e?(u.value=t,u.datatype.value=r||h,u.language=e["@language"]):(u.value=t,u.datatype.value=r||m)}else if(i.isList(e)){const i=T(e["@list"],t,r,n,a);u.termType=i.termType,u.value=i.value}else{const t=s.isObject(e)?e["@id"]:e;u.termType=t.startsWith("_:")?"BlankNode":"NamedNode",u.value=t}return"NamedNode"!==u.termType||b(u.value)?u:null}e.exports=w,w.toRDF=(e,t)=>{const r=new u.IdentifierIssuer("_:b"),a={"@default":{}};n(e,a,"@default",r);const i=[],o=Object.keys(a).sort();for(const n of o){let e;if("@default"===n)e={termType:"DefaultGraph",value:""};else{if(!b(n))continue;e=n.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},e.value=n}x(i,a[n],e,r,t)}return i}},"491a":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(r("606c"));function i(e,t){var r=t||{namedNode:function(e){return new a.default(e)}};return function(t){return r.namedNode(e+(t||""))}}},"4a4b":function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports["default"]=e.exports,e.exports.__esModule=!0,r(t,n)}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"4b68":function(e,t,r){"use strict";(function(e){var n=r("4ea4"),a=r("dbce");Object.defineProperty(t,"__esModule",{value:!0}),t.mediaTypeClass=l,t.linkRelationProperty=d,t.callbackify=p,t.DOMParserFactory=f,t.domToString=h,t.dumpNode=y,t.dtstamp=v,t.heavyCompare=g,t.heavyCompareSPO=m,t.output=b,t.parseXML=w,t.RDFArrayRemove=x,t.string_startswith=T,t.stackString=N,Object.defineProperty(t,"log",{enumerable:!0,get:function(){return o.default}}),t.uri=t.string=void 0;var i=a(r("3897"));t.uri=i;var o=n(r("3c962")),s=n(r("606c")),u=r("1456"),c={template:E};function l(e){return e=e.split(";")[0].trim(),new s.default("http://www.w3.org/ns/iana/media-types/"+e+"#Resource")}function d(e){return new s.default("http://www.w3.org/ns/iana/link-relations/relation#"+e.trim())}function p(e,t){e.callbacks={};for(var r=t.length-1;r>=0;r--)e.callbacks[t[r]]=[];e.addHook=function(t){e.callbacks[t]||(e.callbacks[t]=[])},e.addCallback=function(t,r){e.callbacks[t].push(r)},e.removeCallback=function(t,r){for(var n=0;n<e.callbacks[t].length;n++)if(e.callbacks[t][n].name===r)return e.callbacks[t].splice(n,1),!0;return!1},e.insertCallback=function(t,r){e.callbacks[t].unshift(r)},e.fireCallbacks=function(t,r){var n,a,i=[],o=[],s=e.callbacks[t].length;for(n=s-1;n>=0;n--)a=e.callbacks[t][n],a&&a.apply(e,r)&&i.push(a);for(n=i.length-1;n>=0;n--)o.push(i[n]);for(n=s;n<e.callbacks[t].length;n++)o.push(e.callbacks[t][n]);e.callbacks[t]=o}}function f(){return window.DOMParser?new u.DOMParser:!!window.ActiveXObject&&new ActiveXObject("Microsoft.XMLDOM")}function h(e,t){t=t||{};var r=[];"selfClosing"in t&&t.selfClosing.split(" ").forEach((function(e){r[e]=!0}));var n=[];return"skipAttributes"in t&&t.skipAttributes.split(" ").forEach((function(e){n[e]=!0})),y(e,t,r,n)}function y(e,t,r,n){var a,i="",o=[!1];if("undefined"===typeof e.nodeType)return i;if(1===e.nodeType){if(e.hasAttribute("class")&&"classWithChildText"in t&&e.matches(t.classWithChildText.class))i+=e.querySelector(t.classWithChildText.element).textContent;else if(!("skipNodeWithClass"in t)||!e.matches("."+t.skipNodeWithClass)){var s=e.nodeName.toLowerCase();i+="<"+s;var u=[];for(a=e.attributes.length-1;a>=0;a--){var c=e.attributes[a];if(!(n.length>0&&n[c.name])&&!/^\d+$/.test(c.name)){if("class"===c.name&&"replaceClassItemWith"in t&&c.value.split(" ").indexOf(t.replaceClassItemWith.source)>-1){var l=new RegExp(t.replaceClassItemWith.source,"g");c.value=c.value.replace(l,t.replaceClassItemWith.target).trim()}"class"===c.name&&"skipClassWithValue"in t&&t.skipClassWithValue===c.value||u.push(c.name+"='"+c.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(u.length>0&&("sortAttributes"in t&&t.sortAttributes&&u.sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())})),i+=" "+u.join(" ")),r[s])i+=" />";else{for(i+=">",i+="html"===s?"\n  ":"",o.push("style"===s||"script"===s),a=0;a<e.childNodes.length;a++)i+=y(e.childNodes[a]);o.pop(),i+="body"===s?"</"+s+">\n":"</"+s+">"}}}else if(8===e.nodeType)i+="\x3c!--"+e.nodeValue+"--\x3e";else if(3===e.nodeType||4===e.nodeType){var d=e.nodeValue.replace(/\n+$/,"");i+=o[o.length-1]?d:d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+e.nodeType),console.log(e);return i}function v(){var e=new Date,t=e.getYear()+1900,r=e.getMonth()+1,n=e.getDate(),a=e.getUTCHours(),i=e.getUTCMinutes(),o=e.getSeconds();return r<10&&(r="0"+r),n<10&&(n="0"+n),a<10&&(a="0"+a),i<10&&(i="0"+i),o<10&&(o="0"+o),t+"-"+r+"-"+n+"T"+a+":"+i+":"+o+"Z"}function g(e,t,r,n){var a=function(e){return"BlankNode"===e.termType?null:e},i=function(e){var t=r.statementsMatching(e).map((function(e){return a(e.subject)+" "+a(e.predicate)+" "+a(e.object)})).concat(r.statementsMatching(void 0,void 0,e).map((function(e){return a(e.subject)+" "+a(e.predicate)+" "+a(e.object)})));return t.sort(),t.join("\n")},o=Object.prototype.hasOwnProperty.call(r,"compareTerms")?r.compareTerms(e,t):e.compareTerm(t);return"BlankNode"===e.termType&&"BlankNode"===t.termType?0===o?0:i(e)>i(t)?1:i(e)<i(t)?-1:o:n&&e.uri&&t.uri?(n[e.uri]||e.uri).localeCompare(n[t.uri]||t.uri):o}function m(e,t,r,n){return g(e.subject,t.subject,r,n)||g(e.predicate,t.predicate,r,n)||g(e.object,t.object,r,n)}function b(e){var t=document.createElement("div");t.textContent=e,document.body.appendChild(t)}function w(t,r){var n;if(r=r||{},e&&e.exports){var a=(new u.DOMParser).parseFromString(t,r.contentType||"application/xhtml+xml");return a}return n="undefined"!==typeof window&&window.DOMParser?new window.DOMParser:new u.DOMParser,n.parseFromString(t,"application/xml")}function x(e,t){for(var r=0;r<e.length;r++)if(e[r].subject.equals(t.subject)&&e[r].predicate.equals(t.predicate)&&e[r].object.equals(t.object)&&e[r].why.equals(t.why))return void e.splice(r,1);throw new Error("RDFArrayRemove: Array did not contain "+t+" "+t.why)}function T(e,t){return e.slice(0,t.length)===t}function E(e,t){for(var r=e.split("%s"),n="",a=0;a<t.length;a++)t[a]+="",n+=r[a]+t[a];return n+r.slice(t.length).join()}function N(e){var t=e+"\n";if(!e.stack)return t+"No stack available.\n";for(var r=e.stack.toString().split("\n"),n=[],a=0;a<r.length;a++){var i=r[a];if(i.indexOf("ecmaunit.js")>-1)break;"("==i.charAt(0)&&(i="function"+i);var o=i.split("@");n.push(o)}for(a=0;a<n.length;a++)t+="  "+n[a][1]+"\n    "+n[a][0];return t}t.string=c}).call(this,r("62e4")(e))},"4c4c":function(e,t,r){"use strict";const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:n,RDF_LIST:n+"List",RDF_FIRST:n+"first",RDF_REST:n+"rest",RDF_NIL:n+"nil",RDF_TYPE:n+"type",RDF_PLAIN_LITERAL:n+"PlainLiteral",RDF_XML_LITERAL:n+"XMLLiteral",RDF_JSON_LITERAL:n+"JSON",RDF_OBJECT:n+"object",RDF_LANGSTRING:n+"langString",XSD:a,XSD_BOOLEAN:a+"boolean",XSD_DOUBLE:a+"double",XSD_INTEGER:a+"integer",XSD_STRING:a+"string"}},"4df7":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("606c")),i={boolean:new a.default("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new a.default("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new a.default("http://www.w3.org/2001/XMLSchema#decimal"),double:new a.default("http://www.w3.org/2001/XMLSchema#double"),integer:new a.default("http://www.w3.org/2001/XMLSchema#integer"),langString:new a.default("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new a.default("http://www.w3.org/2001/XMLSchema#string")};t.default=i},"4e8ed":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r("ef3c")),a=r("f947"),i=r("9b92"),o=r("6dc9"),s=u(r("9c67"));function u(e){return e&&e.__esModule?e:{default:e}}const c="_:id a _:type;\n    <https://www.w3.org/ns/activitystreams#actor> _:actor;\n    <https://www.w3.org/ns/activitystreams#object> _:object;\n    <https://www.w3.org/ns/activitystreams#published> _:published.\n",{xsd:l}=s.default["@context"];class d extends n.default{async*createResults(e,t){const r=(0,i.namedNode)(new URL("#".concat((0,o.v4)()),t).href),n=(0,i.literal)((new Date).toISOString(),"".concat(l,"dateTime"));e={id:r,published:n,...e};const s=(0,a.replaceVariables)(c,e);yield{id:r,insert:s}}async processResults(e,t,r){const n="INSERT {\n".concat(e.map(e=>e.insert).join(""),"}");return await r.executeUpdate(n,t).next(),e.map(e=>e.id)}}t.default=d},"4ea4":function(e,t){function r(e){return e&&e.__esModule?e:{default:e}}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"4f10":function(e,t,r){"use strict";const{isKeyword:n}=r("5749"),a=r("4192"),i=r("29308"),o=r("14b4"),s=r("f060"),u=r("a2c2"),{createNodeMap:c,mergeNodeMapGraphs:l}=r("212e"),d={};function p(e){const t={};for(const r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function f(e,t,r){for(let n=r.length-1;n>=0;--n){const a=r[n];if(a.graph===t&&a.subject["@id"]===e["@id"])return!0}return!1}function h(e,t,r){const n="@"+r;let a=n in e?e[n][0]:t[r];if("embed"===r)if(!0===a)a="@once";else if(!1===a)a="@never";else if("@always"!==a&&"@never"!==a&&"@link"!==a&&"@first"!==a&&"@last"!==a&&"@once"!==a)throw new u("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return a}function y(e){if(!i.isArray(e)||1!==e.length||!i.isObject(e[0]))throw new u("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of o.asArray(e[0]["@id"]))if(!i.isObject(t)&&!s.isAbsolute(t)||i.isString(t)&&0===t.indexOf("_:"))throw new u("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of o.asArray(e[0]["@type"]))if(!i.isObject(t)&&!s.isAbsolute(t)||i.isString(t)&&0===t.indexOf("_:"))throw new u("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function v(e,t,r,n){const a={};for(const i of t){const t=e.graphMap[e.graph][i];g(e,t,r,n)&&(a[i]=t)}return a}function g(e,t,r,s){let u=!0,c=!1;for(const l in r){let d=!1;const p=o.getValues(t,l),f=0===o.getValues(r,l).length;if("@id"===l){if(i.isEmptyObject(r["@id"][0]||{})?d=!0:r["@id"].length>=0&&(d=r["@id"].includes(p[0])),!s.requireAll)return d}else if("@type"===l){if(u=!1,f){if(p.length>0)return!1;d=!0}else if(1===r["@type"].length&&i.isEmptyObject(r["@type"][0]))d=p.length>0;else for(const e of r["@type"])d=!(!i.isObject(e)||!("@default"in e))||(d||p.some(t=>t===e));if(!s.requireAll)return d}else{if(n(l))continue;{const t=o.getValues(r,l)[0];let n=!1;if(t&&(y([t]),n="@default"in t),u=!1,0===p.length&&n)continue;if(p.length>0&&f)return!1;if(void 0===t){if(p.length>0)return!1;d=!0}else if(a.isList(t)){const r=t["@list"][0];if(a.isList(p[0])){const t=p[0]["@list"];a.isValue(r)?d=t.some(e=>T(r,e)):(a.isSubject(r)||a.isSubjectReference(r))&&(d=t.some(t=>x(e,r,t,s)))}}else d=a.isValue(t)?p.some(e=>T(t,e)):a.isSubjectReference(t)?p.some(r=>x(e,t,r,s)):!!i.isObject(t)&&p.length>0}}if(!d&&s.requireAll)return!1;c=c||d}return u||c}function m(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],a=n.parent,s=n.property,u={"@id":t};if(i.isArray(a)){for(let i=0;i<a.length;++i)if(o.compareValues(a[i],u)){a[i]=u;break}}else{const e=i.isArray(a[s]);o.removeValue(a,s,u,{propertyIsArray:e}),o.addValue(a,s,u,{propertyIsArray:e})}const c=e=>{const t=Object.keys(r);for(const n of t)n in r&&i.isObject(r[n].parent)&&r[n].parent["@id"]===e&&(delete r[n],c(n))};c(t)}
/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function b(e,t){if(i.isArray(e))return e.map(e=>b(e,t));if(i.isObject(e)){
// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(a.isValue(e))return e;if(a.isList(e))return e["@list"]=b(e["@list"],t),e;if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)"@id"===r&&t.bnodesToClear.includes(e[r])?delete e["@id"]:e[r]=b(e[r],t)}return e}function w(e,t,r){i.isObject(e)?o.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function x(e,t,r,n){if(!("@id"in r))return!1;const a=e.subjects[r["@id"]];return a&&g(e,a,t,n)}function T(e,t){const r=t["@value"],n=t["@type"],a=t["@language"],o=e["@value"]?i.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?i.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],u=e["@language"]?i.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===o.length&&0===s.length&&0===u.length||!(!o.includes(r)&&!i.isEmptyObject(o[0]))&&(!!(!n&&0===s.length||s.includes(n)||n&&i.isEmptyObject(s[0]))&&!!(!a&&0===u.length||u.includes(a)||a&&i.isEmptyObject(u[0])))}e.exports=d,d.frameMergedOrDefault=(e,t,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},a=new o.IdentifierIssuer("_:b");c(e,n.graphMap,"@default",a),r.merged&&(n.graphMap["@merged"]=l(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const i=[];return d.frame(n,Object.keys(n.subjects).sort(),t,i),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(e=>1===n.bnodeMap[e].length)),
// remove @preserve from results
r.link={},b(i,r)},d.frame=(e,t,r,s,c=null)=>{y(r),r=r[0];const l=e.options,g={embed:h(r,l,"embed"),explicit:h(r,l,"explicit"),requireAll:h(r,l,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const b=e.link[e.graph],x=v(e,t,r,g),E=Object.keys(x).sort();for(const y of E){const v=x[y];if(null===c?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===g.embed&&y in b){w(s,c,b[y]);continue}const E={"@id":y};if(0===y.indexOf("_:")&&o.addValue(e.bnodeMap,y,E,{propertyIsArray:!0}),b[y]=E,("@first"===g.embed||"@last"===g.embed)&&e.is11)throw new u("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(y))if(!e.embedded||"@never"!==g.embed&&!f(v,e.graph,e.subjectStack))if(!e.embedded||"@first"!=g.embed&&"@once"!=g.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(y)){if("@last"===g.embed&&y in e.uniqueEmbeds[e.graph]&&m(e,y),e.uniqueEmbeds[e.graph][y]={parent:s,property:c},e.subjectStack.push({subject:v,graph:e.graph}),y in e.graphMap){let t=!1,n=null;"@graph"in r?(n=r["@graph"][0],t=!("@merged"===y||"@default"===y),i.isObject(n)||(n={})):(t="@merged"!==e.graph,n={}),t&&d.frame({...e,graph:y,embedded:!1},Object.keys(e.graphMap[y]).sort(),[n],E,"@graph")}"@included"in r&&d.frame({...e,embedded:!1},t,r["@included"],E,"@included");for(const t of Object.keys(v).sort())if(n(t)){if(E[t]=o.clone(v[t]),"@type"===t)for(const r of v["@type"])0===r.indexOf("_:")&&o.addValue(e.bnodeMap,r,E,{propertyIsArray:!0})}else if(!g.explicit||t in r)for(const n of v[t]){const i=t in r?r[t]:p(g);if(a.isList(n)){const i=r[t]&&r[t][0]&&r[t][0]["@list"]?r[t][0]["@list"]:p(g),s={"@list":[]};w(E,t,s);const u=n["@list"];for(const t of u)a.isSubjectReference(t)?d.frame({...e,embedded:!0},[t["@id"]],i,s,"@list"):w(s,"@list",o.clone(t))}else a.isSubjectReference(n)?d.frame({...e,embedded:!0},[n["@id"]],i,E,t):T(i[0],n)&&w(E,t,o.clone(n))}for(const e of Object.keys(r).sort()){if("@type"===e){if(!i.isObject(r[e][0])||!("@default"in r[e][0]))continue}else if(n(e))continue;const t=r[e][0]||{},a=h(t,l,"omitDefault");if(!a&&!(e in E)){let r="@null";"@default"in t&&(r=o.clone(t["@default"])),i.isArray(r)||(r=[r]),E[e]=[{"@preserve":r}]}}for(const t of Object.keys(r["@reverse"]||{}).sort()){const n=r["@reverse"][t];for(const r of Object.keys(e.subjects)){const a=o.getValues(e.subjects[r],t);a.some(e=>e["@id"]===y)&&(E["@reverse"]=E["@reverse"]||{},o.addValue(E["@reverse"],t,[],{propertyIsArray:!0}),d.frame({...e,embedded:!0},[r],n,E["@reverse"][t],c))}}w(s,c,E),e.subjectStack.pop()}else w(s,c,E);else w(s,c,E)}},d.cleanupNull=(e,t)=>{if(i.isArray(e)){const r=e.map(e=>d.cleanupNull(e,t));return r.filter(e=>e)}if("@null"===e)return null;if(i.isObject(e)){if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)e[r]=d.cleanupNull(e[r],t)}return e}},"4f59":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r("e88a")),a=o(r("00e8")),i=r("9b92");function o(e){return e&&e.__esModule?e:{default:e}}class s extends n.default{handle({settings:e}){const t=this.getWebId().then(i.namedNode);return this._createSubjectPath(t,e)}async getWebId(){const e=await a.default.currentSession();if(!e)throw new Error("Cannot resolve user path: no user logged in");return e.webId}}t.default=s},"4f5c":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExpandOptions=t.ContextParser=void 0,r("7274");const n=r("e43f"),a=r("56af"),i=r("fb42"),o=r("424d"),s=r("5bc9"),u=r("5727");class c{constructor(e){e=e||{},this.documentLoader=e.documentLoader||new i.FetchDocumentLoader,this.documentCache={},this.validateContext=!e.skipValidation,this.expandContentTypeToBase=!!e.expandContentTypeToBase,this.remoteContextsDepthLimit=e.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in e)||!!e.redirectSchemaOrgHttps}static validateLanguage(e,t,r){if("string"!==typeof e)throw new a.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(e)}'`,r);if(!s.Util.REGEX_LANGUAGE_TAG.test(e)){if(t)throw new a.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(e)}'`,r);return!1}return!0}static validateDirection(e,t){if("string"!==typeof e)throw new a.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(e)}'`,a.ERROR_CODES.INVALID_BASE_DIRECTION);if(!s.Util.REGEX_DIRECTION_TAG.test(e)){if(t)throw new a.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(e)}'`,a.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"===typeof r&&r["@reverse"]&&!r["@id"]){if("string"!==typeof r["@reverse"]||s.Util.isValidKeyword(r["@reverse"]))throw new a.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${r["@reverse"]}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);r["@id"]=r["@reverse"],s.Util.isPotentialKeyword(r["@reverse"])?delete r["@reverse"]:r["@reverse"]=!0}}return e}expandPrefixedTerms(e,t){const r=e.getContextRaw();for(const n of Object.keys(r))if(s.Util.EXPAND_KEYS_BLACKLIST.indexOf(n)<0&&!s.Util.isReservedInternalKeyword(n)){const i=r[n];if(s.Util.isPotentialKeyword(n)&&s.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(n)>=0&&("@type"!==n||"object"===typeof r[n]&&!r[n]["@protected"]&&"@set"!==r[n]["@container"]))throw new a.ErrorCoded(`Keywords can not be aliased to something else.\nTried mapping ${n} to ${JSON.stringify(i)}`,a.ERROR_CODES.KEYWORD_REDEFINITION);if(s.Util.ALIAS_RANGE_BLACKLIST.indexOf(s.Util.getContextValueId(i))>=0)throw new a.ErrorCoded(`Aliasing to certain keywords is not allowed.\nTried mapping ${n} to ${JSON.stringify(i)}`,a.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(i&&s.Util.isPotentialKeyword(s.Util.getContextValueId(i))&&!0===i["@prefix"])throw new a.ErrorCoded(`Tried to use keyword aliases as prefix: '${n}': '${JSON.stringify(i)}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);while(s.Util.isPrefixValue(r[n])){const a=r[n];let i=!1;if("string"===typeof a)r[n]=e.expandTerm(a,!0),i=i||a!==r[n];else{const o=a["@id"],u=a["@type"],c=!("@prefix"in a)||s.Util.isValidIri(n);if("@id"in a)void 0!==o&&null!==o&&"string"===typeof o&&(r[n]["@id"]=e.expandTerm(o,!0),i=i||o!==r[n]["@id"]);else if(!s.Util.isPotentialKeyword(n)&&c){const t=e.expandTerm(n,!0);t!==n&&(r[n]["@id"]=t,i=!0)}!u||"string"!==typeof u||"@vocab"===u||a["@container"]&&a["@container"]["@type"]||!c||(r[n]["@type"]=e.expandTerm(u,!0),t&&u===r[n]["@type"]&&(r[n]["@type"]=e.expandTerm(u,!1)),i=i||u!==r[n]["@type"])}if(!i)break}}}normalize(e,{processingMode:t,normalizeLanguageTags:r}){if(r||1===t)for(const n of Object.keys(e))if("@language"===n&&"string"===typeof e[n])e[n]=e[n].toLowerCase();else{const t=e[n];t&&"object"===typeof t&&"string"===typeof t["@language"]&&(t["@language"]=t["@language"].toLowerCase())}}containersToHash(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"===typeof r)if("string"===typeof r["@container"])r["@container"]={[r["@container"]]:!0};else if(Array.isArray(r["@container"])){const e={};for(const t of r["@container"])e[t]=!0;r["@container"]=e}}}applyScopedProtected(e,{processingMode:t}){if(t&&t>=1.1&&e["@protected"]){for(const t of Object.keys(e))if(!s.Util.isReservedInternalKeyword(t)&&!s.Util.isPotentialKeyword(t)&&!s.Util.isTermProtected(e,t)){const r=e[t];r&&"object"===typeof r?"@protected"in e[t]||(e[t]["@protected"]=!0):e[t]={"@id":r,"@protected":!0}}delete e["@protected"]}}validateKeywordRedefinitions(e,t,r){for(const n of Object.keys(t))if(s.Util.isTermProtected(e,n)){if("string"===typeof t[n]){const a=s.Util.isSimpleTermDefinitionPrefix(t[n],r);t[n]={"@id":t[n]},a&&(t[n]["@prefix"]=!0,e[n]["@prefix"]=!0)}const i=u(e[n]);t[n]["@protected"]=!0;const o=u(t[n]);if(i!==o)throw new a.ErrorCoded(`Attempted to override the protected keyword ${n} from ${JSON.stringify(s.Util.getContextValueId(e[n]))} to ${JSON.stringify(s.Util.getContextValueId(t[n]))}`,a.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}}validate(e,{processingMode:t}){for(const r of Object.keys(e)){if(s.Util.isReservedInternalKeyword(r))continue;if(""===r)throw new a.ErrorCoded(`The empty term is not allowed, got: '${r}': '${JSON.stringify(e[r])}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);const n=e[r],i=typeof n;if(s.Util.isPotentialKeyword(r)){switch(r.substr(1)){case"vocab":if(null!==n&&"string"!==i)throw new a.ErrorCoded("Found an invalid @vocab IRI: "+n,a.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==n&&"string"!==i)throw new a.ErrorCoded("Found an invalid @base IRI: "+e[r],a.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==n&&c.validateLanguage(n,!0,a.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==n&&"number"!==i)throw new a.ErrorCoded("Found an invalid @version number: "+n,a.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==n&&c.validateDirection(n,!0);break;case"propagate":if(1===t)throw new a.ErrorCoded("Found an illegal @propagate keyword: "+n,a.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==n&&"boolean"!==i)throw new a.ErrorCoded("Found an invalid @propagate value: "+n,a.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(s.Util.isValidKeyword(r)&&s.Util.isValidKeyword(s.Util.getContextValueId(n)))throw new a.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${s.Util.getContextValueId(n)}'`,a.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==n)switch(i){case"string":if(s.Util.getPrefix(n,e)===r)throw new a.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.CYCLIC_IRI_MAPPING);if(s.Util.isValidIriWeak(r)){if("@type"===n)throw new a.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${n}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIri(n)&&n!==new o.JsonLdContextNormalized(e).expandTerm(r))throw new a.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${n}'`,a.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!s.Util.isCompactIri(r)&&!("@id"in n)&&("@id"===n["@type"]?!e["@base"]:!e["@vocab"]))throw new a.ErrorCoded(`Missing @id in context entry: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);for(const u of Object.keys(n)){const l=n[u];if(l)switch(u){case"@id":if(s.Util.isValidKeyword(l)&&"@type"!==l&&"@id"!==l&&"@graph"!==l)throw new a.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIriWeak(r)){if("@type"===l)throw new a.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIri(l)&&l!==new o.JsonLdContextNormalized(e).expandTerm(r))throw new a.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!==typeof l)throw new a.ErrorCoded(`Detected non-string @id in context entry: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.getPrefix(l,e)===r)throw new a.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===n["@container"]&&"@id"!==l&&"@vocab"!==l)throw new a.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${r}': '${l}'`,a.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!==typeof l)throw new a.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(i)}'`,a.ERROR_CODES.INVALID_TYPE_MAPPING);if("@id"!==l&&"@vocab"!==l&&(1===t||"@json"!==l)&&(1===t||"@none"!==l)&&("_"===l[0]||!s.Util.isValidIri(l)))throw new a.ErrorCoded(`A context @type must be an absolute IRI, found: '${r}': '${l}'`,a.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"===typeof l&&n["@id"]&&n["@id"]!==l)throw new a.ErrorCoded(`Found non-matching @id and @reverse term values in '${r}':'${l}' and '${n["@id"]}'`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in n)throw new a.ErrorCoded(`@nest is not allowed in the reverse property '${r}'`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===t&&(Object.keys(l).length>1||s.Util.CONTAINERS_1_0.indexOf(Object.keys(l)[0])<0))throw new a.ErrorCoded(`Invalid term @container for '${r}' ('${Object.keys(l)}') in 1.0, must be only one of ${s.Util.CONTAINERS_1_0.join(", ")}`,a.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const e of Object.keys(l)){if("@list"===e&&n["@reverse"])throw new a.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${r}'`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(s.Util.CONTAINERS.indexOf(e)<0)throw new a.ErrorCoded(`Invalid term @container for '${r}' ('${e}'), must be one of ${s.Util.CONTAINERS.join(", ")}`,a.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":c.validateLanguage(l,!0,a.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":c.validateDirection(l,!0);break;case"@prefix":if(null!==l&&"boolean"!==typeof l)throw new a.ErrorCoded(`Found an invalid term @prefix boolean in: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in n)&&!s.Util.isValidIri(r))throw new a.ErrorCoded(`Invalid @prefix definition for '${r}' ('${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===t||!n["@container"]||!n["@container"]["@index"])throw new a.ErrorCoded(`Attempt to add illegal key to value object: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(s.Util.isPotentialKeyword(l)&&"@nest"!==l)throw new a.ErrorCoded(`Found an invalid term @nest value in: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new a.ErrorCoded(`Found an invalid term value: '${r}': '${n}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(e,t,r){return"string"===typeof e||(r&&!("@base"in e)&&t.parentContext&&"object"===typeof t.parentContext&&"@base"in t.parentContext&&(e["@base"]=t.parentContext["@base"],t.parentContext["@__baseDocument"]&&(e["@__baseDocument"]=!0)),t.baseIRI&&!t.external&&("@base"in e?null===e["@base"]||"string"!==typeof e["@base"]||s.Util.isValidIri(e["@base"])||(e["@base"]=n.resolve(e["@base"],t.parentContext&&t.parentContext["@base"]||t.baseIRI)):(e["@base"]=t.baseIRI,e["@__baseDocument"]=!0))),e}normalizeContextIri(e,t){if(!s.Util.isValidIri(e)&&(e=n.resolve(e,t),!s.Util.isValidIri(e)))throw new Error("Invalid context IRI: "+e);return this.redirectSchemaOrgHttps&&e.startsWith("http://schema.org")&&(e="https://schema.org/"),e}async parseInnerContexts(e,t){for(const n of Object.keys(e)){const i=e[n];if(i&&"object"===typeof i&&"@context"in i&&null!==i["@context"]&&!t.ignoreScopedContexts){if(this.validateContext)try{const r=Object.assign({},e);r[n]=Object.assign({},r[n]),delete r[n]["@context"],await this.parse(i["@context"],Object.assign(Object.assign({},t),{parentContext:r,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(r){throw new a.ErrorCoded(r.message,a.ERROR_CODES.INVALID_SCOPED_CONTEXT)}i["@context"]=(await this.parse(i["@context"],Object.assign(Object.assign({},t),{minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:e}))).getContextRaw()}}return e}async parse(e,r={processingMode:c.DEFAULT_PROCESSING_MODE}){const{baseIRI:n,parentContext:i,external:u,processingMode:l,normalizeLanguageTags:d,ignoreProtection:p,minimalProcessing:f}=r;let h=i;const y=r.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new a.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),a.ERROR_CODES.CONTEXT_OVERFLOW);if(null===e||void 0===e){if(!p&&h&&s.Util.hasProtectedTerms(h))throw new a.ErrorCoded("Illegal context nullification when terms are protected",a.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new o.JsonLdContextNormalized(this.applyBaseEntry({},r,!1))}if("string"===typeof e){const t=this.normalizeContextIri(e,n),a=this.getOverriddenLoad(t,r);if(a)return new o.JsonLdContextNormalized(a);const i=await this.parse(await this.load(t),Object.assign(Object.assign({},r),{baseIRI:t,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[t]:!0})}));return this.applyBaseEntry(i.getContextRaw(),r,!0),i}if(Array.isArray(e)){const t=[],a=await Promise.all(e.map((e,a)=>{if("string"===typeof e){const i=this.normalizeContextIri(e,n);t[a]=i;const o=this.getOverriddenLoad(i,r);return o||this.load(i)}return e}));if(f)return new o.JsonLdContextNormalized(a);const i=await a.reduce((e,n,a)=>e.then(e=>this.parse(n,Object.assign(Object.assign({},r),{baseIRI:t[a]||r.baseIRI,external:!!t[a]||r.external,parentContext:e.getContextRaw(),remoteContexts:t[a]?Object.assign(Object.assign({},y),{[t[a]]:!0}):y}))),Promise.resolve(new o.JsonLdContextNormalized(h||{})));return this.applyBaseEntry(i.getContextRaw(),r,!0),i}if("object"===typeof e){if("@context"in e)return await this.parse(e["@context"],r);e=JSON.parse(JSON.stringify(e)),h&&!f&&(h=JSON.parse(JSON.stringify(h)));let i={};if(u&&delete e["@base"],this.applyBaseEntry(e,r,!0),this.containersToHash(e),f)return new o.JsonLdContextNormalized(e);let s={};if("@import"in e){if(!(l&&l>=1.1))throw new a.ErrorCoded("Context importing is not supported in JSON-LD 1.0",a.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!==typeof e["@import"])throw new a.ErrorCoded("An @import value must be a string, but got "+typeof e["@import"],a.ERROR_CODES.INVALID_IMPORT_VALUE);s=await this.loadImportContext(this.normalizeContextIri(e["@import"],n)),delete e["@import"]}i=Object.assign(Object.assign(Object.assign(Object.assign({},i),"object"===typeof h?h:{}),s),e);const y=new o.JsonLdContextNormalized(i);return await this.parseInnerContexts(i,r),!p&&h&&l&&l>=1.1&&this.validateKeywordRedefinitions(h,i,t.defaultExpandOptions),(i&&i["@version"]||l||c.DEFAULT_PROCESSING_MODE)>=1.1&&(e["@vocab"]&&"string"===typeof e["@vocab"]||""===e["@vocab"])&&e["@vocab"].indexOf(":")<0&&h&&"@vocab"in h&&(i["@vocab"]=h["@vocab"]+e["@vocab"]),this.idifyReverseTerms(i),this.expandPrefixedTerms(y,this.expandContentTypeToBase),this.normalize(i,{processingMode:l,normalizeLanguageTags:d}),this.applyScopedProtected(i,{processingMode:l}),this.validateContext&&this.validate(i,{processingMode:l}),y}throw new a.ErrorCoded("Tried parsing a context that is not a string, array or object, but got "+e,a.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(e){const t=this.documentCache[e];if(t)return"string"===typeof t?t:Array.isArray(t)?t.slice():Object.assign({},t);let r;try{r=await this.documentLoader.load(e)}catch(n){throw new a.ErrorCoded(`Failed to load remote context ${e}: ${n.message}`,a.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in r))throw new a.ErrorCoded("Missing @context in remote context at "+e,a.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[e]=r["@context"]}getOverriddenLoad(e,t){if(e in(t.remoteContexts||{})){if(t.ignoreRemoteScopedContexts)return e;throw new a.ErrorCoded("Detected a cyclic context inclusion of "+e,a.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(e){const t=await this.load(e);if("object"!==typeof t||Array.isArray(t))throw new a.ErrorCoded("An imported context must be a single object: "+e,a.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in t)throw new a.ErrorCoded("An imported context can not import another context: "+e,a.ERROR_CODES.INVALID_CONTEXT_ENTRY);return t}}t.ContextParser=c,c.DEFAULT_PROCESSING_MODE=1.1,t.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},5125:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r("b1e9"),i=n(r("33e3")),o=n(r("491a")),s=r("ab32");i.default.fromValue=a.fromValue;var u=i.default;t.default=u;var c={xsd:(0,o.default)("http://www.w3.org/2001/XMLSchema#")};i.default.toJS=function(e){return(0,s.isCollection)(e)?e.elements.map(i.default.toJS):(0,s.isLiteral)(e)?e.datatype.equals(c.xsd("boolean"))?"1"===e.value||"true"===e.value:e.datatype.equals(c.xsd("dateTime"))||e.datatype.equals(c.xsd("date"))?new Date(e.value):e.datatype.equals(c.xsd("integer"))||e.datatype.equals(c.xsd("float"))||e.datatype.equals(c.xsd("decimal"))?Number(e.value):e.value:e}},5189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const n=r("d63e3");Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return n.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return n.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return n.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return n.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return n.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return n.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return n.termToString}})},"51b7":function(e,t){class r{constructor(){return n||this}equals(e){return e&&this.termType===e.termType}}Object.defineProperty(r.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(r.prototype,"termType",{enumerable:!0,value:"Wildcard"});var n=new r;e.exports.Wildcard=r},"56af":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_CODES=t.ErrorCoded=void 0;class n extends Error{constructor(e,t){super(e),this.code=t}}t.ErrorCoded=n,function(e){e["COLLIDING_KEYWORDS"]="colliding keywords",e["CONFLICTING_INDEXES"]="conflicting indexes",e["CYCLIC_IRI_MAPPING"]="cyclic IRI mapping",e["INVALID_ID_VALUE"]="invalid @id value",e["INVALID_INDEX_VALUE"]="invalid @index value",e["INVALID_NEST_VALUE"]="invalid @nest value",e["INVALID_PREFIX_VALUE"]="invalid @prefix value",e["INVALID_PROPAGATE_VALUE"]="invalid @propagate value",e["INVALID_REVERSE_VALUE"]="invalid @reverse value",e["INVALID_IMPORT_VALUE"]="invalid @import value",e["INVALID_VERSION_VALUE"]="invalid @version value",e["INVALID_BASE_IRI"]="invalid base IRI",e["INVALID_CONTAINER_MAPPING"]="invalid container mapping",e["INVALID_CONTEXT_ENTRY"]="invalid context entry",e["INVALID_CONTEXT_NULLIFICATION"]="invalid context nullification",e["INVALID_DEFAULT_LANGUAGE"]="invalid default language",e["INVALID_INCLUDED_VALUE"]="invalid @included value",e["INVALID_IRI_MAPPING"]="invalid IRI mapping",e["INVALID_JSON_LITERAL"]="invalid JSON literal",e["INVALID_KEYWORD_ALIAS"]="invalid keyword alias",e["INVALID_LANGUAGE_MAP_VALUE"]="invalid language map value",e["INVALID_LANGUAGE_MAPPING"]="invalid language mapping",e["INVALID_LANGUAGE_TAGGED_STRING"]="invalid language-tagged string",e["INVALID_LANGUAGE_TAGGED_VALUE"]="invalid language-tagged value",e["INVALID_LOCAL_CONTEXT"]="invalid local context",e["INVALID_REMOTE_CONTEXT"]="invalid remote context",e["INVALID_REVERSE_PROPERTY"]="invalid reverse property",e["INVALID_REVERSE_PROPERTY_MAP"]="invalid reverse property map",e["INVALID_REVERSE_PROPERTY_VALUE"]="invalid reverse property value",e["INVALID_SCOPED_CONTEXT"]="invalid scoped context",e["INVALID_SCRIPT_ELEMENT"]="invalid script element",e["INVALID_SET_OR_LIST_OBJECT"]="invalid set or list object",e["INVALID_TERM_DEFINITION"]="invalid term definition",e["INVALID_TYPE_MAPPING"]="invalid type mapping",e["INVALID_TYPE_VALUE"]="invalid type value",e["INVALID_TYPED_VALUE"]="invalid typed value",e["INVALID_VALUE_OBJECT"]="invalid value object",e["INVALID_VALUE_OBJECT_VALUE"]="invalid value object value",e["INVALID_VOCAB_MAPPING"]="invalid vocab mapping",e["IRI_CONFUSED_WITH_PREFIX"]="IRI confused with prefix",e["KEYWORD_REDEFINITION"]="keyword redefinition",e["LOADING_DOCUMENT_FAILED"]="loading document failed",e["LOADING_REMOTE_CONTEXT_FAILED"]="loading remote context failed",e["MULTIPLE_CONTEXT_LINK_HEADERS"]="multiple context link headers",e["PROCESSING_MODE_CONFLICT"]="processing mode conflict",e["PROTECTED_TERM_REDEFINITION"]="protected term redefinition",e["CONTEXT_OVERFLOW"]="context overflow",e["INVALID_BASE_DIRECTION"]="invalid base direction",e["RECURSIVE_CONTEXT_INCLUSION"]="recursive context inclusion",e["INVALID_STREAMING_KEY_ORDER"]="invalid streaming key order"}(t.ERROR_CODES||(t.ERROR_CODES={}))},5749:function(e,t,r){"use strict";const n=r("14b4"),a=r("a2c2"),{isArray:i,isObject:o,isString:s,isUndefined:u}=r("29308"),{isAbsolute:c,isRelative:l,prependBase:d}=r("f060"),{asArray:p,compareShortestLeast:f}=r("14b4"),h=new Map,y=1e4,v=/^@[a-zA-Z]+$/,g={};function m(e,t,r,n,a,i){if(null===t||!s(t)||g.isKeyword(t))return t;if(t.match(v))return null;if(n&&n.hasOwnProperty(t)&&!0!==a.get(t)&&g.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:a,options:i}),r=r||{},r.vocab){const r=e.mappings.get(t);if(null===r)return null;if(o(r)&&"@id"in r)return r["@id"]}const u=t.indexOf(":");if(u>0){const r=t.substr(0,u),o=t.substr(u+1);if("_"===r||0===o.indexOf("//"))return t;n&&n.hasOwnProperty(r)&&g.createTermDefinition({activeCtx:e,localCtx:n,term:r,defined:a,options:i});const s=e.mappings.get(r);if(s&&s._prefix)return s["@id"]+o;if(c(t))return t}if(r.vocab&&"@vocab"in e)return e["@vocab"]+t;if(r.base&&"@base"in e){if(e["@base"])return d(d(i.base,e["@base"]),t)}else if(r.base)return d(i.base,t);return t}function b(e,t){if(!e||"object"!==typeof e||!t||"object"!==typeof t)return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!b(e[r],t[r]))return!1;return!0}const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const i in e){let r=e[i],n=t[i];if("@container"===i&&Array.isArray(r)&&Array.isArray(n)&&(r=r.slice().sort(),n=n.slice().sort()),!b(r,n))return!1}return!0}e.exports=g,g.process=async({activeCtx:e,localCtx:t,options:r,propagate:u=!0,overrideProtected:f=!1,cycles:h=new Set})=>{o(t)&&"@context"in t&&i(t["@context"])&&(t=t["@context"]);const y=p(t);if(0===y.length)return e;const v=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});o(v[0].document)&&"boolean"===typeof v[0].document["@propagate"]&&(u=v[0].document["@propagate"]);let b=e;u||b.previousContext||(b=b.clone(),b.previousContext=e);for(const i of v){let{document:u}=i;if(e=b,null===u){if(!f&&0!==Object.keys(e.protected).length){const o=r&&r.protectedMode||"error";if("error"===o)throw new a("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===o){console.warn("WARNING: invalid context nullification");const t=i.getProcessed(e);if(t){b=e=t;continue}const a=e;b=e=g.getInitialContext(r).clone();for(const[r,i]of Object.entries(a.protected))i&&(e.mappings[r]=n.clone(a.mappings[r]));e.protected=n.clone(a.protected),i.setProcessed(a,b);continue}throw new a("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:o})}b=e=g.getInitialContext(r).clone();continue}const p=i.getProcessed(e);if(p){b=e=p;continue}if(o(u)&&"@context"in u&&(u=u["@context"]),!o(u))throw new a("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:u});b=b.clone();const y=new Map;if("@version"in u){if(1.1!==u["@version"])throw new a("Unsupported JSON-LD version: "+u["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:u});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new a("@version: "+u["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:u});b.processingMode="json-ld-1.1",b["@version"]=u["@version"],y.set("@version",!0)}if(b.processingMode=b.processingMode||e.processingMode,"@base"in u){let e=u["@base"];if(null===e||c(e));else{if(!l(e))throw new a('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:u});e=d(b["@base"],e)}b["@base"]=e,y.set("@base",!0)}if("@vocab"in u){const e=u["@vocab"];if(null===e)delete b["@vocab"];else{if(!s(e))throw new a('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});if(!c(e)&&g.processingMode(b,1))throw new a('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});b["@vocab"]=m(b,e,{vocab:!0,base:!0},void 0,void 0,r)}y.set("@vocab",!0)}if("@language"in u){const e=u["@language"];if(null===e)delete b["@language"];else{if(!s(e))throw new a('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:u});b["@language"]=e.toLowerCase()}y.set("@language",!0)}if("@direction"in u){const t=u["@direction"];if("json-ld-1.0"===e.processingMode)throw new a("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:u});if(null===t)delete b["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new a('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:u});b["@direction"]=t}y.set("@direction",!0)}if("@propagate"in u){const r=u["@propagate"];if("json-ld-1.0"===e.processingMode)throw new a("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:u});if("boolean"!==typeof r)throw new a("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});y.set("@propagate",!0)}if("@import"in u){const n=u["@import"];if("json-ld-1.0"===e.processingMode)throw new a("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:u});if(!s(n))throw new a("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const i=await r.contextResolver.resolve({activeCtx:e,context:n,documentLoader:r.documentLoader,base:r.base});if(1!==i.length)throw new a("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const o=i[0].getProcessed(e);if(o)u=o;else{const r=i[0].document;if("@import"in r)throw new a("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in r)u.hasOwnProperty(e)||(u[e]=r[e]);i[0].setProcessed(e,u)}y.set("@import",!0)}y.set("@protected",u["@protected"]||!1);for(const e in u)if(g.createTermDefinition({activeCtx:b,localCtx:u,term:e,defined:y,options:r,overrideProtected:f}),o(u[e])&&"@context"in u[e]){const t=u[e]["@context"];let n=!0;if(s(t)){const e=d(r.base,t);h.has(e)?n=!1:h.add(e)}if(n)try{await g.process({activeCtx:b.clone(),localCtx:u[e]["@context"],overrideProtected:!0,options:r,cycles:h})}catch(w){throw new a("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:u[e]["@context"],term:e})}}i.setProcessed(e,b)}return b},g.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:u,overrideProtected:l=!1})=>{if(n.has(r)){if(n.get(r))return;throw new a("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}let d;if(n.set(r,!1),t.hasOwnProperty(r)&&(d=t[r]),"@type"===r&&o(d)&&"@set"===(d["@container"]||"@set")&&g.processingMode(e,1.1)){const e=["@container","@id","@protected"],n=Object.keys(d);if(0===n.length||n.some(t=>!e.includes(t)))throw new a("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(g.isKeyword(r))throw new a("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(r.match(v))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:r});if(""===r)throw new a("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const p=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let f=!1;if((s(d)||null===d)&&(f=!0,d={"@id":d}),!o(d))throw new a("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const h={};e.mappings.set(r,h),h.reverse=!1;const y=["@container","@id","@language","@reverse","@type"];g.processingMode(e,1.1)&&y.push("@context","@direction","@index","@nest","@prefix","@protected");for(const i in d)if(!y.includes(i))throw new a("Invalid JSON-LD syntax; a term definition must not contain "+i,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const w=r.indexOf(":");if(h._termHasColon=w>0,"@reverse"in d){if("@id"in d)throw new a("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in d)throw new a("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const i=d["@reverse"];if(!s(i))throw new a("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!g.isKeyword(i)&&i.match(v))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:i}),void(p?e.mappings.set(r,p):e.mappings.delete(r));const o=m(e,i,{vocab:!0,base:!1},t,n,u);if(!c(o))throw new a("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});h["@id"]=o,h.reverse=!0}else if("@id"in d){let i=d["@id"];if(i&&!s(i))throw new a("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===i)h["@id"]=null;else{if(!g.isKeyword(i)&&i.match(v))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:i}),void(p?e.mappings.set(r,p):e.mappings.delete(r));if(i!==r){if(i=m(e,i,{vocab:!0,base:!1},t,n,u),!c(i)&&!g.isKeyword(i))throw new a("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)){const o=new Map(n).set(r,!0),s=m(e,r,{vocab:!0,base:!1},t,o,u);if(s!==i)throw new a("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}h["@id"]=i,h._prefix=f&&!h._termHasColon&&i.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in h))if(h._termHasColon){const a=r.substr(0,w);if(t.hasOwnProperty(a)&&g.createTermDefinition({activeCtx:e,localCtx:t,term:a,defined:n,options:u}),e.mappings.has(a)){const t=r.substr(w+1);h["@id"]=e.mappings.get(a)["@id"]+t}else h["@id"]=r}else if("@type"===r)h["@id"]=r;else{if(!("@vocab"in e))throw new a("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});h["@id"]=e["@vocab"]+r}if((!0===d["@protected"]||!0===n.get("@protected")&&!1!==d["@protected"])&&(e.protected[r]=!0,h.protected=!0),n.set(r,!0),"@type"in d){let r=d["@type"];if(!s(r))throw new a("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===r||"@none"===r){if(g.processingMode(e,1))throw new a(`Invalid JSON-LD syntax; an @context @type value must not be "${r}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==r&&"@vocab"!==r){if(r=m(e,r,{vocab:!0,base:!1},t,n,u),!c(r))throw new a("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===r.indexOf("_:"))throw new a("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}h["@type"]=r}if("@container"in d){const r=s(d["@container"])?[d["@container"]]:d["@container"]||[],n=["@list","@set","@index","@language"];let o=!0;const u=r.includes("@set");if(g.processingMode(e,1.1)){if(n.push("@graph","@id","@type"),r.includes("@list")){if(1!==r.length)throw new a("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(r.includes("@graph")){if(r.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new a("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else o&=r.length<=(u?2:1);if(r.includes("@type")&&(h["@type"]=h["@type"]||"@id",!["@id","@vocab"].includes(h["@type"])))throw new a("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else o&=!i(d["@container"]),o&=r.length<=1;if(o&=r.every(e=>n.includes(e)),o&=!(u&&r.includes("@list")),!o)throw new a("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(h.reverse&&!r.every(e=>["@index","@set"].includes(e)))throw new a("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});h["@container"]=r}if("@index"in d){if(!("@container"in d)||!h["@container"].includes("@index"))throw new a(`Invalid JSON-LD syntax; @index without @index in @container: "${d["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!s(d["@index"])||0===d["@index"].indexOf("@"))throw new a(`Invalid JSON-LD syntax; @index must expand to an IRI: "${d["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});h["@index"]=d["@index"]}if("@context"in d&&(h["@context"]=d["@context"]),"@language"in d&&!("@type"in d)){let e=d["@language"];if(null!==e&&!s(e))throw new a("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),h["@language"]=e}if("@prefix"in d){if(r.match(/:|\//))throw new a("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(g.isKeyword(h["@id"]))throw new a("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!==typeof d["@prefix"])throw new a("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});h._prefix=!0===d["@prefix"]}if("@direction"in d){const e=d["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new a('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});h["@direction"]=e}if("@nest"in d){const e=d["@nest"];if(!s(e)||"@nest"!==e&&0===e.indexOf("@"))throw new a("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});h["@nest"]=e}
// disallow aliasing @context and @preserve
const x=h["@id"];if("@context"===x||"@preserve"===x)throw new a("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(p&&p.protected&&!l&&(e.protected[r]=!0,h.protected=!0,!b(p,h))){const e=u&&u.protectedMode||"error";if("error"===e)throw new a("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:r});throw new a("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:r,protectedMode:e})}},g.expandIri=(e,t,r,n)=>m(e,t,r,void 0,void 0,n),g.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=h.get(t);if(r)return r;const a={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:i,clone:u,revertToPreviousContext:c,protected:{}};return h.size===y&&h.clear(),h.set(t,a),a;function i(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},r=e.fastCurieMap={},n={},a=(e["@language"]||"@none").toLowerCase(),i=e["@direction"],u=e.mappings,c=[...u.keys()].sort(f);for(const o of c){const e=u.get(o);if(null===e)continue;let c=e["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===e["@id"])continue;const l=p(e["@id"]);for(const u of l){let l=t[u];const d=g.isKeyword(u);if(l)d||e._termHasColon||n[u].push(o);else if(t[u]=l={},!d&&!e._termHasColon){n[u]=[o];const e={iri:u,terms:n[u]};u[0]in r?r[u[0]].push(e):r[u[0]]=[e]}if(l[c]||(l[c]={"@language":{},"@type":{},"@any":{}}),l=l[c],s(o,l["@any"],"@none"),e.reverse)s(o,l["@type"],"@reverse");else if("@none"===e["@type"])s(o,l["@any"],"@none"),s(o,l["@language"],"@none"),s(o,l["@type"],"@none");else if("@type"in e)s(o,l["@type"],e["@type"]);else if("@language"in e&&"@direction"in e){const t=e["@language"],r=e["@direction"];s(o,l["@language"],t&&r?`${t}_${r}`.toLowerCase():t?t.toLowerCase():r?"_"+r:"@null")}else"@language"in e?s(o,l["@language"],(e["@language"]||"@null").toLowerCase()):"@direction"in e?e["@direction"]?s(o,l["@language"],"_"+e["@direction"]):s(o,l["@language"],"@none"):i?(s(o,l["@language"],"_"+i),s(o,l["@language"],"@none"),s(o,l["@type"],"@none")):(s(o,l["@language"],a),s(o,l["@language"],"@none"),s(o,l["@type"],"@none"))}}for(const s in r)o(r,s,1);return t}function o(e,t,r){const n=e[t],a=e[t]={};let i,s;for(const o of n)i=o.iri,s=r>=i.length?"":i[r],s in a?a[s].push(o):a[s]=[o];for(const u in a)""!==u&&o(a,u,r+1)}function s(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}function u(){const e={};return e.mappings=n.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=n.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e}function c(){return this.previousContext?this.previousContext.clone():this}},g.getContextValue=(e,t,r)=>{if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){const n=e.mappings.get(t);if(u(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&r in e||"@direction"===r&&r in e?e[r]:"@context"!==r?null:void 0},g.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,g.isKeyword=e=>{if(!s(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},"5bc3":function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"5bc9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;class n{static isCompactIri(e){return e.indexOf(":")>0&&!(e&&"#"===e[0])}static getPrefix(e,t){if(e&&"#"===e[0])return null;const r=e.indexOf(":");if(r>=0){if(e.length>r+1&&"/"===e.charAt(r+1)&&"/"===e.charAt(r+2))return null;const n=e.substr(0,r);if("_"===n)return null;if(t[n])return n}return null}static getContextValueId(e){if(null===e||"string"===typeof e)return e;const t=e["@id"];return t||null}static isSimpleTermDefinitionPrefix(e,t){return!n.isPotentialKeyword(e)&&("_"===e[0]||t.allowPrefixNonGenDelims||n.isPrefixIriEndingWithGenDelim(e))}static isPotentialKeyword(e){return"string"===typeof e&&n.KEYWORD_REGEX.test(e)}static isPrefixIriEndingWithGenDelim(e){return n.ENDS_WITH_GEN_DELIM.test(e)}static isPrefixValue(e){return e&&("string"===typeof e||e&&"object"===typeof e)}static isValidIri(e){return n.IRI_REGEX.test(e)}static isValidIriWeak(e){return!!e&&":"!==e[0]&&n.IRI_REGEX_WEAK.test(e)}static isValidKeyword(e){return n.VALID_KEYWORDS[e]}static isTermProtected(e,t){const r=e[t];return!("string"===typeof r)&&r&&r["@protected"]}static hasProtectedTerms(e){for(const t of Object.keys(e))if(n.isTermProtected(e,t))return!0;return!1}static isReservedInternalKeyword(e){return e.startsWith("@__")}}t.Util=n,n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,n.IRI_REGEX_WEAK=/(?::[^:])|\//,n.KEYWORD_REGEX=/^@[a-z]+$/i,n.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,n.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,n.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,n.VALID_KEYWORDS={"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},n.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],n.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],n.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],n.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],n.CONTAINERS_1_0=["@list","@set","@index"]},"5c0f":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.defaultGraphNode=t.defaultGraphURI=void 0;var a=n(r("606c")),i="chrome:theSession";t.defaultGraphURI=i;var o=new a.default(i);t.defaultGraphNode=o},"5dee":function(e,t,r){"use strict";const n=r("05ca"),a=r("036f"),i=r("14ff"),o=r("03005");function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}async main(e){this.quads=e;for(const n of e)this._addBlankNodeQuadInfo({quad:n,component:n.subject}),this._addBlankNodeQuadInfo({quad:n,component:n.object}),this._addBlankNodeQuadInfo({quad:n,component:n.graph});const t=new Map,r=[...this.blankNodeInfo.keys()];let a=0;for(const n of r)++a%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:n,hashToBlankNodes:t});const i=[...t.keys()].sort(),u=[];for(const n of i){const e=t.get(n);if(e.length>1){u.push(e);continue}const r=e[0];this.canonicalIssuer.getId(r)}for(const o of u){const e=[];for(const t of o){if(this.canonicalIssuer.hasId(t))continue;const r=new n("_:b");r.getId(t);const a=await this.hashNDegreeQuads(t,r);e.push(a)}e.sort(s);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const c=[];for(const n of this.quads){const e={...n};e.subject=this._useCanonicalId({component:e.subject}),e.object=this._useCanonicalId({component:e.object}),e.graph=this._useCanonicalId({component:e.graph}),c.push(o.serializeQuad(e))}return c.sort(),c.join("")}async hashFirstDegreeQuads(e){const t=[],r=this.blankNodeInfo.get(e),n=r.quads;for(const a of n){const r={subject:null,predicate:a.predicate,object:null,graph:null};r.subject=this.modifyFirstDegreeComponent(e,a.subject,"subject"),r.object=this.modifyFirstDegreeComponent(e,a.object,"object"),r.graph=this.modifyFirstDegreeComponent(e,a.graph,"graph"),t.push(o.serializeQuad(r))}t.sort();const i=new a(this.hashAlgorithm);for(const a of t)i.update(a);return r.hash=await i.digest(),r.hash}async hashRelatedBlankNode(e,t,r,n){let i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;const o=new a(this.hashAlgorithm);return o.update(n),"g"!==n&&o.update(this.getRelatedPredicate(t)),o.update(i),o.digest()}async hashNDegreeQuads(e,t){const r=new a(this.hashAlgorithm),n=await this.createHashToRelated(e,t),o=[...n.keys()].sort();for(const a of o){r.update(a);let e,o="";const s=new i(n.get(a));let u=0;while(s.hasNext()){const r=s.next();++u%3===0&&await this._yield();let n=t.clone(),a="";const i=[];let c=!1;for(const e of r)if(this.canonicalIssuer.hasId(e)?a+=this.canonicalIssuer.getId(e):(n.hasId(e)||i.push(e),a+=n.getId(e)),0!==o.length&&a>o){c=!0;break}if(!c){for(const e of i){const t=await this.hashNDegreeQuads(e,n);if(a+=n.getId(e),a+=`<${t.hash}>`,n=t.issuer,0!==o.length&&a>o){c=!0;break}}c||(0===o.length||a<o)&&(o=a,e=n)}}r.update(o),t=e}return{hash:await r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;let a=0;for(const i of n)++a%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:r})]);return r}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const r=await this.hashFirstDegreeQuads(e),n=t.get(r);n?n.push(e):t.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const r=t.value,n=this.blankNodeInfo.get(r);n?n.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:t,position:r,id:n,issuer:a,hashToRelated:i}){if("BlankNode"!==t.termType||t.value===n)return;const o=t.value,s=await this.hashRelatedBlankNode(o,e,a,r),u=i.get(s);u?u.push(o):i.set(s,[o])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise(e=>setImmediate(e))}}},"600b":function(e,t,r){"use strict";r.r(t),r.d(t,"AsyncIteratorHandler",(function(){return s})),r.d(t,"DataHandler",(function(){return u})),r.d(t,"DeleteFunctionHandler",(function(){return V})),r.d(t,"ExecuteQueryHandler",(function(){return B})),r.d(t,"InsertFunctionHandler",(function(){return q})),r.d(t,"JSONLDResolver",(function(){return X})),r.d(t,"MutationExpressionsHandler",(function(){return Q})),r.d(t,"MutationFunctionHandler",(function(){return U})),r.d(t,"PathExpressionHandler",(function(){return z})),r.d(t,"PathFactory",(function(){return Ie})),r.d(t,"PathProxy",(function(){return W})),r.d(t,"PredicateHandler",(function(){return te})),r.d(t,"PredicatesHandler",(function(){return re})),r.d(t,"PreloadHandler",(function(){return ie})),r.d(t,"PropertiesHandler",(function(){return se})),r.d(t,"ReplaceFunctionHandler",(function(){return ue})),r.d(t,"SetFunctionHandler",(function(){return ce})),r.d(t,"SortHandler",(function(){return le})),r.d(t,"SparqlHandler",(function(){return he})),r.d(t,"StringToLDflexHandler",(function(){return me})),r.d(t,"SubjectHandler",(function(){return be})),r.d(t,"SubjectsHandler",(function(){return we})),r.d(t,"ThenHandler",(function(){return xe})),r.d(t,"ToArrayHandler",(function(){return Te})),r.d(t,"defaultHandlers",(function(){return Ee})),r.d(t,"getFirstItem",(function(){return i})),r.d(t,"getThen",(function(){return l})),r.d(t,"iteratorFor",(function(){return o})),r.d(t,"lazyThenable",(function(){return c})),r.d(t,"toIterablePromise",(function(){return d})),r.d(t,"isPlainObject",(function(){return k})),r.d(t,"hasPlainObjectArgs",(function(){return j})),r.d(t,"valueToTerm",(function(){return F})),r.d(t,"termToPrimitive",(function(){return M}));const n={};async function a(e){const t=[];for await(const r of e)t.push(r);return t}function i(e){const t=e[Symbol.asyncIterator]();return t.next().then(e=>e.value)}function o(e){return{async next(){if(e!==n){const t=await e;return e=n,{value:t}}return{done:!0}}}}class s{handle({subject:e},t){return e?()=>o(t.subject):()=>t.results[Symbol.asyncIterator]()}}class u{constructor(e,...t){this._isAsync=e.async,this._isFunction=e.function,this._dataProperties=t}static sync(...e){return new u({async:!1},...e)}static syncFunction(...e){return new u({async:!1,function:!0},...e)}static async(...e){return new u({async:!0},...e)}static asyncFunction(...e){return new u({async:!0,function:!0},...e)}handle(e){return this._isFunction?()=>this._resolveDataPath(e):this._resolveDataPath(e)}_resolveDataPath(e){return this._isAsync?this._resolveAsyncDataPath(e):this._resolveSyncDataPath(e)}_resolveSyncDataPath(e){for(const t of this._dataProperties)e=e&&e[t];return e}async _resolveAsyncDataPath(e){for(const t of this._dataProperties)e=e&&await e[t];return e}}function c(e){return{then:l(e)}}function l(e){return(t,r)=>e().then(t,r)}function d(e){return"function"===typeof e&&(e=p(e())),{[Symbol.asyncIterator](){return e[Symbol.asyncIterator]()},get then(){return l(()=>i(this))},catch(e){return this.then(null,e)},finally(e){return this.then().finally(e)}}}function p(e){const t=[];let r=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){let e=0;return{async next(){if(e<t.length)return t[e++];if(!r)return{done:!0};const n=t[e++]=r.next();return(await n).done&&(r=null),n}}}}}var f=r("9b92");const h="http://www.w3.org/2001/XMLSchema#",y=h+"boolean",v=h+"dateTime",g=h+"decimal",m=h+"double",b=h+"float",w=h+"integer",x=Object(f["namedNode"])(y),T=Object(f["namedNode"])(v),E=Object(f["namedNode"])(g),N=Object(f["namedNode"])(m),O=Object(f["namedNode"])(w),_=Object(f["literal"])("true",x),I=Object(f["literal"])("false",x),S=Object(f["literal"])("NaN",N),R=Object(f["literal"])("INF",N),C=Object(f["literal"])("-INF",N),A={NaN:NaN,INF:1/0,"-INF":-1/0};function D(e){return e&&"function"===typeof e[Symbol.asyncIterator]}function k(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)&&!(e instanceof Date)&&"function"!==typeof e.then&&"string"!==typeof e.termType&&!D(e)}function j(e,t=!1){const r=e.some(k);if(r&&!t&&1!==e.length)throw new Error(`Expected only 1 plain object, but got ${e.length} arguments`);return r}function L(e){return Array.isArray(e)?e:e?[e]:[]}function P(e){return[].concat(...e)}function F(e){switch(typeof e){case"string":return Object(f["literal"])(e);case"boolean":return e?_:I;case"number":return Number.isInteger(e)?Object(f["literal"])(e.toString(),O):Number.isFinite(e)?Object(f["literal"])(e.toString(),E):e===1/0?R:e===-1/0?C:S;default:if(e){if("string"===typeof e.termType)return e;if(e instanceof Date)return Object(f["literal"])(e.toISOString(),T)}}throw new Error("Invalid object: "+e)}function M(e){const{termType:t,value:r}=e;if("Literal"===t){const t=e.datatype.value;if(t.startsWith(h))switch(t){case y:return"true"===r||"1"===r;case w:return Number.parseInt(r,10);case g:return Number.parseFloat(r);case m:case b:return r in A?A[r]:Number.parseFloat(r);case v:return new Date(Date.parse(r));default:}}return r}class U{constructor(e,t){this._mutationType=e,this._allowZeroArgs=t}handle(e,t){return(...r)=>{if(!this._allowZeroArgs&&!r.length)throw new Error("Mutation cannot be invoked without arguments");const n=c(()=>this.createMutationExpressions(e,t,r));return e.extendPath({mutationExpressions:n})}}async createMutationExpressions(e,t,r){if(!j(r))return[await this.createMutationExpression(e,t,r)];const n=Object.entries(r[0]),a=await Promise.all(n.map(([r,n])=>this.createMutationExpression(e,t[r],L(n))));return[0===a.length?{}:{...a[0],predicateObjects:P(a.map(e=>e.predicateObjects))}]}async createMutationExpression(e,t,r){const n=await t.pathExpression;if(!Array.isArray(n))throw new Error(e+" has no pathExpression property");if(n.length<2)throw new Error(e+" should at least contain a subject and a predicate");const{predicate:a,reverse:i}=n[n.length-1];if(!a)throw new Error("Expected predicate in "+e);const o=await this.extractObjects(e,t,r);return null!==o&&0===o.length?{}:{mutationType:this._mutationType,conditions:n.slice(0,-1),predicateObjects:[{predicate:a,reverse:i,objects:o}]}}async extractObjects(e,t,r){if(0===r.length)return null;const n=[];for(const i of r)D(i)?n.push(...await a(i)):n.push(await i);return n.map(F)}}class V extends U{constructor(){super("DELETE",!0)}}class B{async*handle(e,t){const r=await e.resultsCache;if(r){for(const e of r)yield e;return}const{queryEngine:n}=e.settings;if(!n)throw new Error(e+" has no queryEngine setting");const a=await t.sparql;if(null===a||void 0===a)throw new Error(e+" has no sparql property");if(0!==a.length)for await(const i of n.execute(a))yield this.extractTerm(i,e)}extractTerm(e,t){if(1!==e.size)throw new Error("Only single-variable queries are supported");const r=e.values().next().value;return t.extendPath({subject:r},null)}}class q extends U{constructor(){super("INSERT",!1)}}var G=r("e6e5");class ${constructor(...e){this._context=Promise.resolve({}),this.extendContext(...e)}async extendContext(...e){await(this._context=this._context.then(({contextRaw:t})=>(new G["ContextParser"]).parse([t,...e])))}}class H{get _context(){return this._contextProvider._context}async extendContext(...e){await this._contextProvider.extendContext(...e)}constructor(e,...t){this._contextProvider=new $,e instanceof $?(this._contextProvider=e,this.extendContext(...t)):this.extendContext(e,...t)}supports(e){return"string"===typeof e}resolve(e,t){const r=c(()=>this.expandProperty(e)),n=c(()=>this._context.then(({contextRaw:t})=>t[e]&&t[e]["@reverse"])),a=this.getResultsCache(t,r,n),i={property:e,predicate:r,resultsCache:a,reverse:n,apply:this.apply};return t.extendPath(i)}apply(e,t,r){if(0===e.length){const{property:e}=t;throw new Error(`Specify at least one term when calling .${e}() on a path`)}return t.values=e.map(F),r}async expandProperty(e){return this.lookupProperty(e.replace(/^([a-z][a-z0-9]*)[_$]/i,"$1:"))}getResultsCache(e,t,r){let{propertyCache:n}=e;return n&&c(async()=>(n=!await r&&await n,n&&n[(await t).value]))}}class X extends H{async lookupProperty(e){const t=await this._context,r=t.expandTerm(e,!0);if(!G["Util"].isValidIri(r))throw new Error(`The JSON-LD context cannot expand the '${e}' property`);return Object(f["namedNode"])(r)}}class Q{async handle(e){const t=[];let r=e;while(r)r.mutationExpressions&&t.unshift(...await r.mutationExpressions),r=r.parent;return t}}class z{async handle(e){const t=[];let r=e;while(r.parent)r.predicate&&t.unshift({predicate:await r.predicate,reverse:await r.reverse,sort:r.sort,values:r.values}),r=r.parent;if(!r.subject)throw new Error("Expected root subject in "+r);const n=await r.subject;return t.unshift({subject:n}),t}}const J=Object.create(null);class W{constructor({handlers:e=J,resolvers:t=[]}={}){this._handlers=e,this._resolvers=t}createPath(e={},t){void 0===t&&([t,e]=[e,{}]);const{apply:r,...n}=t,a=r?Object.assign(o,n):n,i=new Proxy(a,this);function o(...e){return r(e,a,i)}if(a.proxy=i,a.settings=e,!a.extendPath){const t=this;a.extendPath=function r(n,a=this){return t.createPath(e,{parent:a,extendPath:r,...n})}}return i}get(e,t){const r=this._handlers[t];if(r&&"function"===typeof r.handle)return r.handle(e,e.proxy);for(const n of this._resolvers)if(n.supports(t))return n.resolve(t,e,e.proxy)}}var Y=r("2d54");function K(e){if("join"===e.type)return`${K(e.left)}/${K(e.right)}`;if("bgp"===e.type&&e.patterns.every(e=>"NamedNode"===e.predicate.termType)&&e.patterns.length>=0){let t="s";return e.patterns.map(e=>{const r=`<${e.predicate.value}>`;return e.object.value===t?(t=e.subject.value,"^"+r):(t=e.object.value,r)}).join("/")}if("path"===e.type){let t=Object(Y["toSparql"])({type:"project",input:e});return t=t.replace(/^SELECT WHERE \{ \?[0-9a-z]+ \(|\) \?[0-9a-z]+\. \}$/gi,""),t}throw new Error("Unhandled algebra "+e.type)}class Z extends H{supports(e){return super.supports(e)&&/((^|[/|])[\^])|(([a-z:>)])[*+?])|([)>*+?]|[a-z]*[:][a-z]*)[|/]([<(^]|[a-z]*[:][a-z]*)|(((^[(<])|([)>]$)))/i.test(e)}async lookupProperty(e){const t=await this._context,r={};for(const i in t.contextRaw)"string"===typeof t.contextRaw[i]&&(r[i]=t.contextRaw[i]);let n;try{n=Object(Y["translate"])(`SELECT ?s ?o WHERE { ?s ${e} ?o. }`,{prefixes:r})}catch(a){throw new Error(`The Complex Path Resolver cannot expand the '${e}' path`)}if("bgp"===n.input.type&&1===n.input.patterns.length&&"NamedNode"===n.input.patterns[0].predicate.termType&&"s"===n.input.patterns[0].subject.value)return Object(f["namedNode"])(n.input.patterns[0].predicate.value);try{return{termType:"path",value:K(n.input)}}catch(a){throw new Error(`The Complex Path Resolver cannot expand the '${e}' path`)}}}class ee{handle(e,t){return(...e)=>this.readProperties(t,1===e.length?e[0]:e,!0)}async readProperties(e,t,r=!1){if(D(t)&&(t=await a(t)),Array.isArray(t)){const r=t.map(t=>this.readProperties(e,t));return Promise.all(r)}if(k(t)){const r=Object.keys(t);t=r.map(e=>t[e]||e);const n={},a=await this.readProperties(e,t);for(let e=0;e<r.length;e++)n[r[e]]=a[e];return n}const n=e[t];return r?[n]:n}}class te{handle(e){const{predicate:t}=e;return t?Promise.resolve(t).then(t=>e.extendPath({subject:t},null)):void 0}}class re{handle(e){return e.extendPath({distinct:!0,select:"?predicate",finalClause:e=>e+" ?predicate ?object.",property:e.property})}}const ne=/(SELECT\s+)(\?\S+)/,ae=/\}[^}]*$/;class ie{handle(e,t){return async(...r)=>{if(r.length>0){const n=await Promise.all(r.map(async e=>(await t[e].predicate).value));e.resultsCache=await this.createResultsCache(n,e,t)}return t}}async createResultsCache(e,t,r){const{query:n,vars:a,resultVar:i}=await this.createQuery(e,r),{settings:{queryEngine:o}}=t,s=o.execute(n),u={},c={};for await(const l of s){const r=l.get(i),n=oe(r);if(!(n in u)){const a=c[n]={};for(const t of e)a[t]=[];const i={subject:r,propertyCache:a};u[n]=t.extendPath(i,null)}const o=c[n];for(let i=0;i<a.length;i++){const r=l.get(a[i]);if(r){const n=t.extendPath({subject:r},null);o[e[i]].push(n)}}}return Object.values(u)}async createQuery(e,t){const r=await t.sparql,n=ne.exec(r);if(!n)throw new Error("Unexpected path query: "+r);const a=n[2],i=e.map((e,t)=>"?preload_"+t),o=e.map((e,t)=>`    { ${a} <${e}> ${i[t]}. }`).join("\n    UNION\n"),s=r.replace(ne,"$1$2 "+i.join(" ")).replace(ae,`  OPTIONAL {\n${o}\n  }\n$&`);return{query:s,vars:i,resultVar:a}}}function oe(e){const{termType:t,value:r}=e;switch(t){case"NamedNode":return r;case"Literal":const{language:n,datatype:a}=e;return`${t}|${n}|${a.value}|${r}`;default:return`${t}|${r}`}}class se{handle(e,t){return d(this._handle(e,t))}async*_handle(e,t){const r=await e.settings.parsedContext||{},n=new G["JsonLdContextNormalized"](r);for await(const a of t.predicates)yield n.compactIri(""+await a,!0)}}class ue{handle(e,t){return function(e,...r){if(!e||!r.length)throw new Error("Replacing values requires at least two arguments, old value followed by all new values");return t.delete(e).add(...r)}}}class ce extends U{handle(e,t){return(...e)=>{const r=j(e)?Object.keys(e[0]).reduce((e,t)=>e.delete({[t]:[]}),t):t.delete();return r.add(...e)}}}class le{constructor(e="ASC"){this.order=e}handle(e,t){return(...r)=>{if(0===r.length)return t;const[n,...a]=r,{predicate:i}=t[n],o={property:n,predicate:i,sort:this.order},s=e.extendPath(o);return 0===a.length?s:s.sort(...a)}}}const de=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,pe=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,fe={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class he{async handle(e,t){const r=await t.mutationExpressions;if(Array.isArray(r)&&r.length)return r.map(e=>this.mutationExpressionToQuery(e)).filter(Boolean).join("\n;\n");const n=await t.pathExpression;if(!Array.isArray(n))throw new Error(e+" has no pathExpression property");return this.pathExpressionToQuery(e,t,n)}pathExpressionToQuery(e,t,r){if(r.length<2&&!e.finalClause)throw new Error(e+" should at least contain a subject and a predicate");let n="?subject",a=[],i=[];r.length>1&&(n=this.createVar(e.property),({queryVar:n,sorts:a,clauses:i}=this.expressionToTriplePatterns(r,n))),e.finalClause&&i.push(e.finalClause(n));const o=e.distinct?"DISTINCT ":"",s=`SELECT ${o}${e.select?e.select:n}`,u=` WHERE {\n  ${i.join("\n  ")}\n}`,c=a.map(({order:e,variable:t})=>`${e}(${t})`),l=0===c.length?"":"\nORDER BY "+c.join(" ");return`${s}${u}${l}`}mutationExpressionToQuery({mutationType:e,conditions:t,predicateObjects:r}){if(!e||!t||r&&0===r.length)return"";const n={};let a,i;if(1===t.length)a=this.termToString(t[0].subject),i=[];else{const e=t[t.length-1].predicate;a=this.createVar(e.value,n),({queryVar:a,clauses:i}=this.expressionToTriplePatterns(t,a,n))}const o=[];for(const{predicate:u,reverse:c,objects:l}of r){const e=l?l.map(e=>this.termToString(e)):[this.createVar(u.value,n)];o.push(...this.triplePatterns(a,u,e,c))}const s=`{\n  ${o.join("\n  ")}\n}`;return 0===i.length?`${e} DATA ${s}`:`${e} ${s} WHERE {\n  ${i.join("\n  ")}\n}`}expressionToTriplePatterns([e,...t],r,n={}){const a=t.length-1,i=[],o=[];let s=this.termToString(ge(e.subject)),u=s,c=!1;return t.forEach((e,t)=>{const l=s,{predicate:d,reverse:p,sort:f,values:h}=e;let y;if(h&&h.length>0){if(!c)throw new Error("Specifying fixed values is not allowed here");y=h.map(this.termToString),c=!1}else s=t<a?this.createVar("v"+t,n):r,y=[s],c=!0;i.push(...this.triplePatterns(l,d,y,p)),f?(o.push({variable:s,order:f}),s=u):u=s}),{queryVar:u,sorts:o,clauses:i}}createVar(e="",t){let r=0,n="?"+(e.match(/[a-z0-9]*$/i)[0]||"result");if(t){e=n;while(t[n])n=`${e}_${r++}`;t[n]=!0}return n}termToString(e){let{value:t}=e;switch(de.test(t)&&(t=t.replace(pe,ye)),e.termType){case"NamedNode":return`<${t}>`;case"BlankNode":return"_:"+t;case"Literal":let r="";return e.language?r="@"+e.language:"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value&&(r=`^^<${e.datatype.value}>`),`"${t}"${r}`;default:throw new Error("Could not convert a term of type "+e.termType)}}triplePatterns(e,t,r,n=!1){let a=[e];n&&([a,r]=[r,a]);const i=r.join(", "),o="path"===t.termType?t.value:`<${t.value}>`;return a.map(e=>`${e} ${o} ${i}.`)}}function ye(e){let t=fe[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}let ve=0;function ge(e){return"BlankNode"!==e.termType?e:(e.skolemized||(e.skolemized=Object(f["namedNode"])("urn:ldflex:sk"+ve++)),e.skolemized)}class me{handle(e,t){return(e="",r=t)=>{const n=e.replace(/^(https?:\/\/[^()[\]'"]+)$/,'["$1"]').replace(/^(?=[a-z$_])/i,".").replace(/\[([^'"`\](]*)\]/g,'["$1"]'),a='"use strict";return ldflex'+n;let i;try{i=Function("ldflex",a)}catch({message:o}){throw new Error(`Expression "${e}" is invalid: ${o}`)}return i(r)}}}class be{handle(e){let{subject:t,parent:r}=e;while(!t&&r)({subject:t,parent:r}=r);return t?Promise.resolve(t).then(t=>e.extendPath({subject:t},null)):void 0}}class we{handle(e){return e.extendPath({distinct:!0,select:"?subject",finalClause:()=>"?subject ?predicate ?object.",property:e.property})}}class xe{handle({subject:e},t){return e?e.then&&l(()=>t.subject):l(()=>i(t.results))}}class Te{handle(e,t){return async e=>{const r=[];if(D(t)){"function"!==typeof e&&(e=e=>e);let n=0;for await(const a of t)r.push(await e(a,n++))}return r}}}var Ee={__esModule:()=>{},then:new xe,[Symbol.asyncIterator]:new s,get:new ee,subject:new be,predicate:new te,properties:new se,predicates:new re,pathExpression:new z,sparql:new he,subjects:new we,results:new B,sort:new le("ASC"),sortDesc:new le("DESC"),preload:new ie,mutationExpressions:new Q,add:new q,set:new ce,replace:new ue,delete:new V,termType:Oe("termType"),value:Oe("value"),datatype:Oe("datatype"),language:Oe("language"),canonical:Oe("canonical"),equals:u.sync("subject","equals"),toString:u.syncFunction("subject","value"),valueOf:_e(),toPrimitive:_e(),toArray:new Te,termTypes:Ne((e,t)=>t.toArray(e=>e.termType)),values:Ne((e,t)=>t.toArray(e=>e.value)),datatypes:Ne((e,t)=>t.toArray(e=>e.datatype)),languages:Ne((e,t)=>t.toArray(e=>e.language)),resolve:new me};function Ne(e){return{handle:e}}function Oe(e){return Ne(({subject:t},r)=>t&&e in t?t[e]:r.then&&r.then(t=>null===t||void 0===t?void 0:t[e]))}function _e(){return Ne(({subject:e})=>()=>"string"!==typeof(null===e||void 0===e?void 0:e.termType)?void 0:M(e))}class Ie{constructor(e,t){this._settings=e={...e},this._data=t={...t};const r=e.handlers||Ee;for(const a in r)r[a]=Se(r[a]);for(const a of Object.getOwnPropertySymbols(r))r[a]=Se(r[a]);const n=(e.resolvers||[]).map(Re);if(e.context){const t=new $(e.context);n.push(new Z(t)),n.push(new X(t)),e.parsedContext=(new G["ContextParser"]).parse(e.context).then(({contextRaw:e})=>e)}else e.context=e.parsedContext={};this._pathProxy=new W({handlers:r,resolvers:n}),delete e.handlers,delete e.resolvers}create(e={},t){return t||([t,e]=[e,null]),this._pathProxy.createPath(Object.assign(Object.create(null),this._settings,e),Object.assign(Object.create(null),this._data,t))}}function Se(e){return"function"===typeof e.handle?e:{handle:e}}function Re(e){return"function"===typeof e.resolve?e:{supports:Ce,resolve:e}}function Ce(){return!0}Ie.defaultHandlers=Ee},"606c":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),o=n(r("3c96")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("21b4")),p=n(r("33e3")),f=r("43f5"),h=r("073a"),y=r("ab32");function v(e){var t=g();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){(0,s.default)(r,e);var t=v(r);function r(e){var n;if((0,a.default)(this,r),n=t.call(this,(0,h.termValue)(e)),(0,l.default)((0,o.default)(n),"termType",f.NamedNodeTermType),(0,l.default)((0,o.default)(n),"classOrder",d.default.NamedNode),!n.value)throw new Error("Missing IRI for NamedNode");if(!n.value.includes(":"))throw new Error('NamedNode IRI "'+e+'" must be absolute.');if(n.value.includes(" ")){var i='Error: NamedNode IRI "'+e+'" must not contain unencoded spaces.';throw new Error(i)}return n}return(0,i.default)(r,[{key:"dir",value:function(){var e=this.value.split("#")[0],t=e.slice(0,-1).lastIndexOf("/"),n=e.indexOf("//");return n>=0&&t<n+2||t<0?null:new r(e.slice(0,t+1))}},{key:"site",value:function(){var e=this.value.split("#")[0],t=e.indexOf("//");if(t<0)throw new Error("This URI does not have a web site part (origin)");var n=e.indexOf("/",t+2);return new r(n<0?e.slice(0)+"/":e.slice(0,n+1))}},{key:"doc",value:function(){return this.value.indexOf("#")<0?this:new r(this.value.split("#")[0])}},{key:"toString",value:function(){return"<"+this.value+">"}},{key:"id",value:function(){return this.value.split("#")[1]}},{key:"uri",get:function(){return this.value},set:function(e){this.value=e}}],[{key:"fromValue",value:function(e){return"undefined"===typeof e||null===e||(0,y.isTerm)(e)?e:new r(e)}}]),r}(p.default);t.default=m},6655:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r("19f2")),a=o(r("f703")),i=o(r("f62b"));function o(e){return e&&e.__esModule?e:{default:e}}var s=new n.default({createQueryEngine:e=>new a.default(e,new i.default(e))});t.default=s},"66a7":function(e,t,r){"use strict";e.exports=r("8fd9").NQuads},"68dd":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("8171");t.collectNamedTerms=n.collectNamedTerms,t.everyTerms=n.everyTerms,t.filterQuadTermNames=n.filterQuadTermNames,t.filterTerms=n.filterTerms,t.forEachTerms=n.forEachTerms,t.getNamedTerms=n.getNamedTerms,t.getTerms=n.getTerms,t.getTermsNested=n.getTermsNested,t.mapTerms=n.mapTerms,t.matchPattern=n.matchPattern,t.matchPatternComplete=n.matchPatternComplete,t.QUAD_TERM_NAMES=n.QUAD_TERM_NAMES,t.reduceTerms=n.reduceTerms,t.someTerms=n.someTerms,t.TRIPLE_TERM_NAMES=n.TRIPLE_TERM_NAMES;const a=r("ae15");t.getBlankNodes=a.getBlankNodes,t.getDefaultGraphs=a.getDefaultGraphs,t.getLiterals=a.getLiterals,t.getNamedNodes=a.getNamedNodes,t.getTermsOfType=a.getTermsOfType,t.getVariables=a.getVariables,t.TERM_TYPES=a.TERM_TYPES,t.uniqTerms=a.uniqTerms},"691a":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("9523")),i=n(r("c947")),o=n(r("902d")),s=n(r("f6d5"));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=c(c({},s.default),{},{fetcher:function(e,t){return new o.default(e,t)},graph:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return new i.default(e,t||{rdfFactory:s.default})},lit:function(e,t,r){return this.literal(""+e,t||r)},st:function(e,t,r,n){return this.quad(e,t,r,n)}}),d=l;t.default=d},"6b58":function(e,t,r){var n=r("7037")["default"],a=r("3c96");function i(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?a(e):t}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},"6d47":function(e,t,r){"use strict";const{isArray:n,isObject:a,isString:i}=r("29308"),{asArray:o}=r("14b4"),{prependBase:s}=r("f060"),u=r("a2c2"),c=r("f628"),l=10;function d(e){throw new u("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function p({context:e,base:t}){if(!e)return;const r=e["@context"];if(i(r))e["@context"]=s(t,r);else if(n(r))for(let n=0;n<r.length;++n){const e=r[n];i(e)?r[n]=s(t,e):a(e)&&p({context:{"@context":e},base:t})}else if(a(r))for(const n in r)p({context:r[n],base:t})}e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:r,base:s,cycles:u=new Set}){t&&a(t)&&t["@context"]&&(t=t["@context"]),t=o(t);const l=[];for(const o of t){if(i(o)){let t=this._get(o);t||(t=await this._resolveRemoteContext({activeCtx:e,url:o,documentLoader:r,base:s,cycles:u})),n(t)?l.push(...t):l.push(t);continue}if(null===o){l.push(new c({document:null}));continue}a(o)||d(t);const p=JSON.stringify(o);let f=this._get(p);f||(f=new c({document:o}),this._cacheResolvedContext({key:p,resolved:f,tag:"static"})),l.push(f)}return l}_get(e){let t=this.perOpCache.get(e);if(!t){const r=this.sharedCache.get(e);r&&(t=r.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext({key:e,resolved:t,tag:r}){if(this.perOpCache.set(e,t),void 0!==r){let n=this.sharedCache.get(e);n||(n=new Map,this.sharedCache.set(e,n)),n.set(r,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:r,base:n,cycles:a}){t=s(n,t);const{context:i,remoteDoc:o}=await this._fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:a});n=o.documentUrl||t,p({context:i,base:n});const u=await this.resolve({activeCtx:e,context:i,documentLoader:r,base:n,cycles:a});return this._cacheResolvedContext({key:t,resolved:u,tag:o.tag}),u}async _fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:o}){if(o.size>l)throw new u("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:l});if(o.has(t))throw new u("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let s,c;o.add(t);try{c=await r(t),s=c.document||null,i(s)&&(s=JSON.parse(s))}catch(d){throw new u("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:d})}if(!a(s))throw new u("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},c.contextUrl&&(n(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(c.contextUrl)),{context:s,remoteDoc:c}}}},"6dc9":function(e,t,r){"use strict";r.r(t),r.d(t,"v1",(function(){return y})),r.d(t,"v3",(function(){return j})),r.d(t,"v4",(function(){return P})),r.d(t,"v5",(function(){return q}));var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),a=new Uint8Array(16);function i(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}for(var o=[],s=0;s<256;++s)o[s]=(s+256).toString(16).substr(1);function u(e,t){var r=t||0,n=o;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}var c,l,d=u,p=0,f=0;function h(e,t,r){var n=t&&r||0,a=t||[];e=e||{};var o=e.node||c,s=void 0!==e.clockseq?e.clockseq:l;if(null==o||null==s){var u=e.random||(e.rng||i)();null==o&&(o=c=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==s&&(s=l=16383&(u[6]<<8|u[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:f+1,v=h-p+(y-f)/1e4;if(v<0&&void 0===e.clockseq&&(s=s+1&16383),(v<0||h>p)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=h,f=y,l=s,h+=122192928e5;var g=(1e4*(268435455&h)+y)%4294967296;a[n++]=g>>>24&255,a[n++]=g>>>16&255,a[n++]=g>>>8&255,a[n++]=255&g;var m=h/4294967296*1e4&268435455;a[n++]=m>>>8&255,a[n++]=255&m,a[n++]=m>>>24&15|16,a[n++]=m>>>16&255,a[n++]=s>>>8|128,a[n++]=255&s;for(var b=0;b<6;++b)a[n+b]=o[b];return t||d(a)}var y=h;function v(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}function g(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}var m="6ba7b810-9dad-11d1-80b4-00c04fd430c8",b="6ba7b811-9dad-11d1-80b4-00c04fd430c8",w=function(e,t,r){var n=function(e,n,a,i){var o=a&&i||0;if("string"==typeof e&&(e=g(e)),"string"==typeof n&&(n=v(n)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var s=r(n.concat(e));if(s[6]=15&s[6]|t,s[8]=63&s[8]|128,a)for(var u=0;u<16;++u)a[o+u]=s[u];return a||d(s)};try{n.name=e}catch(a){}return n.DNS=m,n.URL=b,n};function x(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return T(E(N(e),8*e.length))}function T(e){var t,r,n,a=[],i=32*e.length,o="0123456789abcdef";for(t=0;t<i;t+=8)r=e[t>>5]>>>t%32&255,n=parseInt(o.charAt(r>>>4&15)+o.charAt(15&r),16),a.push(n);return a}function E(e,t){var r,n,a,i,o;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var s=1732584193,u=-271733879,c=-1732584194,l=271733878;for(r=0;r<e.length;r+=16)n=s,a=u,i=c,o=l,s=S(s,u,c,l,e[r],7,-680876936),l=S(l,s,u,c,e[r+1],12,-389564586),c=S(c,l,s,u,e[r+2],17,606105819),u=S(u,c,l,s,e[r+3],22,-1044525330),s=S(s,u,c,l,e[r+4],7,-176418897),l=S(l,s,u,c,e[r+5],12,1200080426),c=S(c,l,s,u,e[r+6],17,-1473231341),u=S(u,c,l,s,e[r+7],22,-45705983),s=S(s,u,c,l,e[r+8],7,1770035416),l=S(l,s,u,c,e[r+9],12,-1958414417),c=S(c,l,s,u,e[r+10],17,-42063),u=S(u,c,l,s,e[r+11],22,-1990404162),s=S(s,u,c,l,e[r+12],7,1804603682),l=S(l,s,u,c,e[r+13],12,-40341101),c=S(c,l,s,u,e[r+14],17,-1502002290),u=S(u,c,l,s,e[r+15],22,1236535329),s=R(s,u,c,l,e[r+1],5,-165796510),l=R(l,s,u,c,e[r+6],9,-1069501632),c=R(c,l,s,u,e[r+11],14,643717713),u=R(u,c,l,s,e[r],20,-373897302),s=R(s,u,c,l,e[r+5],5,-701558691),l=R(l,s,u,c,e[r+10],9,38016083),c=R(c,l,s,u,e[r+15],14,-660478335),u=R(u,c,l,s,e[r+4],20,-405537848),s=R(s,u,c,l,e[r+9],5,568446438),l=R(l,s,u,c,e[r+14],9,-1019803690),c=R(c,l,s,u,e[r+3],14,-187363961),u=R(u,c,l,s,e[r+8],20,1163531501),s=R(s,u,c,l,e[r+13],5,-1444681467),l=R(l,s,u,c,e[r+2],9,-51403784),c=R(c,l,s,u,e[r+7],14,1735328473),u=R(u,c,l,s,e[r+12],20,-1926607734),s=C(s,u,c,l,e[r+5],4,-378558),l=C(l,s,u,c,e[r+8],11,-2022574463),c=C(c,l,s,u,e[r+11],16,1839030562),u=C(u,c,l,s,e[r+14],23,-35309556),s=C(s,u,c,l,e[r+1],4,-1530992060),l=C(l,s,u,c,e[r+4],11,1272893353),c=C(c,l,s,u,e[r+7],16,-155497632),u=C(u,c,l,s,e[r+10],23,-1094730640),s=C(s,u,c,l,e[r+13],4,681279174),l=C(l,s,u,c,e[r],11,-358537222),c=C(c,l,s,u,e[r+3],16,-722521979),u=C(u,c,l,s,e[r+6],23,76029189),s=C(s,u,c,l,e[r+9],4,-640364487),l=C(l,s,u,c,e[r+12],11,-421815835),c=C(c,l,s,u,e[r+15],16,530742520),u=C(u,c,l,s,e[r+2],23,-995338651),s=A(s,u,c,l,e[r],6,-198630844),l=A(l,s,u,c,e[r+7],10,1126891415),c=A(c,l,s,u,e[r+14],15,-1416354905),u=A(u,c,l,s,e[r+5],21,-57434055),s=A(s,u,c,l,e[r+12],6,1700485571),l=A(l,s,u,c,e[r+3],10,-1894986606),c=A(c,l,s,u,e[r+10],15,-1051523),u=A(u,c,l,s,e[r+1],21,-2054922799),s=A(s,u,c,l,e[r+8],6,1873313359),l=A(l,s,u,c,e[r+15],10,-30611744),c=A(c,l,s,u,e[r+6],15,-1560198380),u=A(u,c,l,s,e[r+13],21,1309151649),s=A(s,u,c,l,e[r+4],6,-145523070),l=A(l,s,u,c,e[r+11],10,-1120210379),c=A(c,l,s,u,e[r+2],15,718787259),u=A(u,c,l,s,e[r+9],21,-343485551),s=O(s,n),u=O(u,a),c=O(c,i),l=O(l,o);return[s,u,c,l]}function N(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e[t/8])<<t%32;return r}function O(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}function _(e,t){return e<<t|e>>>32-t}function I(e,t,r,n,a,i){return O(_(O(O(t,e),O(n,i)),a),r)}function S(e,t,r,n,a,i,o){return I(t&r|~t&n,e,t,a,i,o)}function R(e,t,r,n,a,i,o){return I(t&n|r&~n,e,t,a,i,o)}function C(e,t,r,n,a,i,o){return I(t^r^n,e,t,a,i,o)}function A(e,t,r,n,a,i,o){return I(r^(t|~n),e,t,a,i,o)}var D=x,k=w("v3",48,D),j=k;function L(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var o=0;o<16;++o)t[n+o]=a[o];return t||d(a)}var P=L;function F(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function M(e,t){return e<<t|e>>>32-t}function U(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=new Array(n.length);for(var a=0;a<n.length;a++)e[a]=n.charCodeAt(a)}e.push(128);var i=e.length/4+2,o=Math.ceil(i/16),s=new Array(o);for(a=0;a<o;a++){s[a]=new Array(16);for(var u=0;u<16;u++)s[a][u]=e[64*a+4*u]<<24|e[64*a+4*u+1]<<16|e[64*a+4*u+2]<<8|e[64*a+4*u+3]}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(a=0;a<o;a++){for(var c=new Array(80),l=0;l<16;l++)c[l]=s[a][l];for(l=16;l<80;l++)c[l]=M(c[l-3]^c[l-8]^c[l-14]^c[l-16],1);var d=r[0],p=r[1],f=r[2],h=r[3],y=r[4];for(l=0;l<80;l++){var v=Math.floor(l/20),g=M(d,5)+F(v,p,f,h)+y+t[v]+c[l]>>>0;y=h,h=f,f=M(p,30)>>>0,p=d,d=g}r[0]=r[0]+d>>>0,r[1]=r[1]+p>>>0,r[2]=r[2]+f>>>0,r[3]=r[3]+h>>>0,r[4]=r[4]+y>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}var V=U,B=w("v5",80,V),q=B},"6e759":function(e,t,r){"use strict";const{parseLinkHeader:n,buildHeaders:a}=r("14b4"),{LINK_HEADER_CONTEXT:i}=r("4c4c"),o=r("a2c2"),s=r("0c02"),{prependBase:u}=r("f060");function c(e,t){return new Promise((r,n)=>{e(t,(e,t,a)=>{e?n(e):r({res:t,body:a})})})}e.exports=({secure:e,strictSSL:t=!0,maxRedirects:l=-1,request:d,headers:p={}}={strictSSL:!0,maxRedirects:-1,headers:{}})=>{p=a(p),d=d||r(28);const f=r(29),h=new s;return h.wrapLoader((function(e){return y(e,[])}));async function y(r,a){if(0!==r.indexOf("http:")&&0!==r.indexOf("https:"))throw new o('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r});if(e&&0!==r.indexOf("https"))throw new o('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r});let s,h=null;if(null!==h)return h;let v=null;try{s=await c(d,{url:r,headers:p,strictSSL:t,followRedirect:!1})}catch(w){throw new o("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:w})}const{res:g,body:m}=s;h={contextUrl:null,documentUrl:r,document:m||null};const b=f.STATUS_CODES[g.statusCode];if(g.statusCode>=400)throw new o(`URL "${r}" could not be dereferenced: ${b}`,"jsonld.InvalidUrl",{code:"loading document failed",url:r,httpStatusCode:g.statusCode});if(g.headers.link&&"application/ld+json"!==g.headers["content-type"]){const e=n(g.headers.link),t=e[i];if(Array.isArray(t))throw new o("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r});t&&(h.contextUrl=t.target),v=e["alternate"],v&&"application/ld+json"==v.type&&!(g.headers["content-type"]||"").match(/^application\/(\w*\+)?json$/)&&(g.headers.location=u(r,v.target))}if((v||g.statusCode>=300&&g.statusCode<400)&&g.headers.location){if(a.length===l)throw new o("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:r,httpStatusCode:g.statusCode,redirects:a});if(-1!==a.indexOf(r))throw new o("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:r,httpStatusCode:g.statusCode,redirects:a});return a.push(r),y(g.headers.location,a)}return a.push(r),h}}},7037:function(e,t,r){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),n(t)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},7096:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0;class n{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}t.BlankNode=n},7274:function(e,t){(function(e){(function(t){var r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(e){return e&&DataView.prototype.isPrototypeOf(e)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!==typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function p(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function f(e){var t=new FileReader,r=d(t);return t.readAsText(e),r}function h(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:r.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():r.arrayBuffer&&r.blob&&n(e)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return f(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(h(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=o(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype["delete"]=function(e){delete this.map[o(e)]},c.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},c.prototype.set=function(e,t){this.map[o(e)]=s(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),u(e)},c.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},c.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),u(e)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}function b(e,t){t=t||{};var r=t.body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=m(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),a=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(a))}})),t}function x(e){var t=new c,r=e.replace(/\r?\n[\t ]+/g," ");return r.split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var a=r.join(":").trim();t.append(n,a)}})),t}function T(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},T.error=function(){var e=new T(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];T.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new T(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(O){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function N(e,n){return new Promise((function(a,i){var o=new b(e,n);if(o.signal&&o.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:x(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;a(new T(t,e))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&r.blob&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}N.polyfill=!0,e.fetch||(e.fetch=N,e.Headers=c,e.Request=b,e.Response=T),t.Headers=c,t.Request=b,t.Response=T,t.fetch=N,Object.defineProperty(t,"__esModule",{value:!0})})({})})("undefined"!==typeof self?self:this)},"730c":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(r("3c962"));function i(e){var t=0;function r(e){for(var t=u()+"SELECT ",r=0;r<e.vars.length;r++)t+=e.vars[r]+" ";return t+="\n",t}function n(e){var t="",r=e.statements;for(var n in r)a.default.debug("Found statement: "+r),t+=u()+r[n]+"\n";return t}function i(e){var t="";for(var r in e.constraints){var n=e.constraints[r];t+=u()+"FILTER ( "+n.describe(r)+" ) \n"}return t}function o(e){for(var r="",s=0;s<e.optional.length;s++)a.default.debug("Found optional query"),r+=u()+"OPTIONAL { \n",t++,r+=n(e.optional[s]),r+=i(e.optional[s]),r+=o(e.optional[s]),t--,r+=u()+"}\n";return r}function s(e){var r=u()+"WHERE \n{ \n";return t++,r+=n(e),r+=i(e),r+=o(e),t--,r+="}",r}function u(){for(var e="",r=0;r<t;r++)e+="    ";return e}function c(e){return r(e)+s(e.pat)}return c(e)}},7971:function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(r("606c")),a(r("43f6"));var i=n(r("3897")),o=n(r("4b68")),s=a(r("8fd3")),u=r("8764"),c=function(){var e=function(e){this.flags="",this.base=null,this.prefixes=[],this.namespaces=[],this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=e,this.rdfFactory=e.rdfFactory||s.default,this.xsd=(0,u.createXSD)(this.rdfFactory)};function t(e){return encodeURI(e)}function r(e){for(var t,r="",n=0;n<e.length;n++)t=e.charCodeAt(n),r+=t>65535?"\\U"+("00000000"+t.toString(16)).slice(-8):t>126?"\\u"+("0000"+t.toString(16)).slice(-4):e[n];return r}e.prototype.setBase=function(e){return this.base=e,this},e.prototype.setFlags=function(e){return this.flags=e||"",this},e.prototype.toStr=function(e){var t=e.toNT();return"Graph"===e.termType&&(this.formulas[t]=e),t},e.prototype.fromStr=function(e){if("{"===e[0]){var t=this.formulas[e];return t||console.log("No formula object for "+e),t}return this.store.fromNT(e)},e.prototype.suggestPrefix=function(e,t){"default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&t&&(e in this.namespaces||t in this.prefixes||(this.prefixes[t]=e,this.namespaces[e]=t))},e.prototype.suggestNamespaces=function(e){for(var t in e)this.suggestPrefix(t,e[t]);return this},e.prototype.checkIntegrity=function(){var e,t;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw new Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(t in this.prefixes)if(this.namespaces[this.prefixes[t]]!==t)throw new Error("Serializer integity error 2: "+t+", "+this.prefixs[t]+", "+this.namespaces[this.prefixes[t]]+"!")},e.prototype.makeUpPrefix=function(t){var r=t;function n(r){return!!e.prototype.validPrefix.test(r)&&("ns"!==r&&(!(r in this.namespaces)&&(this.prefixes[t]=r,this.namespaces[r]=t,r)))}var a=n.bind(this);"#/".indexOf(r[r.length-1])>=0&&(r=r.slice(0,-1));var i=r.lastIndexOf("/");i>=0&&(r=r.slice(i+1));var o=0;while(o<r.length){if(!this.prefixchars.indexOf(r[o]))break;o++}if(r=r.slice(0,o),r.length<6&&a(r))return r;if(a(r.slice(0,3)))return r.slice(0,3);if(a(r.slice(0,2)))return r.slice(0,2);if(a(r.slice(0,4)))return r.slice(0,4);if(a(r.slice(0,1)))return r.slice(0,1);if(a(r.slice(0,5)))return r.slice(0,5);e.prototype.validPrefix.test(r)||(r="n");for(var s=0;;s++)if(a(r.slice(0,3)+s))return r.slice(0,3)+s},e.prototype.rootSubjects=function(e){for(var t={},r={},n={},a=0;a<e.length;a++){var i=e[a],o=function(e){t.hasOwnProperty(e)||(t[e]=[]),t[e].push(i.subject)},s=[i.subject,i.predicate,i.object];s.map((function(e){"BlankNode"===e.termType?n[e.toNT()]=!0:"Collection"===e.termType&&e.elements.forEach((function(e){o(e)}))})),o(e[a].object);var u=r[this.toStr(i.subject)];u||(u=[]),u.push(i),r[this.toStr(i.subject)]=u}var c=[];for(var l in r)if(r.hasOwnProperty(l)){var d=this.fromStr(l);"BlankNode"===d.termType&&t[d]&&1===t[d].length||c.push(d)}this.incoming=t;for(var p={},f=0;f<c.length;f++)p[c[f].toNT()]=!0;return{roots:c,subjects:r,rootsHash:p,incoming:t}},e.prototype.toN3=function(e){return this.statementsToN3(e.statements)},e.prototype._notQNameChars="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",e.prototype._notNameChars=e.prototype._notQNameChars+":",e.prototype.explicitURI=function(e){return e=this.flags.indexOf("r")<0&&this.base?i.refTo(this.base,e):this.flags.indexOf("u")>=0?r(e):t(e),"<"+e+">"},e.prototype.statementsToNTriples=function(e){var t=e.slice();t.sort();for(var r="",n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a=this,i=this.store,o=this.rdfFactory,s=function e(t){if("Collection"!==t.termType)return a.atomicTermToN3(t);for(var s=t.elements,u=i.sym(n+"nill"),c=s.length-1;c>=0;c--){var l=o.blankNode();r+=e(l)+" "+e(i.sym(n+"first"))+" "+e(s[c])+".\n",r+=e(l)+" "+e(i.sym(n+"rest"))+" "+e(u)+".\n",u=l}return a.atomicTermToN3(u)},u=0;u<t.length;u++){var c=t[u],l="";l+=s(c.subject)+" ",l+=s(c.predicate)+" ",l+=s(c.object)+" ",this.flags.indexOf("q")>=0&&(l+=s(c.why)+" "),l+=".\n",r+=l}return r},e.prototype.statementsToN3=function(t){var r=4,n=80,a=this.store,i={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"},s=function(e,t){return o.heavyCompareSPO(e,t,a,i)};t.sort(s),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var u={};this.flags.indexOf("s")<0&&(u["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(u["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(u["http://www.w3.org/2000/10/swap/log#implies"]="=>");var c=function(e){for(var t="",r=0;r<e;r++)t+=" ";return t},l=function e(t){for(var r="",n=0;n<t.length;n++){var a=t[n],i="string"===typeof a?a:e(a);if(0!==n){var o=r.slice(-1)||" ";","===i||";"===i||("."!==i||"0123456789.".includes(o))&&(r+=" ")}r+=i}return r},d=function e(t,a){var i="",o=1e5;void 0===a&&(a=-1);for(var s=0;s<t.length;s++){var u=t[s];if("string"!==typeof u){var d=e(u,a+1);if(d.length<10*(n-r*a)&&d.indexOf('"""')<0){var p=l(u);p.length<n-r*a&&(u=p,d="")}d&&(o=1e4),i+=d}if("string"===typeof u){if(1===u.length&&"\n"===i.slice(-1)&&",.;".indexOf(u)>=0){i=i.slice(0,-1)+u+"\n",o+=1;continue}if(o<r*a+4||o+u.length+1<n&&";.".indexOf(i[i.length-2])<0)i=i.slice(0,-1)+" "+u+"\n",o+=u.length+1;else{var f=c(r*a)+u;i+=f+"\n",o=f.length,a<0&&(i+="\n",o=1e5)}}}return i};function p(e){for(var t=this.rootSubjects(e),r=t.roots,n=[],a=0;a<r.length;a++){var i=r[a];n.push(h(i,t))}return n}var f=p.bind(this);function h(e,t){return"BlankNode"!==e.termType||t.incoming[e]?[w(e,t)].concat([v(e,t)]).concat(["."]):m(e,t,!0).concat(["."])}function y(e,t){var r=[],n=null,a=t.subjects[this.toStr(e)]||[];if("undefined"===typeof a)throw new Error("Cant find statements for "+e);for(var i=[],o=0;o<a.length;o++){var s=a[o];s.predicate.uri===n?i.push(","):(n&&(r=r.concat([i]).concat([";"]),i=[]),r.push(u[s.predicate.uri]?u[s.predicate.uri]:w(s.predicate,t))),n=s.predicate.uri,i.push(m(s.object,t))}return r=r.concat([i]),r}var v=y.bind(this);function g(e,t,r){return"BlankNode"!==e.termType||!r&&void 0!==t.rootsHash[e.toNT()]?w(e,t):t.subjects[this.toStr(e)]?["[",v(e,t),"]"]:"[]"}var m=g.bind(this);function b(e,t){var r,n;switch(e.termType){case"Graph":return n=["{"],n=n.concat(f(e.statements)),n.concat(["}"]);case"Collection":for(n=["("],r=0;r<e.elements.length;r++)n.push([m(e.elements[r],t)]);return n.push(")"),n;default:return this.atomicTermToN3(e)}}e.prototype.termToN3=w;var w=b.bind(this);function x(){var e="";for(var t in this.defaultNamespace&&(e+="@prefix : "+this.explicitURI(this.defaultNamespace)+".\n"),this.prefixes)this.prefixes.hasOwnProperty(t)&&this.namespacesUsed[t]&&(e+="@prefix "+this.prefixes[t]+": "+this.explicitURI(t)+".\n");return e+"\n"}var T=x.bind(this),E=f(t);return T()+d(E)},e.prototype.atomicTermToN3=function(e,t){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var r=e.value;if("string"!==typeof r)throw new TypeError("Value of RDF literal node must be a string");if(e.datatype&&this.flags.indexOf("x")<0)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return r;case"http://www.w3.org/2001/XMLSchema#decimal":return r.indexOf(".")<0&&(r+=".0"),r;case"http://www.w3.org/2001/XMLSchema#double":return r.indexOf(".")<0&&(r+=".0"),r.indexOf("e")<0&&(r+="e0"),r;case"http://www.w3.org/2001/XMLSchema#boolean":return"1"===e.value?"true":"false"}var n=this.stringToN3(e.value);return e.language?n+="@"+e.language:e.datatype.equals(this.xsd.string)||(n+="^^"+this.atomicTermToN3(e.datatype,t)),n;case"NamedNode":return this.symbolToN3(e);default:throw new Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}},e.prototype.validPrefix=new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/),e.prototype.forbidden1=new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm),e.prototype.forbidden3=new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm),e.prototype.stringToN3=function(t,r){r||(r="e");var n,a,i,o,s,u="";for(t.length>20&&'"'!==t.slice(-1)&&r.indexOf("n")<0&&(t.indexOf("\n")>0||t.indexOf('"')>0)?(o='"""',s=e.prototype.forbidden3):(o='"',s=e.prototype.forbidden1),n=0;n<t.length;){s.lastIndex=0;var c=s.exec(t.slice(n));if(null==c)break;a=n+s.lastIndex-1,u+=t.slice(n,a);var l=t[a];'"'===l&&'"""'===o&&'"""'!==t.slice(a,a+3)?u+=l:(i='\b\f\r\t\v\n\\"'.indexOf(l),i>=0?u+="\\"+'bfrtvn\\"'[i]:r.indexOf("e")>=0?u+="\\u"+("000"+l.charCodeAt(0).toString(16).toLowerCase()).slice(-4):u+=l),n=a+1}return o+u+t.slice(n)+o},e.prototype.symbolToN3=function(t){var r=t.uri,n=r.indexOf("#");if(n<0&&this.flags.indexOf("/")<0&&(n=r.lastIndexOf("/")),n>=0&&this.flags.indexOf("p")<0&&(0===r.indexOf("http")||0===r.indexOf("ws")||0===r.indexOf("file"))){for(var a=!0,i=n+1;i<r.length;i++)if(e.prototype._notNameChars.indexOf(r[i])>=0){a=!1;break}if(a){var o=r.slice(n+1),s=r.slice(0,n+1);if(this.defaultNamespace&&this.defaultNamespace===s&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(o)<0?o:":"+o;var u=this.prefixes[s];if(u||(u=this.makeUpPrefix(s)),u)return this.namespacesUsed[s]=!0,u+":"+o}}return this.explicitURI(r)},e.prototype.writeStore=function(e){var t=this.store,r=t.fetcher,n=r&&r.appNode,a=this.store.index[3];for(var i in a){var o=t.fromNT(i);n&&o.equals(n)||e("\n"+this.atomicTermToN3(o)+" "+this.atomicTermToN3(t.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(t.statementsMatching(void 0,void 0,void 0,o))+" }.\n")}t.statementsMatching(void 0,t.sym("http://www.w3.org/2007/ont/link#requestedURI")).map((function(r){e("\n<"+r.object.value+"> log:metadata {\n");var n=t.statementsMatching(void 0,void 0,void 0,r.subject);e(this.statementsToN3(this.statementsToN3(n))),e("}.\n")}));var s=[];n&&s.push(n);var u=[];s.map((function(e){u=u.concat(t.statementsMatching(void 0,void 0,void 0,e))})),e(this.statementsToN3(u))},e.prototype.statementsToXML=function(t){var r=4,n=80,a=[];a["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var i="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",s=function(e){for(var t="",r=0;r<e;r++)t+=" ";return t},u=function e(t){for(var r="",n=0;n<t.length;n++){var a=t[n],i="string"===typeof a?a:e(a);r+=i}return r},c=function e(t,a){var i,o="",c=1e5;a||(a=0);for(var l=0;l<t.length;l++){var d=t[l];if("string"!==typeof d){var p=e(d,a+1);p.length<10*(n-r*a)&&p.indexOf('"""')<0&&(i=u(d),i.length<n-r*a&&(d="   "+i,p="")),p&&(c=1e4),o+=p}"string"===typeof d&&(c<r*a+4?(o=o.slice(0,-1)+" "+d+"\n",c+=d.length+1):(i=s(r*a)+d,o+=i+"\n",c=i.length))}return o};function l(e){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var t=this.rootSubjects(e),r=t.roots,n=[],a=0;a<r.length;a++){var i=r[a];n.push(v(i,t))}return n}var d=l.bind(this);function p(e){return"undefined"===typeof e?"@@@undefined@@@@":e.replace(/[&<"]/g,(function(e){switch(e[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}}))}function f(e){return p(this.base?o.uri.refTo(this.base,e.uri):e.uri)}var h=f.bind(this);function y(e,t){var r,n,a,o,s=[],u=t.subjects[this.toStr(e)];if("undefined"===typeof u)return b(e,t);u.sort((function(e,t){var r=e.predicate.uri,n=t.predicate.uri;if(r.substring(0,i.length)===i||n.substring(0,i.length)===i)return r.localeCompare(n);var a=r.substring(i.length),o=n.substring(i.length),s=parseInt(a,10),u=parseInt(o,10);return isNaN(s)||isNaN(u)||s!==a||u!==o?r.localeCompare(n):s-u}));for(var c=0;c<u.length;c++)if(a=u[c],"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==a.predicate.uri||r||"symbol"!==a.object.termType){if(o=a.predicate,o.uri.substr(0,i.length)===i){var l=o.uri.substr(i.length),d=parseInt(l,10);l===d.toString()&&(o=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(n=x(o),a.object.termType){case"BlankNode":s=1===t.incoming[a.object].length?s.concat(["<"+n+' rdf:parseType="Resource">',v(a.object,t),"</"+n+">"]):s.concat(["<"+n+' rdf:nodeID="'+a.object.toNT().slice(2)+'"/>']);break;case"NamedNode":s=s.concat(["<"+n+' rdf:resource="'+h(a.object)+'"/>']);break;case"Literal":s=s.concat(["<"+n+(a.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+p(a.object.datatype.uri)+'"')+(a.object.language?' xml:lang="'+a.object.language+'"':"")+">"+p(a.object.value)+"</"+n+">"]);break;case"Collection":s=s.concat(["<"+n+' rdf:parseType="Collection">',g(a.object,t),"</"+n+">"]);break;default:throw new Error("Can't serialize object of type "+a.object.termType+" into XML")}}else r=a.object;var f=r?x(r):"rdf:Description",y="";return"BlankNode"===e.termType?t.incoming[e]&&1===t.incoming[e].length||(y=' rdf:nodeID="'+e.toNT().slice(2)+'"'):y=' rdf:about="'+h(e)+'"',["<"+f+y+">"].concat([s]).concat(["</"+f+">"])}var v=y.bind(this);function g(e,t){for(var r=[],n=0;n<e.elements.length;n++)r.push(v(e.elements[n],t));return r}function m(e,t){var r=[],n=t.subjects[this.toStr(e)];if(!n)return r;n.sort();for(var a=0;a<n.length;a++){var i=n[a];switch(i.object.termType){case"BlankNode":r=t.rootsHash[i.object.toNT()]?r.concat(["<"+x(i.predicate)+' rdf:nodeID="'+i.object.toNT().slice(2)+'">',"</"+x(i.predicate)+">"]):r.concat(["<"+x(i.predicate)+' rdf:parseType="Resource">',b(i.object,t),"</"+x(i.predicate)+">"]);break;case"NamedNode":r=r.concat(["<"+x(i.predicate)+' rdf:resource="'+h(i.object)+'"/>']);break;case"Literal":r=r.concat(["<"+x(i.predicate)+(i.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+p(i.object.datatype.value)+'"')+(i.object.language?' xml:lang="'+i.object.language+'"':"")+">"+p(i.object.value)+"</"+x(i.predicate)+">"]);break;case"Collection":r=r.concat(["<"+x(i.predicate)+' rdf:parseType="Collection">',g(i.object,t),"</"+x(i.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+i.object.termType+" into XML")}}return r}var b=m.bind(this);function w(t){var r=t.uri,n=r.indexOf("#");if(n<0&&this.flags.indexOf("/")<0&&(n=r.lastIndexOf("/")),n<0)throw new Error("Cannot make qname out of <"+r+">");for(var i=n+1;i<r.length;i++)if(e.prototype._notNameChars.indexOf(r[i])>=0)throw new Error('Invalid character "'+r[i]+'" cannot be in XML qname for URI: '+r);var o=r.slice(n+1),s=r.slice(0,n+1);if(this.defaultNamespace&&this.defaultNamespace===s&&this.flags.indexOf("d")<0)return o;var u=this.prefixes[s];return u||(u=this.makeUpPrefix(s)),a[s]=!0,u+":"+o}var x=w.bind(this),T=d(t),E="<rdf:RDF";for(var N in this.defaultNamespace&&(E+=' xmlns="'+p(this.defaultNamespace)+'"'),a)if(a.hasOwnProperty(N)){var O=this.base&&this.flags.includes("z")?o.uri.refTo(this.base,N):N;E+="\n xmlns:"+this.prefixes[N]+'="'+p(O)+'"'}E+=">";var _=[E,T,"</rdf:RDF>"];return c(_,-1)};var n=function(t){return new e(t)};return n}();t.default=c},"7b39":function(e,t,r){"use strict";const{isSubjectReference:n}=r("4192"),{createMergedNodeMap:a}=r("212e"),i={};e.exports=i,i.flatten=e=>{const t=a(e),r=[],i=Object.keys(t).sort();for(let a=0;a<i.length;++a){const e=t[i[a]];n(e)||r.push(e)}return r}},8026:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0;class n{constructor(e,t,r,n){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}t.Quad=n},8171:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("c513"),a=new n.DataFactory;function i(e,t){return t&&"DefaultGraph"===e.graph.termType?[e.subject,e.predicate,e.object]:[e.subject,e.predicate,e.object,e.graph]}function o(e,t){const r=[];for(const n of i(e,t))"Quad"===n.termType?o(n,t).forEach(e=>r.push(e)):r.push(n);return r}function s(e){return[{key:"subject",value:e.subject},{key:"predicate",value:e.predicate},{key:"object",value:e.object},{key:"graph",value:e.graph}]}function u(e,t,r){const n={};return e.forEach(e=>n[e.key]=e.value),t&&(n.subject=n.subject||t("subject"),n.predicate=n.predicate||t("predicate"),n.object=n.object||t("object"),n.graph=n.graph||t("graph")),(r||a).quad(n.subject,n.predicate,n.object,n.graph)}function c(e,t){t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph")}function l(e,t){const r=[];return t(e.subject,"subject")&&r.push(e.subject),t(e.predicate,"predicate")&&r.push(e.predicate),t(e.object,"object")&&r.push(e.object),t(e.graph,"graph")&&r.push(e.graph),r}function d(e,t){const r=[];return t(e.subject,"subject")&&r.push("subject"),t(e.predicate,"predicate")&&r.push("predicate"),t(e.object,"object")&&r.push("object"),t(e.graph,"graph")&&r.push("graph"),r}function p(e,t,r){return(r||a).quad(t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph"))}function f(e,t,r){let n=r;return n=t(n,e.subject,"subject"),n=t(n,e.predicate,"predicate"),n=t(n,e.object,"object"),t(n,e.graph,"graph")}function h(e,t){return t(e.subject,"subject")&&t(e.predicate,"predicate")&&t(e.object,"object")&&t(e.graph,"graph")}function y(e,t){return t(e.subject,"subject")||t(e.predicate,"predicate")||t(e.object,"object")||t(e.graph,"graph")}function v(e,t){return!t||"Variable"===t.termType||"Quad"===t.termType&&"Quad"===e.termType&&m(e,t)||t.equals(e)}function g(e,t,r,n,a){return v(e.subject,t)&&v(e.predicate,r)&&v(e.object,n)&&v(e.graph,a)}function m(e,t){return g(e,t.subject,t.predicate,t.object,t.graph)}t.QUAD_TERM_NAMES=["subject","predicate","object","graph"],t.TRIPLE_TERM_NAMES=["subject","predicate","object"],t.getTerms=i,t.getTermsNested=o,t.getNamedTerms=s,t.collectNamedTerms=u,t.forEachTerms=c,t.filterTerms=l,t.filterQuadTermNames=d,t.mapTerms=p,t.reduceTerms=f,t.everyTerms=h,t.someTerms=y,t.matchTerm=v,t.matchPattern=g,t.matchPatternComplete=m},"851f":function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0});var i={term:!0,NextId:!0,fromNT:!0,fetcher:!0,graph:!0,lit:!0,st:!0,sym:!0,namedNode:!0,blankNode:!0,defaultGraph:!0,literal:!0,quad:!0,triple:!0,variable:!0,BlankNode:!0,Collection:!0,convert:!0,Empty:!0,Fetcher:!0,Formula:!0,Store:!0,IndexedFormula:!0,jsonParser:!0,Literal:!0,log:!0,N3Parser:!0,NamedNode:!0,Namespace:!0,Node:!0,parse:!0,Query:!0,queryToSPARQL:!0,RDFaProcessor:!0,RDFParser:!0,serialize:!0,Serializer:!0,SPARQLToQuery:!0,sparqlUpdateParser:!0,Statement:!0,UpdateManager:!0,UpdatesSocket:!0,UpdatesVia:!0,uri:!0,Util:!0,Variable:!0,DataFactory:!0,termValue:!0};Object.defineProperty(t,"BlankNode",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Collection",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Empty",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Fetcher",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Formula",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Store",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"IndexedFormula",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"jsonParser",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Literal",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"N3Parser",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"NamedNode",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"Namespace",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return x.Query}}),Object.defineProperty(t,"queryToSPARQL",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"RDFaProcessor",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"RDFParser",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"serialize",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"Serializer",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"SPARQLToQuery",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"sparqlUpdateParser",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"Statement",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"UpdateManager",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"UpdatesSocket",{enumerable:!0,get:function(){return A.UpdatesSocket}}),Object.defineProperty(t,"UpdatesVia",{enumerable:!0,get:function(){return A.UpdatesVia}}),Object.defineProperty(t,"Variable",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"DataFactory",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(t,"termValue",{enumerable:!0,get:function(){return F.termValue}}),t.Util=t.uri=t.convert=t.variable=t.triple=t.quad=t.literal=t.defaultGraph=t.blankNode=t.namedNode=t.sym=t.st=t.lit=t.graph=t.fetcher=t.fromNT=t.NextId=t.term=void 0;var o=a(r("43f6")),s=a(r("b1e9")),u=n(r("cc85"));t.convert=u;var c=a(r("b7d2")),l=a(r("902d")),d=a(r("f7ae")),p=a(r("c947")),f=a(r("fd4e")),h=a(r("085a")),y=a(r("3c962")),v=a(r("dfa6")),g=a(r("606c")),m=a(r("491a")),b=a(r("5125")),w=a(r("0d60")),x=r("b19c"),T=a(r("730c")),E=a(r("f51a")),N=a(r("c2f2")),O=a(r("b80f")),_=a(r("7971")),I=a(r("234b")),S=a(r("15a8")),R=a(r("c749")),C=a(r("e40c")),A=r("2321"),D=n(r("3897"));t.uri=D;var k=n(r("4b68"));t.Util=k;var j=a(r("089a")),L=a(r("691a")),P=r("ab32");Object.keys(P).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===P[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return P[e]}}))}));var F=r("073a"),M={};for(var U in L.default)"function"===typeof L.default[U]&&(M[U]=L.default[U].bind(L.default));var V=M.fetcher,B=M.graph,q=M.lit,G=M.st,$=M.namedNode,H=M.variable,X=M.blankNode,Q=M.defaultGraph,z=M.literal,J=M.quad,W=M.triple;t.triple=W,t.quad=J,t.literal=z,t.defaultGraph=Q,t.blankNode=X,t.variable=H,t.namedNode=t.sym=$,t.st=G,t.lit=q,t.graph=B,t.fetcher=V;var Y=new d.default,K=function(e){return Y.fromNT(e)};t.fromNT=K;var Z=b.default.fromValue;t.term=Z;var ee=o.default.nextId;t.NextId=ee},8764:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.createXSD=o,t.default=void 0;var a=n(r("970b")),i=n(r("8fd3"));function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default,t=function e(){(0,a.default)(this,e)};return t.boolean=e.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),t.dateTime=e.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),t.decimal=e.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),t.double=e.namedNode("http://www.w3.org/2001/XMLSchema#double"),t.integer=e.namedNode("http://www.w3.org/2001/XMLSchema#integer"),t.langString=e.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.string=e.namedNode("http://www.w3.org/2001/XMLSchema#string"),t}var s=o(i.default),u=s;t.default=u},"87fb":function(e,t,r){"use strict";const n=r("a2c2"),{isArray:a,isObject:i,isString:o,isUndefined:s}=r("29308"),{isList:u,isValue:c,isGraph:l,isSimpleGraph:d,isSubjectReference:p}=r("4192"),{expandIri:f,getContextValue:h,isKeyword:y,process:v,processingMode:g}=r("5749"),{removeBase:m,prependBase:b}=r("f060"),{addValue:w,asArray:x,compareShortestLeast:T}=r("14b4"),E={};function N(e,t,r,n,a,o){null===o&&(o="@null");const s=[];if(("@id"===o||"@reverse"===o)&&i(r)&&"@id"in r){"@reverse"===o&&s.push("@reverse");const t=E.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(o);const e=s.find(e=>e.includes("_"));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");const u=e.inverse[t];for(const i of n){if(!(i in u))continue;const e=u[i][a];for(const t of s)if(t in e)return e[t]}return null}function O(e,t,r){if("@nest"!==f(e,t,{vocab:!0},r))throw new n("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=E,E.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:f={},compactionMap:m=(()=>{})})=>{if(a(r)){let n=[];for(let a=0;a<r.length;++a){let i=await E.compact({activeCtx:e,activeProperty:t,element:r[a],options:f,compactionMap:m});null===i&&(i=await m({unmappedValue:r[a],activeCtx:e,activeProperty:t,parent:r,index:a,options:f}),void 0===i)||n.push(i)}if(f.compactArrays&&1===n.length){const r=h(e,t,"@container")||[];0===r.length&&(n=n[0])}return n}const b=h(e,t,"@context");if(s(b)||(e=await v({activeCtx:e,localCtx:b,propagate:!0,overrideProtected:!0,options:f})),i(r)){if(f.link&&"@id"in r&&f.link.hasOwnProperty(r["@id"])){const e=f.link[r["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===r)return e[t].compacted}if(c(r)||p(r)){const n=E.compactValue({activeCtx:e,activeProperty:t,value:r,options:f});return f.link&&p(r)&&(f.link.hasOwnProperty(r["@id"])||(f.link[r["@id"]]=[]),f.link[r["@id"]].push({expanded:r,compacted:n})),n}if(u(r)){const n=h(e,t,"@container")||[];if(n.includes("@list"))return E.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:f,compactionMap:m})}const b="@reverse"===t,T={},N=e;c(r)||p(r)||(e=e.revertToPreviousContext());const _=h(N,t,"@context");s(_)||(e=await v({activeCtx:e,localCtx:_,propagate:!0,overrideProtected:!0,options:f})),f.link&&"@id"in r&&(f.link.hasOwnProperty(r["@id"])||(f.link[r["@id"]]=[]),f.link[r["@id"]].push({expanded:r,compacted:T}));let I=r["@type"]||[];I.length>1&&(I=Array.from(I).sort());const S=e;for(const t of I){const r=E.compactIri({activeCtx:S,iri:t,relativeTo:{vocab:!0}}),n=h(N,r,"@context");s(n)||(e=await v({activeCtx:e,localCtx:n,options:f,propagate:!1}))}const R=Object.keys(r).sort();for(const s of R){const p=r[s];if("@id"!==s)if("@type"!==s)if("@reverse"!==s)if("@preserve"!==s)if("@index"!==s)if("@graph"!==s&&"@list"!==s&&"@included"!==s&&y(s)){const t=E.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});w(T,t,p)}else{if(!a(p))throw new n("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===p.length){const t=E.compactIri({activeCtx:e,iri:s,value:p,relativeTo:{vocab:!0},reverse:b}),r=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let n=T;r&&(O(e,r,f),i(T[r])||(T[r]={}),n=T[r]),w(n,t,p,{propertyIsArray:!0})}for(const t of p){const r=E.compactIri({activeCtx:e,iri:s,value:t,relativeTo:{vocab:!0},reverse:b}),n=e.mappings.has(r)?e.mappings.get(r)["@nest"]:null;let p=T;n&&(O(e,n,f),i(T[n])||(T[n]={}),p=T[n]);const y=h(e,r,"@container")||[],v=l(t),g=u(t);let N;g?N=t["@list"]:v&&(N=t["@graph"]);let _=await E.compact({activeCtx:e,activeProperty:r,element:g||v?N:t,options:f,compactionMap:m});if(g){if(a(_)||(_=[_]),y.includes("@list")){w(p,r,_,{valueIsArray:!0,allowDuplicate:!0});continue}_={[E.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:_},"@index"in t&&(_[E.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(v)if(y.includes("@graph")&&(y.includes("@id")||y.includes("@index")&&d(t))){let n;p.hasOwnProperty(r)?n=p[r]:p[r]=n={};const a=(y.includes("@id")?t["@id"]:t["@index"])||E.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});w(n,a,_,{propertyIsArray:!f.compactArrays||y.includes("@set")})}else y.includes("@graph")&&d(t)?(a(_)&&_.length>1&&(_={"@included":_}),w(p,r,_,{propertyIsArray:!f.compactArrays||y.includes("@set")})):(a(_)&&1===_.length&&f.compactArrays&&(_=_[0]),_={[E.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:_},"@id"in t&&(_[E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(_[E.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),w(p,r,_,{propertyIsArray:!f.compactArrays||y.includes("@set")}));else if(y.includes("@language")||y.includes("@index")||y.includes("@id")||y.includes("@type")){let n,a;if(p.hasOwnProperty(r)?n=p[r]:p[r]=n={},y.includes("@language"))c(_)&&(_=_["@value"]),a=t["@language"];else if(y.includes("@index")){const n=h(e,r,"@index")||"@index",i=E.compactIri({activeCtx:e,iri:n,relativeTo:{vocab:!0}});if("@index"===n)a=t["@index"],delete _[i];else{let e;if([a,...e]=x(_[n]||[]),o(a))switch(e.length){case 0:delete _[n];break;case 1:_[n]=e[0];break;default:_[n]=e;break}else a=null}}else if(y.includes("@id")){const t=E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});a=_[t],delete _[t]}else if(y.includes("@type")){const n=E.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let i;switch([a,...i]=x(_[n]||[]),i.length){case 0:delete _[n];break;case 1:_[n]=i[0];break;default:_[n]=i;break}1===Object.keys(_).length&&"@id"in t&&(_=await E.compact({activeCtx:e,activeProperty:r,element:{"@id":t["@id"]},options:f,compactionMap:m}))}a||(a=E.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),w(n,a,_,{propertyIsArray:y.includes("@set")})}else{const e=!f.compactArrays||y.includes("@set")||y.includes("@list")||a(_)&&0===_.length||"@list"===s||"@graph"===s;w(p,r,_,{propertyIsArray:e})}}}else{const r=h(e,t,"@container")||[];if(r.includes("@index"))continue;const n=E.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});w(T,n,p)}else{const r=await E.compact({activeCtx:e,activeProperty:t,element:p,options:f,compactionMap:m});a(r)&&0===r.length||w(T,s,r)}else{const t=await E.compact({activeCtx:e,activeProperty:"@reverse",element:p,options:f,compactionMap:m});for(const r in t)if(e.mappings.has(r)&&e.mappings.get(r).reverse){const n=t[r],a=h(e,r,"@container")||[],i=a.includes("@set")||!f.compactArrays;w(T,r,n,{propertyIsArray:i}),delete t[r]}if(Object.keys(t).length>0){const r=E.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});w(T,r,t)}}else{let t=x(p).map(e=>E.compactIri({activeCtx:N,iri:e,relativeTo:{vocab:!0}}));1===t.length&&(t=t[0]);const r=E.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),n=h(e,r,"@container")||[],i=n.includes("@set")&&g(e,1.1),o=i||a(t)&&0===p.length;w(T,r,t,{propertyIsArray:o})}else{let t=x(p).map(t=>E.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:f.base}));1===t.length&&(t=t[0]);const r=E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});T[r]=t}}return T}return r},E.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:a={vocab:!1},reverse:o=!1,base:s=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const d=e.getInverse();if(y(t)&&t in d&&"@none"in d[t]&&"@type"in d[t]["@none"]&&"@none"in d[t]["@none"]["@type"])return d[t]["@none"]["@type"]["@none"];if(a.vocab&&t in d){const n=e["@language"]||"@none",a=[];i(r)&&"@index"in r&&!("@graph"in r)&&a.push("@index","@index@set"),i(r)&&"@preserve"in r&&(r=r["@preserve"][0]),l(r)?("@index"in r&&a.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&a.push("@graph@id","@graph@id@set"),a.push("@graph","@graph@set","@set"),"@index"in r||a.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||a.push("@graph@id","@graph@id@set")):i(r)&&!c(r)&&a.push("@id","@id@set","@type","@set@type");let s="@language",d="@null";if(o)s="@type",d="@reverse",a.push("@set");else if(u(r)){"@index"in r||a.push("@list");const e=r["@list"];if(0===e.length)s="@any",d="@none";else{let t=0===e.length?n:null,r=null;for(let n=0;n<e.length;++n){const a=e[n];let i="@none",o="@none";if(c(a))if("@direction"in a){const e=(a["@language"]||"").toLowerCase(),t=a["@direction"];i=`${e}_${t}`}else"@language"in a?i=a["@language"].toLowerCase():"@type"in a?o=a["@type"]:i="@null";else o="@id";if(null===t?t=i:i!==t&&c(a)&&(t="@none"),null===r?r=o:o!==r&&(r="@none"),"@none"===t&&"@none"===r)break}t=t||"@none",r=r||"@none","@none"!==r?(s="@type",d=r):d=t}}else{if(c(r))if("@language"in r&&!("@index"in r)){a.push("@language","@language@set"),d=r["@language"];const e=r["@direction"];e&&(d=`${d}_${e}`)}else"@direction"in r&&!("@index"in r)?d="_"+r["@direction"]:"@type"in r&&(s="@type",d=r["@type"]);else s="@type",d="@id";a.push("@set")}a.push("@none"),i(r)&&!("@index"in r)&&a.push("@index","@index@set"),c(r)&&1===Object.keys(r).length&&a.push("@language","@language@set");const p=N(e,t,r,a,s,d);if(null!==p)return p}if(a.vocab&&"@vocab"in e){const r=e["@vocab"];if(0===t.indexOf(r)&&t!==r){const n=t.substr(r.length);if(!e.mappings.has(n))return n}}let p=null;const f=[];let h=e.fastCurieMap;const v=t.length-1;for(let n=0;n<v&&t[n]in h;++n)h=h[t[n]],""in h&&f.push(h[""][0]);for(let n=f.length-1;n>=0;--n){const a=f[n],i=a.terms;for(const n of i){const i=n+":"+t.substr(a.iri.length),o=e.mappings.get(n)._prefix&&(!e.mappings.has(i)||null===r&&e.mappings.get(i)["@id"]===t);o&&(null===p||T(i,p)<0)&&(p=i)}}if(null!==p)return p;for(const[i,u]of e.mappings)if(u&&u._prefix&&t.startsWith(i+":"))throw new n(`Absolute IRI "${t}" confused with prefix "${i}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});return a.vocab?t:"@base"in e?e["@base"]?m(b(s,e["@base"]),t):t:m(s,t)},E.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(c(r)){const n=h(e,t,"@type"),a=h(e,t,"@language"),i=h(e,t,"@direction"),s=h(e,t,"@container")||[],u="@index"in r&&!s.includes("@index");if(!u&&"@none"!==n){if(r["@type"]===n)return r["@value"];if("@language"in r&&r["@language"]===a&&"@direction"in r&&r["@direction"]===i)return r["@value"];if("@language"in r&&r["@language"]===a)return r["@value"];if("@direction"in r&&r["@direction"]===i)return r["@value"]}const c=Object.keys(r).length,l=1===c||2===c&&"@index"in r&&!u,d="@language"in e,p=o(r["@value"]),f=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(l&&"@none"!==n&&(!d||!p||f))return r["@value"];const y={};return u&&(y[E.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?y[E.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=E.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(y[E.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(y[E.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),y[E.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],y}const a=f(e,t,{vocab:!0},n),i=h(e,t,"@type"),s=E.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:"@vocab"===i},base:n.base});return"@id"===i||"@vocab"===i||"@graph"===a?s:{[E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}}},"8be9":function(e,t){var r="http://www.w3.org/2001/XMLSchema#integer",n="http://www.w3.org/2001/XMLSchema#string";function a(e){this._options=e=e||{};var t=e.prefixes||{};this._prefixByIri={};var r=[];for(var n in t){var a=t[n];c(a)&&(this._prefixByIri[a]=n,r.push(a))}var i=r.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+i+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=e.sparqlStar,this._indent=c(e.indent)?e.indent:"  ",this._newline=c(e.newline)?e.newline:"\n",this._explicitDatatype=Boolean(e.explicitDatatype)}a.prototype.toQuery=function(e){var t="";return e.queryType&&(t+=e.queryType.toUpperCase()+" "),e.reduced&&(t+="REDUCED "),e.distinct&&(t+="DISTINCT "),e.variables?t+=p(e.variables,void 0,(function(e){return l(e)?this.toEntity(e):"("+this.toExpression(e.expression)+" AS "+u(e.variable)+")"}),this)+" ":e.template&&(t+=this.group(e.template,!0)+this._newline),e.from&&(t+=this.graphs("FROM ",e.from.default)+this.graphs("FROM NAMED ",e.from.named)),e.where&&(t+="WHERE "+this.group(e.where,!0)+this._newline),e.updates&&(t+=p(e.updates,";"+this._newline,this.toUpdate,this)),e.group&&(t+="GROUP BY "+p(e.group,void 0,(function(e){var t=c(e.expression)?e.expression:"("+this.toExpression(e.expression)+")";return e.variable?"("+t+" AS "+u(e.variable)+")":t}),this)+this._newline),e.having&&(t+="HAVING ("+p(e.having,void 0,this.toExpression,this)+")"+this._newline),e.order&&(t+="ORDER BY "+p(e.order,void 0,(function(e){var t="("+this.toExpression(e.expression)+")";return e.descending?"DESC "+t:t}),this)+this._newline),e.offset&&(t+="OFFSET "+e.offset+this._newline),e.limit&&(t+="LIMIT "+e.limit+this._newline),e.values&&(t+=this.values(e)),t=this.baseAndPrefixes(e)+t,t.trim()},a.prototype.baseAndPrefixes=function(e){var t=e.base?"BASE <"+e.base+">"+this._newline:"",r="";for(var n in e.prefixes)(this._options.allPrefixes||this._usedPrefixes[n])&&(r+="PREFIX "+n+": <"+e.prefixes[n]+">"+this._newline);return t+r},a.prototype.toPattern=function(e){var t=e.type||e instanceof Array&&"array"||(e.subject&&e.predicate&&e.object?"triple":"");if(!(t in this))throw new Error("Unknown entry type: "+t);return this[t](e)},a.prototype.triple=function(e){return this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+"."},a.prototype.array=function(e){return p(e,this._newline,this.toPattern,this)},a.prototype.bgp=function(e){return this.encodeTriples(e.triples)},a.prototype.encodeTriples=function(e){if(!e.length)return"";for(var t=[],r=void 0,n=void 0,a=0;a<e.length;a++){var i=e[a];d(i.subject,r)?d(i.predicate,n)?t.push(","):(n=i.predicate,t.push(";"+this._newline,this._indent,this.toEntity(n))):(r&&t.push("."+this._newline),r=i.subject,n=i.predicate,t.push(this.toEntity(r)," ",this.toEntity(n))),t.push(" ",this.toEntity(i.object))}return t.push("."),t.join("")},a.prototype.graph=function(e){return"GRAPH "+this.toEntity(e.name)+" "+this.group(e)},a.prototype.graphs=function(e,t){return t&&0!==t.length?p(t,"",(function(t){return e+this.toEntity(t)+this._newline}),this):""},a.prototype.group=function(e,t){return e=!0!==t?this.array(e.patterns||e.triples):this.toPattern("group"!==e.type?e:e.patterns),-1===e.indexOf(this._newline)?"{ "+e+" }":"{"+this._newline+this.indent(e)+this._newline+"}"},a.prototype.query=function(e){return this.toQuery(e)},a.prototype.filter=function(e){return"FILTER("+this.toExpression(e.expression)+")"},a.prototype.bind=function(e){return"BIND("+this.toExpression(e.expression)+" AS "+u(e.variable)+")"},a.prototype.optional=function(e){return"OPTIONAL "+this.group(e)},a.prototype.union=function(e){return p(e.patterns,this._newline+"UNION"+this._newline,(function(e){return this.group(e,!0)}),this)},a.prototype.minus=function(e){return"MINUS "+this.group(e)},a.prototype.values=function(e){var t,r,n=Object.keys(e.values.reduce((function(e,t){for(var r in t)e[r]=!0;return e}),{}));return 1===n.length?t=r="":(t="(",r=")"),"VALUES "+t+n.join(" ")+r+" {"+this._newline+p(e.values,this._newline,(function(e){return"  "+t+p(n,void 0,(function(t){return e[t]?this.toEntity(e[t]):"UNDEF"}),this)+r}),this)+this._newline+"}"},a.prototype.service=function(e){return"SERVICE "+(e.silent?"SILENT ":"")+this.toEntity(e.name)+" "+this.group(e)},a.prototype.toExpression=function(e){if(l(e))return this.toEntity(e);switch(e.type.toLowerCase()){case"aggregate":return e.aggregation.toUpperCase()+"("+(e.distinct?"DISTINCT ":"")+this.toExpression(e.expression)+(e.separator?'; SEPARATOR = "'+e.separator.replace(i,o)+'"':"")+")";case"functioncall":return this.toEntity(e.function)+"("+p(e.args,", ",this.toExpression,this)+")";case"operation":var t=e.operator.toUpperCase(),r=e.args||[];switch(e.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(l(r[0])?this.toEntity(r[0]):"("+this.toExpression(r[0])+")")+" "+t+" "+(l(r[1])?this.toEntity(r[1]):"("+this.toExpression(r[1])+")");case"!":return"!("+this.toExpression(r[0])+")";case"uminus":return"-("+this.toExpression(r[0])+")";case"notin":t="NOT IN";case"in":return this.toExpression(r[0])+" "+t+"("+(c(r[1])?r[1]:p(r[1],", ",this.toExpression,this))+")";case"notexists":t="NOT EXISTS";case"exists":return t+" "+this.group(r[0],!0);default:return t+"("+p(r,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+e.type)}},a.prototype.toEntity=function(e){if(l(e))switch(e.termType){case"Wildcard":return"*";case"Variable":return u(e);case"BlankNode":return"_:"+e.value;case"Literal":var t=e.value||"",a=e.language||"",s=e.datatype;if(e='"'+t.replace(i,o)+'"',a)e+="@"+a;else if(s){if(!this._explicitDatatype)switch(s.value){case n:return e;case r:if(/^\d+$/.test(t))return t+" "}e+="^^"+this.encodeIRI(s.value)}return e;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return e.graph&&"DefaultGraph"!==e.graph.termType?"<< GRAPH "+this.toEntity(e.graph)+" { "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" }  >>":"<< "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" >>";default:return this.encodeIRI(e.value)}else{var c=e.items.map(this.toEntity,this),d=e.pathType;switch(d){case"^":case"!":return d+c[0];case"*":case"+":case"?":return"("+c[0]+d+")";default:return"("+c.join(d)+")"}}};var i=/["\\\t\n\r\b\f]/g,o=function(e){return s[e]},s={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function u(e){return"?"+e.value}function c(e){return"string"===typeof e}function l(e){return"string"===typeof e.termType}function d(e,t){if(!e||!l(e))return!1;if(!t||!l(t))return!1;if(e.termType!==t.termType)return!1;switch(e.termType){case"Literal":return e.value===t.value&&e.language===t.language&&d(e.datatype,t.datatype);case"Quad":return d(e.subject,t.subject)&&d(e.predicate,t.predicate)&&d(e.object,t.object)&&d(e.graph,t.graph);default:return e.value===t.value}}function p(e,t,r,n){return e.map(r,n).join(c(t)?t:" ")}a.prototype.encodeIRI=function(e){var t=this._prefixRegex.exec(e);if(t){var r=this._prefixByIri[t[1]];return this._usedPrefixes[r]=!0,r+":"+t[2]}return"<"+e+">"},a.prototype.toUpdate=function(e){switch(e.type||e.updateType){case"load":return"LOAD"+(e.source?" "+this.toEntity(e.source):"")+(e.destination?" INTO GRAPH "+this.toEntity(e.destination):"");case"insert":return"INSERT DATA "+this.group(e.insert,!0);case"delete":return"DELETE DATA "+this.group(e.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(e.delete,!0);case"insertdelete":return(e.graph?"WITH "+this.toEntity(e.graph)+this._newline:"")+(e.delete.length?"DELETE "+this.group(e.delete,!0)+this._newline:"")+(e.insert.length?"INSERT "+this.group(e.insert,!0)+this._newline:"")+(e.using?this.graphs("USING ",e.using.default):"")+(e.using?this.graphs("USING NAMED ",e.using.named):"")+"WHERE "+this.group(e.where,!0);case"add":case"copy":case"move":return e.type.toUpperCase()+(e.source.default?" DEFAULT ":" ")+"TO "+this.toEntity(e.destination.name);case"create":case"clear":case"drop":return e.type.toUpperCase()+(e.silent?" SILENT ":" ")+(e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.all?"ALL":"GRAPH "+this.toEntity(e.graph.name));default:throw new Error("Unknown update query type: "+e.type)}},a.prototype.indent=function(e){return e.replace(/^/gm,this._indent)},e.exports=function(e={}){return{stringify:function(t){var r=Object.create(e);return r.prefixes=t.prefixes,new a(r).toQuery(t)},createGenerator:function(){return new a(e)}}}},"8ce0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const n=r("9935");class a{constructor(e,t){this.termType="Literal",this.value=e,"string"===typeof t?(this.language=t,this.datatype=a.RDF_LANGUAGE_STRING):t?(this.language="",this.datatype=t):(this.language="",this.datatype=a.XSD_STRING)}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}t.Literal=a,a.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),a.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},"8eeb4":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r("41e0"),t)},"8f7b":function(e,t){var r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+r.source+n.source+"*(?::"+r.source+n.source+"*)?$"),i=0,o=1,s=2,u=3,c=4,l=5,d=6,p=7;function f(){}function h(e,t,r,n,a){function i(e){if(e>65535){e-=65536;var t=55296+(e>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}function o(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?i(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function s(t){if(t>w){var r=e.substring(w,t).replace(/&#?\w+;/g,o);p&&u(w),n.characters(r,0,t-w),w=t}}function u(t,r){while(t>=l&&(r=d.exec(e)))c=r.index,l=c+r[0].length,p.lineNumber++;p.columnNumber=t-c+1}var c=0,l=0,d=/.*(?:\r\n?|\n)|.*$/g,p=n.locator,f=[{currentNSMap:t}],h={},w=0;while(1){try{var N=e.indexOf("<",w);if(N<0){if(!e.substr(w).match(/^\s*$/)){var O=n.doc,_=O.createTextNode(e.substr(w));O.appendChild(_),n.currentElement=_}return}switch(N>w&&s(N),e.charAt(N+1)){case"/":var I=e.indexOf(">",N+3),S=e.substring(N+2,I),R=f.pop();I<0?(S=e.substring(N+2).replace(/[\s<].*/,""),a.error("end tag name: "+S+" is not complete:"+R.tagName),I=N+1+S.length):S.match(/\s</)&&(S=S.replace(/[\s<].*/,""),a.error("end tag name: "+S+" maybe not complete"),I=N+1+S.length);var C=R.localNSMap,A=R.tagName==S,D=A||R.tagName&&R.tagName.toLowerCase()==S.toLowerCase();if(D){if(n.endElement(R.uri,R.localName,S),C)for(var k in C)n.endPrefixMapping(k);A||a.fatalError("end tag name: "+S+" is not match the current start tagName:"+R.tagName)}else f.push(R);I++;break;case"?":p&&u(N),I=T(e,N,n);break;case"!":p&&u(N),I=x(e,N,n,a);break;default:p&&u(N);var j=new E,L=f[f.length-1].currentNSMap,P=(I=v(e,N,j,L,o,a),j.length);if(!j.closed&&b(e,I,j.tagName,h)&&(j.closed=!0,r.nbsp||a.warning("unclosed xml attribute")),p&&P){for(var F=y(p,{}),M=0;M<P;M++){var U=j[M];u(U.offset),U.locator=y(p,{})}n.locator=F,g(j,n,L)&&f.push(j),n.locator=p}else g(j,n,L)&&f.push(j);"http://www.w3.org/1999/xhtml"!==j.uri||j.closed?I++:I=m(e,I,j.tagName,o,n)}}catch(V){a.error("element parse error: "+V),I=-1}I>w?w=I:s(Math.max(N,w)+1)}}function y(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function v(e,t,r,n,a,f){var h,y=++t,v=i;while(1){var g=e.charAt(y);switch(g){case"=":if(v===o)h=e.slice(t,y),v=u;else{if(v!==s)throw new Error("attribute equal must after attrName");v=u}break;case"'":case'"':if(v===u||v===o){if(v===o&&(f.warning('attribute value must after "="'),h=e.slice(t,y)),t=y+1,y=e.indexOf(g,t),!(y>0))throw new Error("attribute value no end '"+g+"' match");m=e.slice(t,y).replace(/&#?\w+;/g,a),r.add(h,m,t-1),v=l}else{if(v!=c)throw new Error('attribute value must after "="');m=e.slice(t,y).replace(/&#?\w+;/g,a),r.add(h,m,t),f.warning('attribute "'+h+'" missed start quot('+g+")!!"),t=y+1,v=l}break;case"/":switch(v){case i:r.setTagName(e.slice(t,y));case l:case d:case p:v=p,r.closed=!0;case c:case o:case s:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return f.error("unexpected end of input"),v==i&&r.setTagName(e.slice(t,y)),y;case">":switch(v){case i:r.setTagName(e.slice(t,y));case l:case d:case p:break;case c:case o:m=e.slice(t,y),"/"===m.slice(-1)&&(r.closed=!0,m=m.slice(0,-1));case s:v===s&&(m=h),v==c?(f.warning('attribute "'+m+'" missed quot(")!!'),r.add(h,m.replace(/&#?\w+;/g,a),t)):("http://www.w3.org/1999/xhtml"===n[""]&&m.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+m+'" missed value!! "'+m+'" instead!!'),r.add(m,m,t));break;case u:throw new Error("attribute value missed!!")}return y;case"":g=" ";default:if(g<=" ")switch(v){case i:r.setTagName(e.slice(t,y)),v=d;break;case o:h=e.slice(t,y),v=s;break;case c:var m=e.slice(t,y).replace(/&#?\w+;/g,a);f.warning('attribute "'+m+'" missed quot(")!!'),r.add(h,m,t);case l:v=d;break}else switch(v){case s:r.tagName;"http://www.w3.org/1999/xhtml"===n[""]&&h.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+h+'" missed value!! "'+h+'" instead2!!'),r.add(h,h,t),t=y,v=o;break;case l:f.warning('attribute space is required"'+h+'"!!');case d:v=o,t=y;break;case u:v=c,t=y;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}y++}}function g(e,t,r){var n=e.tagName,a=null,i=e.length;while(i--){var o=e[i],s=o.qName,u=o.value,c=s.indexOf(":");if(c>0)var l=o.prefix=s.slice(0,c),d=s.slice(c+1),p="xmlns"===l&&d;else d=s,l=null,p="xmlns"===s&&"";o.localName=d,!1!==p&&(null==a&&(a={},w(r,r={})),r[p]=a[p]=u,o.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(p,u))}i=e.length;while(i--){o=e[i];l=o.prefix;l&&("xml"===l&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(o.uri=r[l||""]))}c=n.indexOf(":");c>0?(l=e.prefix=n.slice(0,c),d=e.localName=n.slice(c+1)):(l=null,d=e.localName=n);var f=e.uri=r[l||""];if(t.startElement(f,d,n,e),!e.closed)return e.currentNSMap=r,e.localNSMap=a,!0;if(t.endElement(f,d,n),a)for(l in a)t.endPrefixMapping(l)}function m(e,t,r,n,a){if(/^(?:script|textarea)$/i.test(r)){var i=e.indexOf("</"+r+">",t),o=e.substring(t+1,i);if(/[&<]/.test(o))return/^script$/i.test(r)?(a.characters(o,0,o.length),i):(o=o.replace(/&#?\w+;/g,n),a.characters(o,0,o.length),i)}return t+1}function b(e,t,r,n){var a=n[r];return null==a&&(a=e.lastIndexOf("</"+r+">"),a<t&&(a=e.lastIndexOf("</"+r)),n[r]=a),a<t}function w(e,t){for(var r in e)t[r]=e[r]}function x(e,t,r,n){var a=e.charAt(t+2);switch(a){case"-":if("-"===e.charAt(t+3)){var i=e.indexOf("--\x3e",t+4);return i>t?(r.comment(e,t+4,i-t-4),i+3):(n.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==e.substr(t+3,6)){i=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,i-t-9),r.endCDATA(),i+3}var o=N(e,t),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var u=o[1][0],c=s>3&&/^public$/i.test(o[2][0])&&o[3][0],l=s>4&&o[4][0],d=o[s-1];return r.startDTD(u,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),d.index+d[0].length}}return-1}function T(e,t,r){var n=e.indexOf("?>",t);if(n){var a=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(a){a[0].length;return r.processingInstruction(a[1],a[2]),n+2}return-1}return-1}function E(e){}function N(e,t){var r,n=[],a=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;a.lastIndex=t,a.exec(e);while(r=a.exec(e))if(n.push(r),r[1])return n}f.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),w(t,t={}),h(e,t,r,n,this.errorHandler),n.endDocument()}},E.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!a.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=f},"8fd3":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"defaultGraphURI",{enumerable:!0,get:function(){return y.defaultGraphURI}}),t.default=void 0;var a,i=n(r("9523")),o=n(r("43f6")),s=n(r("085a")),u=n(r("606c")),c=n(r("c749")),l=n(r("089a")),d=r("43f5"),p=n(r("03fd")),f=r("037b"),h=r("ab32"),y=r("5c0f"),v=new p.default,g={supports:(a={},(0,i.default)(a,f.Feature.collections,!1),(0,i.default)(a,f.Feature.defaultGraphType,!1),(0,i.default)(a,f.Feature.equalsMethod,!0),(0,i.default)(a,f.Feature.identity,!1),(0,i.default)(a,f.Feature.id,!0),(0,i.default)(a,f.Feature.reversibleId,!1),(0,i.default)(a,f.Feature.variableType,!0),a),blankNode:function(e){return new o.default(e)},defaultGraph:function(){return v},equals:function(e,t){return e===t||!e||!t||((0,h.isQuad)(e)||(0,h.isQuad)(t)?!(!(0,h.isQuad)(e)||!(0,h.isQuad)(t))&&(this.equals(e.subject,t.subject)&&this.equals(e.predicate,t.predicate)&&this.equals(e.object,t.object)&&this.equals(e.graph,t.graph)):!(!(0,h.isTerm)(e)||!(0,h.isTerm)(t))&&this.id(e)===this.id(t))},id:function(e){if(!e)return"undefined";if((0,h.isQuad)(e))return this.quadToNQ(e);switch(e.termType){case d.DefaultGraphTermType:return"defaultGraph";case d.VariableTermType:return l.default.toString(e);default:var t=this.termToNQ(e);if(t)return t;throw new Error("Can't id term with type '".concat(e.termType,"'"))}},isQuad:function(e){return e instanceof c.default},literal:function(e,t){if("string"!==typeof e&&!t)return s.default.fromValue(e);var r="string"===typeof e?e:""+e;return"string"===typeof t?-1===t.indexOf(":")?new s.default(r,t):new s.default(r,null,this.namedNode(t)):new s.default(r,null,t)},namedNode:function(e){return new u.default(e)},quad:function(e,t,r,n){return new c.default(e,t,r,n||v)},triple:function(e,t,r,n){return this.quad(e,t,r,n)},quadToNQ:function(e){return"".concat(this.termToNQ(e.subject)," ").concat(this.termToNQ(e.predicate)," ").concat(this.termToNQ(e.object)," ").concat(this.termToNQ(e.graph)," .")},termToNQ:function(e){var t=this;switch(e.termType){case d.BlankNodeTermType:return"_:"+e.value;case d.DefaultGraphTermType:return"";case d.EmptyTermType:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case d.LiteralTermType:return s.default.toNT(e);case d.GraphTermType:case d.NamedNodeTermType:return"<"+e.value+">";case d.CollectionTermType:return"("+e.elements.map((function(e){return t.termToNQ(e)})).join(" ")+")";default:throw new Error("Can't serialize nonstandard term type (was '".concat(e.termType,"')"))}},toNQ:function(e){return this.isQuad(e)?this.quadToNQ(e):this.termToNQ(e)},variable:function(e){return new l.default(e)}},m=g;t.default=m},"8fd9":function(e,t,r){"use strict";const n=r("5dee"),a=r("41a5"),i=r("e2a7e"),o=r("b549");let s;try{s=r(26)}catch(c){}const u={};e.exports=u,u.NQuads=r("03005"),u.IdentifierIssuer=r("05ca"),u._rdfCanonizeNative=function(e){return e&&(s=e),s},u.canonize=async function(e,t){if(Array.isArray(e)||(e=u.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!s)throw new Error("rdf-canonize-native not available");return new Promise((r,n)=>s.canonize(e,t,(e,t)=>e?n(e):r(t)))}if("URDNA2015"===t.algorithm)return new n(t).main(e);if("URGNA2012"===t.algorithm)return new a(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},u._canonizeSync=function(e,t){if(Array.isArray(e)||(e=u.NQuads.legacyDatasetToQuads(e)),t.useNative){if(s)return s.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new i(t).main(e);if("URGNA2012"===t.algorithm)return new o(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},"902d":function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("a34a")),o=a(r("c973")),s=a(r("5bc3")),u=a(r("ed6d")),c=a(r("6b58")),l=a(r("36c6")),d=a(r("970b")),p=a(r("9523")),f=a(r("c947")),h=a(r("3c962")),y=a(r("dfa6")),v=a(r("606c")),g=a(r("491a")),m=a(r("0d60")),b=r("f51a"),w=a(r("c2f2")),x=n(r("3897")),T=r("ab32"),E=n(r("4b68")),N=a(r("b80f")),O=n(r("5d61")),_=r("43f5"),I=r("073a"),S=a(r("e1b7"));function R(e){var t=C();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var A={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},D={rdf:_.RDFXMLContentType,owl:_.RDFXMLContentType,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},k=function(e){return{link:(0,g.default)("http://www.w3.org/2007/ont/link#",e),http:(0,g.default)("http://www.w3.org/2007/ont/http#",e),httph:(0,g.default)("http://www.w3.org/2007/ont/httph#",e),rdf:(0,g.default)("http://www.w3.org/1999/02/22-rdf-syntax-ns#",e),rdfs:(0,g.default)("http://www.w3.org/2000/01/rdf-schema#",e),dc:(0,g.default)("http://purl.org/dc/elements/1.1/",e),ldp:(0,g.default)("http://www.w3.org/ns/ldp#",e)}},j=k(),L=function e(t,r){(0,d.default)(this,e),(0,p.default)(this,"response",void 0),(0,p.default)(this,"dom",void 0),this.response=t,this.dom=r};(0,p.default)(L,"pattern",void 0);var P=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r){var n=e.store;this.dom||(this.dom=E.parseXML(t));var a=this.dom.documentElement;if("parsererror"===a.nodeName)return e.failFetch(r,"Badly formed XML in "+r.resource.value,"parse_error");var i=new w.default(n);try{i.parse(this.dom,r.original.value,r.original)}catch(o){return e.failFetch(r,"Syntax error parsing RDF/XML! "+o,"parse_error")}return r.noMeta||n.add(r.original,j.rdf("type"),j.link("RDFDocument"),e.appNode),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(e){e.mediatypes[_.RDFXMLContentType]={q:.9}}}]),r}(L);P.pattern=new RegExp("application/rdf\\+xml");var F=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r){var n,a;this.dom||(this.dom=E.parseXML(t));var i=e.store,o=this.dom.getElementsByTagName("title");o.length>0&&i.add(r.resource,j.dc("title"),i.rdfFactory.literal(o[0].textContent),r.resource);for(var s=this.dom.getElementsByTagName("link"),u=s.length-1;u>=0;u--)n=s[u].getAttribute("rel"),a=!1,n||(n=s[u].getAttribute("rev"),a=!0),n&&e.linkData(r.original,n,s[u].getAttribute("href"),r.resource,a);for(var c=this.dom.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l].getAttribute("type");A[d]&&((0,m.default)(c[l].textContent,i,r.original.value,d),(0,m.default)(c[l].textContent,i,r.original.value,d))}if(r.noMeta||i.add(r.resource,j.rdf("type"),j.link("WebPage"),e.appNode),!r.noRDFa&&b.parseRDFaDOM)try{(0,b.parseRDFaDOM)(this.dom,i,r.original.value)}catch(f){var p="Error trying to parse "+r.resource+" as RDFa:\n"+f+":\n"+f.stack;return e.failFetch(r,p,"parse_error")}return e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(e){e.mediatypes[_.XHTMLContentType]={}}}]),r}(L);F.pattern=new RegExp("application/xhtml");var M=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r){for(var n=E.parseXML(t),a=0;a<n.childNodes.length;a++)if(1===n.childNodes[a].nodeType){var i=n.childNodes[a].namespaceURI;if(i&&i===i["rdf"]){e.addStatus(r.req,"Has XML root element in the RDF namespace, so assume RDF/XML.");var o=new P(this.response,n);return o.parse(e,t,r)}break}if(n.doctype&&"html"===n.doctype.name&&n.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&n.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/)){e.addStatus(r.req,"Has XHTML DOCTYPE. Switching to XHTML Handler.\n");var s=new F(this.response,n);return s.parse(e,t,r)}var u=n.getElementsByTagName("html")[0];if(u){var c=u.getAttribute("xmlns");if(c&&c.match(/^http:\/\/www.w3.org\/1999\/xhtml/)){e.addStatus(r.req,"Has a default namespace for XHTML. Switching to XHTMLHandler.\n");var l=new F(this.response,n);return l.parse(e,t,r)}}return e.failFetch(r,"Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n"+t.slice(0,80),901)}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(e){e.mediatypes["text/xml"]={q:.5},e.mediatypes["application/xml"]={q:.5}}}]),r}(L);M.pattern=new RegExp("(text|application)/(.*)xml");var U=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r){var n=e.store;if(H(t)){e.addStatus(r.req,"Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.\n");var a=new F(this.response);return a.parse(e,t,r)}if($(t)){e.addStatus(r.req,"Has XHTML DOCTYPE. Switching to XHTMLHandler.\n");var i=new F(this.response);return i.parse(e,t,r)}if(X(t)){e.addStatus(r.req,"Has default namespace for XHTML, so switching to XHTMLHandler.\n");var o=new F(this.response);return o.parse(e,t,r)}var s=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(t);return s&&n.add(r.resource,j.dc("title"),n.rdfFactory.literal(s[1]),r.resource),n.add(r.resource,j.rdf("type"),j.link("WebPage"),e.appNode),e.addStatus(r.req,"non-XML HTML document, not parsed for data."),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(e){e.mediatypes["text/html"]={q:.9}}}]),r}(L);U.pattern=new RegExp("text/html");var V=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r,n){var a=e.store;return new Promise((function(i,o){try{(0,S.default)(t,a,r.original.value,i)}catch(u){var s="Error trying to parse "+r.resource+" as JSON-LD:\n"+u;i(e.failFetch(r,s,"parse_error",n))}}))}}],[{key:"toString",value:function(){return"JsonLdHandler"}},{key:"register",value:function(e){e.mediatypes["application/ld+json"]={q:.9}}}]),r}(L);V.pattern=/application\/ld\+json/;var B=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r){if(H(t)){e.addStatus(r.req,"Warning: "+r.resource+" has an XML declaration. We'll assume it's XML but its content-type wasn't XML.\n");var n=new M(this.response);return n.parse(e,t,r)}if(t.slice(0,500).match(/xmlns:/)){e.addStatus(r.req,"May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.\n");var a=new M(this.response);return a.parse(e,t,r)}return e.addStatus(r.req,"Plain text document, no known RDF semantics."),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(e){e.mediatypes["text/plain"]={q:.5}}}]),r}(L);B.pattern=new RegExp("text/plain");var q=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r,n){var a=e.store,i=(0,y.default)(a,a,r.original.value,r.original.value,null,null,"",null);try{i.loadBuf(t)}catch(s){var o="Error trying to parse "+r.resource+" as Notation3:\n"+s;return e.failFetch(r,o,"parse_error",n)}return e.addStatus(r.req,"N3 parsed: "+i.statementCount+" triples in "+i.lines+" lines."),e.store.add(r.original,j.rdf("type"),j.link("RDFDocument"),e.appNode),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(e){e.mediatypes["text/n3"]={q:"1.0"},e.mediatypes["text/turtle"]={q:1}}}]),r}(L);q.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var G={RDFXMLHandler:P,XHTMLHandler:F,XMLHandler:M,HTMLHandler:U,TextHandler:B,N3Handler:q,JsonLdHandler:V};function $(e){var t=e.indexOf("<!DOCTYPE html"),r=e.indexOf(">");return!(-1===t||-1===r||t>r)&&-1!==e.substr(t,r-t).indexOf("XHTML")}function H(e){var t=e.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/);return!!t}function X(e){var t=e.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/);return!!t}var Q=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,d.default)(this,e),(0,p.default)(this,"store",void 0),(0,p.default)(this,"timeout",void 0),(0,p.default)(this,"_fetch",void 0),(0,p.default)(this,"mediatypes",void 0),(0,p.default)(this,"appNode",void 0),(0,p.default)(this,"requested",void 0),(0,p.default)(this,"timeouts",void 0),(0,p.default)(this,"redirectedTo",void 0),(0,p.default)(this,"fetchQueue",void 0),(0,p.default)(this,"fetchCallbacks",void 0),(0,p.default)(this,"nonexistent",void 0),(0,p.default)(this,"lookedUp",void 0),(0,p.default)(this,"handlers",void 0),(0,p.default)(this,"ns",void 0),(0,p.default)(this,"fireCallbacks",void 0),this.store=t||new f.default,this.ns=k(this.store.rdfFactory),this.timeout=n.timeout||3e4,this._fetch=n.fetch||"undefined"!==typeof window&&window.solidFetcher||O.default,!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.rdfFactory.blankNode(),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},E.callbackify(this,["request","fail","refresh","retract","done"]),Object.keys(n.handlers||G).map((function(e){return r.addHandler(G[e])}))}return(0,s.default)(e,[{key:"load",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r=Object.assign({},r),e instanceof Array)return Promise.all(e.map((function(e){return t.load(e,Object.assign({},r))})));var n=e,a=(0,I.termValue)(n);a=a.split("#")[0],r=this.initFetchOptions(a,r);var i=this.initFetchOptions(a,r);return this.pendingFetchPromise(a,i.baseURI,i)}},{key:"pendingFetchPromise",value:function(e,t,r){var n,a=this;return!r.force&&this.fetchQueue[t]?n=this.fetchQueue[t]:(n=Promise.race([this.setRequestTimeout(e,r),this.fetchUri(e,r)]),this.fetchQueue[t]=n,this.cleanupFetchRequest(t,void 0,this.timeout)),n.then((function(t){return e in a.timeouts&&(a.timeouts[e].forEach(clearTimeout),delete a.timeouts[e]),t}))}},{key:"cleanupFetchRequest",value:function(e,t,r){var n=this;void 0!==t&&console.warn("_options is deprecated"),this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout((function(){n.isPending(e)||delete n.fetchQueue[e]}),r))}},{key:"initFetchOptions",value:function(t,r){var n=this.store,a=!r.method||"GET"===r.method.toUpperCase();a||(r.force=!0),r.resource=n.rdfFactory.namedNode(t),r.baseURI=r.baseURI||t,r.original=n.rdfFactory.namedNode(r.baseURI),r.req=n.bnode(),r.headers=r.headers||new O.Headers,r.contentType&&(r.headers["content-type"]=r.contentType),r.force&&(r.cache="no-cache");var i=this.acceptString();r.headers["accept"]=i;var o=e.offlineOverride(t);r.requestedURI=o,e.setCredentials(o,r);var s=e.proxyIfNecessary(o);return o!==s&&(r.proxyUsed=!0),r.actualProxyURI=s,r}},{key:"fetchUri",value:function(t,r){var n=this;if(!t)return Promise.reject(new Error("Cannot fetch an empty uri"));if(e.unsupportedProtocol(t))return this.failFetch(r,"fetcher: Unsupported protocol","unsupported_protocol");var a=this.getState(t);if(r.force)delete this.nonexistent[t];else{if("fetched"===a)return Promise.resolve(this.doneFetch(r,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if("failed"===a&&404===this.requested[t]){var i="Previously failed: "+this.requested[t],o={url:t,status:this.requested[t],statusText:i,responseText:i,headers:new O.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(r,i,this.requested[t],o)}}this.fireCallbacks("request",[t]),this.requested[t]=!0,r.noMeta||this.saveRequestMetadata(t,r);var s=r.actualProxyURI;return this._fetch(s,r).then((function(e){return n.handleResponse(e,t,r)}),(function(e){var a={url:s,status:999,statusText:(e.name||"network failure")+": "+(e.errno||e.code||e.type),responseText:e.message,headers:new O.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return console.log("Fetcher: <"+s+"> Non-HTTP fetch exception: "+e),n.handleError(a,t,r)}))}},{key:"nowOrWhenFetched",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(0,I.termValue)(e);"function"===typeof t?r=t:"undefined"===typeof t||((0,T.isNamedNode)(t)?n.referringTerm=t:n=t),this.load(a,n).then((function(e){if(r)if(e)if(e.ok)r(!0,"OK",e);else{var t="HTTP error: Status "+e.status+" ("+e.statusText+")";e.responseText&&(t+=" "+e.responseText),console.log(t+" fetching "+a),r(!1,t,e)}else{var n="@@ nowOrWhenFetched:  no response object!";console.log(n),r(!1,n)}}),(function(e){var t=e.message||e.statusText;t="Failed to load  <"+a+"> "+t,console.log(t),e.response&&e.response.status&&(t+=" status: "+e.response.status),r(!1,t,e.response)}))}},{key:"addStatus",value:function(e,t){var r=new Date;t="["+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+"."+r.getMilliseconds()+"] "+t;var n=this.store,a=n.the(e,this.ns.link("status"));(0,T.isCollection)(a)?a.append(n.rdfFactory.literal(t)):h.default.warn("web.js: No list to add to: "+a+","+t)}},{key:"failFetch",value:function(e,t,r,n){this.addStatus(e.req,t),e.noMeta||this.store.add(e.original,this.ns.link("error"),this.store.rdfFactory.literal(t));var a=(e.method||"GET").toUpperCase(),i="GET"===a||"HEAD"===a;i&&(e.resource.equals(e.original),this.requested[x.docpart(e.original.value)]=r,this.fireCallbacks("fail",[e.original.value,t]));var o=new Error("Fetcher: "+t);return o.status=r,o.statusText=t,o.response=n,Promise.reject(o)}},{key:"linkData",value:function(e,t,r,n,a){if(r){var i,o=this.store,s=o.rdfFactory.namedNode(x.join(r,e.value));if("alternate"===t||"seeAlso"===t||"meta"===t||"describedby"===t){if(s.value===e.value)return;i=this.ns.rdfs("seeAlso")}else i="type"===t?o.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):o.rdfFactory.namedNode(x.join(encodeURIComponent(t),"http://www.iana.org/assignments/link-relations/"));a?o.add(s,i,e,n):o.add(e,i,s,n)}}},{key:"parseLinkHeader",value:function(e,t,r){if(e){var n=/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,a=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,i=e.match(n);if(null!=i)for(var o=0;o<i.length;o++){var s=i[o].split(">"),u=s[0].substring(1),c=s[1],l=c.match(a);if(null==l)return;for(var d=0;d<l.length;d++){var p=l[d],f=p.split("="),h=f[1].replace(/["']/g,"");this.linkData(t,h,u,r)}}}}},{key:"doneFetch",value:function(e,t){return this.addStatus(e.req,"Done."),this.requested[e.original.value]="done",this.fireCallbacks("done",[e.original.value]),t.req=e.req,t}},{key:"nowKnownAs",value:function(e,t){this.lookedUp[e.value]?this.lookedUp[t.value]||this.lookUpThing(t,e):this.lookedUp[t.value]&&(this.lookedUp[e.value]||this.lookUpThing(e,t))}},{key:"putBack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,I.termValue)(e),n=new v.default(r).doc();return t.contentType=t.contentType||_.TurtleContentType,t.data=(0,N.default)(n,this.store,n.value,t.contentType),this.webOperation("PUT",r,t)}},{key:"webCopy",value:function(e,t,r){var n=this;return this.webOperation("GET",e).then((function(e){return n.webOperation("PUT",t,{data:e.responseText,contentType:r})}))}},{key:"delete",value:function(e,t){var r=this;return this.webOperation("DELETE",e,t).then((function(t){return r.requested[e]=404,r.nonexistent[e]=!0,r.unload(r.store.rdfFactory.namedNode(e)),t}))}},{key:"createIfNotExists",value:function(){var e=(0,o.default)(i.default.mark((function e(t){var r,n,a,o,s=arguments;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:_.TurtleContentType,n=s.length>2&&void 0!==s[2]?s[2]:"",a=this,e.prev=3,e.next=6,a.load(t);case 6:o=e.sent,e.next=29;break;case 9:if(e.prev=9,e.t0=e["catch"](3),404!==e.t0.response.status){e.next=27;break}return console.log("createIfNotExists: doc does NOT exist, will create... "+t),e.prev=13,e.next=16,a.webOperation("PUT",t.value,{data:n,contentType:r});case 16:o=e.sent,e.next=23;break;case 19:throw e.prev=19,e.t1=e["catch"](13),console.log("createIfNotExists doc FAILED: "+t+": "+e.t1),e.t1;case 23:return delete a.requested[t.value],e.abrupt("return",o);case 27:throw console.log("createIfNotExists doc load error NOT 404:  "+t+": "+e.t0),e.t0;case 29:return e.abrupt("return",o);case 30:case"end":return e.stop()}}),e,this,[[3,9],[13,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createContainer",value:function(e,t,r){var n={"content-type":_.TurtleContentType,link:this.ns.ldp("BasicContainer")+'; rel="type"'};t&&(n["slug"]=t);var a={headers:n};return r&&(a.body=r),this.webOperation("POST",e,a)}},{key:"invalidateCache",value:function(e){var t=(0,I.termValue)(e),r=this;if(r.fetchQueue&&r.fetchQueue[t]){console.log("Internal error - fetchQueue exists "+t);var n=r.fetchQueue[t];"resolved"===n["PromiseStatus"]?delete r.fetchQueue[t]:(delete r.fetchQueue[t],console.log("*** Fetcher: pending fetchQueue deleted "+t))}if(r.requested[t]&&"done"!==r.requested[t]&&"failed"!==r.requested[t]&&404!==r.requested[t]){var a="Rdflib: fetcher: Destructive operation on <".concat(r.requested[t],"> file being fetched! ")+t;console.error(a)}else delete r.requested[t],delete r.nonexistent[t]}},{key:"webOperation",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,I.termValue)(r);n.method=t,n.body=n.data||n.body,n.force=!0;var i=this;if(n.body&&!n.contentType)throw new Error("Web operation sending data must have a defined contentType.");return n.contentType&&(n.headers=n.headers||{},n.headers["content-type"]=n.contentType),e.setCredentials(a,n),new Promise((function(e,r){i._fetch(a,n).then((function(n){if(n.ok)"PUT"!==t&&"PATCH"!==t&&"POST"!==t&&"DELETE"!==t||i.invalidateCache(a),n.body?n.text().then((function(t){n.responseText=t,e(n)})):e(n);else{var o="Web error: "+n.status;n.statusText&&(o+=" ("+n.statusText+")"),o+=" on "+t+" of <"+a+">",n.responseText&&(o+=": "+n.responseText);var s=new Error(o);s.response=n,r(s)}}),(function(e){var n="Fetch error for "+t+" of <"+a+">:"+e;r(new Error(n))}))}))}},{key:"lookUpThing",value:function(e,t){var r=this,n=this.store.uris(e);return n=n.map((function(e){return x.docpart(e)})),n.forEach((function(e){r.lookedUp[e]=!0})),this.load(n,{referringTerm:t})}},{key:"getHeader",value:function(e,t){for(var r=this.store,n=e.value,a=r.each(void 0,this.ns.link("requestedURI"),r.rdfFactory.literal(n)),i=0;i<a.length;i++){var o=a[i];if(void 0!==o){var s=r.any(o,this.ns.link("response"));if(void 0!==s&&r.anyValue(s,this.ns.http("status"))&&r.anyValue(s,this.ns.http("status")).startsWith("2")){var u=r.each(s,this.ns.httph(t.toLowerCase()));return u.length?u.map((function(e){return e.value})):[]}}}}},{key:"saveRequestMetadata",value:function(e,t){var r=t.req,n=this.store,a=t.referringTerm;this.addStatus(t.req,"Accept: "+t.headers["accept"]),(0,T.isNamedNode)(a)&&n.add(n.rdfFactory.namedNode(e),this.ns.link("requestedBy"),a,this.appNode),t.original&&t.original.value!==e&&n.add(r,this.ns.link("orginalURI"),n.rdfFactory.literal(t.original.value),this.appNode);var i=new Date,o="["+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+"] ";n.add(r,this.ns.rdfs("label"),n.rdfFactory.literal(o+" Request for "+e),this.appNode),n.add(r,this.ns.link("requestedURI"),n.rdfFactory.literal(e),this.appNode),n.add(r,this.ns.link("status"),n.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(e,t){var r=this,n=this.store,a=n.bnode();return n.add(t.req,this.ns.link("response"),a,a),n.add(a,this.ns.http("status"),n.rdfFactory.literal(e.status),a),n.add(a,this.ns.http("statusText"),n.rdfFactory.literal(e.statusText),a),t.resource.value.startsWith("http")?(e.headers.forEach((function(e,i){n.add(a,r.ns.httph(i),r.store.rdfFactory.literal(e),a),"content-type"===i&&n.add(t.resource,r.ns.rdf("type"),n.rdfFactory.namedNode(E.mediaTypeClass(e).value),a)})),a):a}},{key:"objectRefresh",value:function(e){var t=this.store.uris(e);if("undefined"!==typeof t)for(var r=0;r<t.length;r++)this.refresh(this.store.rdfFactory.namedNode(x.docpart(t[r])))}},{key:"refresh",value:function(e,t){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},t)}},{key:"refreshIfExpired",value:function(e,t){var r=this.getHeader(e,"Expires");!r||new Date(r[0]).getTime()<=(new Date).getTime()?this.refresh(e,t):t(!0,"Not expired",{})}},{key:"retract",value:function(e){this.store.removeMany(void 0,void 0,void 0,e),e.value&&delete this.requested[x.docpart(e.value)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(e){return"undefined"===typeof this.requested[e]?"unrequested":!0===this.requested[e]?"requested":"done"===this.requested[e]?"fetched":"redirected"===this.requested[e]?this.getState(this.redirectedTo[e]):"failed"}},{key:"isPending",value:function(e){return!0===this.requested[e]}},{key:"unload",value:function(e){this.store.removeDocument(e),delete this.requested[e.value]}},{key:"addHandler",value:function(e){this.handlers.push(e),e.register(this)}},{key:"retryNoCredentials",value:function(e,t){console.log("Fetcher: CORS: RETRYING with NO CREDENTIALS for "+t.resource),t.retriedWithNoCredentials=!0,delete this.requested[e],delete this.fetchQueue[e];var r=Object.assign({},t,{credentials:"omit"});return this.addStatus(t.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(e,r)}},{key:"isCrossSite",value:function(e){if("undefined"===typeof document||!document.location)return!1;var t=x.hostpart,r=""+document.location;return(t(r)&&t(e)&&t(r))!==t(e)}},{key:"handleError",value:function(t,r,n){if(this.isCrossSite(r)){if(n.credentials&&"include"===n.credentials&&!n.retriedWithNoCredentials)return this.retryNoCredentials(r,n);var a=e.crossSiteProxy(r);if(a&&!n.proxyUsed)return console.log("web: Direct failed so trying proxy "+a),this.redirectToProxy(a,n)}var i;return t instanceof Error?i="Fetch error: "+t.message:(i=t.statusText,t.responseText&&(i+=" ".concat(t.responseText))),this.failFetch(n,i,t.status||998,t)}},{key:"addType",value:function(e,t,r,n){var a=t;if(n){var i=r.any(a,this.ns.link("requestedURI"));i&&i.value!==n&&r.add(r.rdfFactory.namedNode(n),this.ns.rdf("type"),e,this.appNode)}for(;;){var o=r.any(a,this.ns.link("requestedURI"));if(o&&o.value&&r.add(r.rdfFactory.namedNode(o.value),this.ns.rdf("type"),e,this.appNode),a=r.any(void 0,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),a),!a)break;var s=r.any(a,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!s)break;var u=r.any(s,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!u)break;if("301"!==u&&"302"!==u)break}}},{key:"handleResponse",value:function(e,t,r){var n=this,a=this.store,i=e.headers,o=r.req,s=this.saveResponseMetadata(e,r),u=this.normalizedContentType(r,i)||"",c=i.get("content-location");if(0===e.status)return console.log("Masked error - status 0 for "+t),this.handleError(e,t,r);if(e.status>=400)return 404===e.status&&(this.nonexistent[r.original.value]=!0,this.nonexistent[t]=!0),this.saveErrorResponse(e,s).then((function(){var t=r.resource+" "+e.statusText;return n.failFetch(r,t,e.status,e)}));var l=null,d=null;if(c&&(d=x.join(c,t),d!==t&&(l=d)),200===e.status){this.addType(this.ns.link("Document"),o,a,t),l&&this.addType(this.ns.link("Document"),o,a,l),r.clearPreviousData&&a.removeDocument(r.resource);var p=u.includes("image/")||u.includes("application/pdf");u&&p&&(this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),o,a,t),l&&this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),o,a,l))}if(c){if(!r.force&&l&&"done"===this.requested[d])return this.doneFetch(r,e);this.requested[d]=!0}this.parseLinkHeader(i.get("link"),r.original,o);var f=this.handlerForContentType(u,e);return f?e.text().then((function(t){return e.responseText=t,f.parse(n,t,r,e)})):(this.addStatus(o,"Fetch over. No data handled."),this.doneFetch(r,e))}},{key:"saveErrorResponse",value:function(e,t){var r=this,n=this.store;return e.text().then((function(e){e.length>10&&n.add(t,r.ns.http("content"),n.rdfFactory.literal(e),t)}))}},{key:"handlerForContentType",value:function(e,t){if(!e)return null;var r=this.handlers.find((function(t){return e.match(t.pattern)}));return r?new r(t):null}},{key:"guessContentType",value:function(e){return D[e.split(".").pop()]}},{key:"normalizedContentType",value:function(e,t){if(e.forceContentType)return e.forceContentType;var r=t.get("content-type");if(!r||r.includes("application/octet-stream")){var n=this.guessContentType(e.resource.value);if(n)return n}var a=x.protocol(e.resource.value);return!r&&["file","chrome"].includes(a)?"text/xml":r}},{key:"redirectToProxy",value:function(e,t){var r=this;this.addStatus(t.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),t.proxyUsed=!0;var n=this.store,a=t.req;t.noMeta||(n.add(a,this.ns.link("redirectedTo"),n.rdfFactory.namedNode(e),a),this.addStatus(a,"redirected to new request")),this.requested[t.resource.value]="redirected",this.redirectedTo[t.resource.value]=e;var i=Object.assign({},t);return i.baseURI=t.resource.value,this.fetchUri(e,i).then((function(e){return i.noMeta||n.add(a,r.ns.link("redirectedRequest"),i.req,r.appNode),e}))}},{key:"setRequestTimeout",value:function(e,t){var r=this;return new Promise((function(n){r.timeouts[e]=(r.timeouts[e]||[]).concat(setTimeout((function(){!r.isPending(e)||t.retriedWithNoCredentials||t.proxyUsed||n(r.failFetch(t,"Request to ".concat(e," timed out"),"timeout"))}),r.timeout))}))}},{key:"addFetchCallback",value:function(e,t){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(t):this.fetchCallbacks[e]=[t]}},{key:"acceptString",value:function(){var e="";for(var t in this.mediatypes)for(var r in""!==e&&(e+=", "),e+=t,this.mediatypes[t])e+=";"+r+"="+this.mediatypes[t][r];return e}}],[{key:"crossSiteProxy",value:function(t){return e.crossSiteProxyTemplate?e.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t)):void 0}},{key:"offlineOverride",value:function(e){var t,r=e;return"undefined"!==typeof window&&window.panes&&(t=window.panes.UI)&&t.preferences&&t.preferences.get("offlineModeUsingLocalhost")&&"http://"===r.slice(0,7)&&"localhost/"!==r.slice(7,17)&&(r="http://localhost/"+r.slice(7),h.default.warn("Localhost kludge for offline use: actually getting <"+r+">")),r}},{key:"proxyIfNecessary",value:function(t){var r;if("undefined"!==typeof window&&window.panes&&(r=window.panes.UI)&&r.isExtension)return t;if("undefined"!==typeof $SolidTestEnvironment&&$SolidTestEnvironment.localSiteMap){var n=t.split("/").slice(2),a=function e(t,r){var n=r[t.shift()];return n?"string"===typeof n?n+t.join("/"):t?e(t,n):null:null},i=a(n,$SolidTestEnvironment.localSiteMap);if(i)return i}return e.crossSiteProxyTemplate&&"undefined"!==typeof document&&document.location&&"https:"===(""+document.location).slice(0,6)&&"http:"===t.slice(0,5)?e.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t)):t}},{key:"unsupportedProtocol",value:function(e){var t=x.protocol(e);return"tel"===t||"mailto"===t||"urn"===t}},{key:"setCredentials",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===t.credentials&&(void 0!==t.withCredentials?t.credentials=t.withCredentials?"include":"omit":t.credentials="include")}}]),e}();t.default=Q,(0,p.default)(Q,"HANDLERS",void 0),(0,p.default)(Q,"CONTENT_TYPE_BY_EXT",void 0),(0,p.default)(Q,"crossSiteProxyTemplate",void 0),Q.HANDLERS=G,Q.CONTENT_TYPE_BY_EXT=D},9523:function(e,t){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},9604:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b"),a=i(r("00e8"));function i(e){return e&&e.__esModule?e:{default:e}}class o{handle(e,t){const{root:r}=t;return(e="",i="text/turtle")=>(0,n.toIterablePromise)((async function*(){const n=new Set;for await(const e of t){const t=/^https?:\/\/[^#]+/.exec(e?e.value:"");t&&n.add(t[0])}const o=[...n].map(t=>a.default.fetch(t,{method:"PUT",headers:{"Content-Type":i},body:e}));await Promise.all(o);for(const e of n)yield r[e]}))}}t.default=o},9659:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("c513"),a=r("5189"),i=r("b4c9").Wildcard;class o{constructor(e){this.dataFactory=e||new n.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(e,t){return{type:"alt",left:e,right:t}}createAsk(e){return{type:"ask",input:e}}createBoundAggregate(e,t,r,n,a){let i=this.createAggregateExpression(t,r,n,a);return i.variable=e,i}createBgp(e){return{type:"bgp",patterns:e}}createConstruct(e,t){return{type:"construct",input:e,template:t}}createDescribe(e,t){return{type:"describe",input:e,terms:t}}createDistinct(e){return{type:"distinct",input:e}}createExtend(e,t,r){return{type:"extend",input:e,variable:t,expression:r}}createFrom(e,t,r){return{type:"from",input:e,default:t,named:r}}createFilter(e,t){return{type:"filter",input:e,expression:t}}createGraph(e,t){return{type:"graph",input:e,name:t}}createGroup(e,t,r){return{type:"group",input:e,variables:t,aggregates:r}}createInv(e){return{type:"inv",path:e}}createJoin(e,t){return{type:"join",left:e,right:t}}createLeftJoin(e,t,r){return r?{type:"leftjoin",left:e,right:t,expression:r}:{type:"leftjoin",left:e,right:t}}createLink(e){return{type:"link",iri:e}}createMinus(e,t){return{type:"minus",left:e,right:t}}createNps(e){return{type:"nps",iris:e}}createOneOrMorePath(e){return{type:"OneOrMorePath",path:e}}createOrderBy(e,t){return{type:"orderby",input:e,expressions:t}}createPath(e,t,r,n){return n?{type:"path",subject:e,predicate:t,object:r,graph:n}:{type:"path",subject:e,predicate:t,object:r,graph:this.dataFactory.defaultGraph()}}createPattern(e,t,r,n){let a=this.dataFactory.quad(e,t,r,n);return a.type="pattern",a}createProject(e,t){return{type:"project",input:e,variables:t}}createReduced(e){return{type:"reduced",input:e}}createSeq(e,t){return{type:"seq",left:e,right:t}}createService(e,t,r){return{type:"service",input:e,name:t,silent:r}}createSlice(e,t,r){return void 0===t&&(t=0),void 0!==r?{type:"slice",input:e,start:t,length:r}:{type:"slice",input:e,start:t}}createUnion(e,t){return{type:"union",left:e,right:t}}createValues(e,t){return{type:"values",variables:e,bindings:t}}createZeroOrMorePath(e){return{type:"ZeroOrMorePath",path:e}}createZeroOrOnePath(e){return{type:"ZeroOrOnePath",path:e}}createAggregateExpression(e,t,r,n){return n?{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,separator:n,distinct:r}:{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,distinct:r}}createExistenceExpression(e,t){return{type:"expression",expressionType:"existence",not:e,input:t}}createNamedExpression(e,t){return{type:"expression",expressionType:"named",name:e,args:t}}createOperatorExpression(e,t){return{type:"expression",expressionType:"operator",operator:e,args:t}}createTermExpression(e){return{type:"expression",expressionType:"term",term:e}}createWildcardExpression(){return{type:"expression",expressionType:"wildcard",wildcard:new i}}createTerm(e){return a.stringToTerm(e,this.dataFactory)}createCompositeUpdate(e){return{type:"compositeupdate",updates:e}}createDeleteInsert(e,t,r){const n={type:"deleteinsert"};return e&&(n.delete=e),t&&(n.insert=t),r&&(n.where=r),n}createLoad(e,t,r){const n={type:"load",source:e};return t&&(n.destination=t),this.addSilent(n,r)}createClear(e,t){return this.addSilent({type:"clear",source:e},t)}createCreate(e,t){return this.addSilent({type:"create",source:e},t)}createDrop(e,t){return this.addSilent({type:"drop",source:e},t)}createAdd(e,t,r){return this.addSilent({type:"add",source:e,destination:t},r)}createMove(e,t,r){return this.addSilent({type:"move",source:e,destination:t},r)}createCopy(e,t,r){return this.addSilent({type:"copy",source:e,destination:t},r)}addSilent(e,t){return t&&(e.silent=t),e}}t.default=o},"970b":function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},9935:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0;class n{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}t.NamedNode=n},"9c67":function(e){e.exports=JSON.parse('{"@context":{"acl":"http://www.w3.org/ns/auth/acl#","app":"http://www.w3.org/ns/solid/app#","as":"https://www.w3.org/ns/activitystreams#","cert":"http://www.w3.org/ns/auth/cert#","dc":"http://purl.org/dc/elements/1.1/","dct":"http://purl.org/dc/terms/","foaf":"http://xmlns.com/foaf/0.1/","ldp":"http://www.w3.org/ns/ldp#","owl":"http://www.w3.org/2002/07/owl#","pim":"http://www.w3.org/ns/pim/space#","rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdfs":"http://www.w3.org/2000/01/rdf-schema#","schema":"http://schema.org/","sioc":"http://rdfs.org/sioc/ns#","solid":"http://www.w3.org/ns/solid/terms#","stat":"http://www.w3.org/ns/posix/stat#","ui":"http://www.w3.org/ns/ui#","vcard":"http://www.w3.org/2006/vcard/ns#","xsd":"http://www.w3.org/2001/XMLSchema#","accessControl":"acl:accessControl","accessTo":"acl:accessTo","accessToClass":"acl:accessToClass","agent":"acl:agent","agents":"acl:agent","agentClass":"acl:agentClass","agentClasses":"acl:agentClass","agentGroup":"acl:agentGroup","agentGroups":"acl:agentGroup","defaultAcl":"acl:default","defaultAclForNew":"acl:defaultForNew","delegates":"acl:delegates","mode":"acl:mode","modes":"acl:mode","origin":"acl:origin","origins":"acl:origin","actor":"as:actor","attachment":"as:attachment","attributedTo":"as:attributedTo","author":"as:author","bcc":"as:bcc","bto":"as:bto","cc":"as:cc","inReplyTo":"as:inReplyTo","object":"as:object","publicationDate":"as:published","subject":"as:subject","summary":"as:summary","target":"as:target","to":"as:to","abstract":"dc:abstract","abstracts":"dc:abstract","created":"dc:created","license":"dc:license","modified":"dc:modified","title":"dc:title","titles":"dc:title","account":"foaf:account","accounts":"foaf:account","age":"foaf:age","basedNear":"foaf:based_near","birthday":"foaf:birthday","blog":"foaf:weblog","depiction":"foaf:depiction","depicts":"foaf:depicts","email":"foaf:mbox","familyName":"foaf:familyName","firstName":"foaf:givenName","friend":"foaf:knows","friends":"foaf:knows","gender":"foaf:gender","givenName":"foaf:givenName","homepage":"foaf:homepage","image":"foaf:img","images":"foaf:img","interest":"foaf:topic_interest","interests":"foaf:topic_interest","knows":"foaf:knows","lastName":"foaf:familyName","logo":"foaf:logo","made":"foaf:made","maker":"foaf:maker","member":"foaf:member","name":"foaf:name","nick":"foaf:nick","page":"foaf:page","pages":"foaf:page","primaryTopic":"foaf:primaryTopic","primaryTopicOf":"foaf:primaryTopicOf","publication":"foaf:publications","publications":"foaf:publications","thumbnail":"foaf:thumbnail","thumbnails":"foaf:thumbnail","topic":"foaf:topic","topics":"foaf:topic","inbox":"ldp:inbox","inboxes":"ldp:inbox","storage":"pim:storage","preferences":"pim:preferencesFile","workspace":"pim:workspace","type":"rdf:type","types":"rdf:type","comment":"rdfs:comment","comments":"rdfs:comment","label":"rdfs:label","labels":"rdfs:label","seeAlso":"rdfs:seeAlso","definedBy":"rdfs:isDefinedBy","oidcIssuer":"solid:oidcIssuer","publicTypeIndex":"solid:publicTypeIndex","publicTypeIndexes":"solid:publicTypeIndex","privateTypeIndex":"solid:privateTypeIndex","privateTypeIndexes":"solid:privateTypeIndex"}}')},"9e0d":function(e,t,r){"use strict";const{parseLinkHeader:n,buildHeaders:a}=r("14b4"),{LINK_HEADER_CONTEXT:i}=r("4c4c"),o=r("a2c2"),s=r("0c02"),{prependBase:u}=r("f060"),c=/(^|(\r\n))link:/i;function l(e,t,r){e=e||XMLHttpRequest;const n=new e;return new Promise((e,a)=>{n.onload=()=>e(n),n.onerror=e=>a(e),n.open("GET",t,!0);for(const t in r)n.setRequestHeader(t,r[t]);n.send()})}e.exports=({secure:e,headers:t={},xhr:r}={headers:{}})=>{t=a(t);const d=new s;return d.wrapLoader(p);async function p(a){if(0!==a.indexOf("http:")&&0!==a.indexOf("https:"))throw new o('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:a});if(e&&0!==a.indexOf("https"))throw new o('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:a});let s;try{s=await l(r,a,t)}catch(v){throw new o("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:a,cause:v})}if(s.status>=400)throw new o("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:a,httpStatusCode:s.status});let d={contextUrl:null,documentUrl:a,document:s.response},f=null;const h=s.getResponseHeader("Content-Type");let y;if(c.test(s.getAllResponseHeaders())&&(y=s.getResponseHeader("Link")),y&&"application/ld+json"!==h){const e=n(y),t=e[i];if(Array.isArray(t))throw new o("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:a});t&&(d.contextUrl=t.target),f=e["alternate"],f&&"application/ld+json"==f.type&&!(h||"").match(/^application\/(\w*\+)?json$/)&&(d=await p(u(a,f.target)))}return d}}},"9ff5":function(e,t,r){"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},a22a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;class n{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}t.Variable=n},a2c2:function(e,t,r){"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",r={}){super(e),this.name=t,this.message=e,this.details=r}}},a34a:function(e,t,r){e.exports=r("96cf")},ab32:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.isStatement=o,t.isStore=s,t.isCollection=u,t.isRDFlibObject=c,t.isVariable=l,t.isTerm=d,t.isLiteral=p,t.isQuad=f,t.isNamedNode=h,t.isBlankNode=y,t.isSubject=v,t.isPredicate=g,t.isRDFObject=m,t.isGraph=b;var a=n(r("7037")),i=r("43f5");function o(e){return"object"===(0,a.default)(e)&&null!==e&&"subject"in e}function s(e){return"object"===(0,a.default)(e)&&null!==e&&"statements"in e}function u(e){return d(e)&&e.termType===i.CollectionTermType}function c(e){return e&&Object.prototype.hasOwnProperty.call(e,"termType")&&(e.termType===i.NamedNodeTermType||e.termType===i.VariableTermType||e.termType===i.BlankNodeTermType||e.termType===i.CollectionTermType||e.termType===i.LiteralTermType||e.termType===i.GraphTermType)}function l(e){return d(e)&&e.termType===i.VariableTermType}function d(e){return"object"===(0,a.default)(e)&&null!==e&&"termType"in e}function p(e){return e.termType===i.LiteralTermType}function f(e){return"object"===(0,a.default)(e)&&null!==e&&"subject"in e&&"predicate"in e&&"object"in e}function h(e){return d(e)&&"NamedNode"===e.termType}function y(e){return d(e)&&"termType"in e&&"BlankNode"===e.termType}function v(e){return d(e)&&(e.termType===i.NamedNodeTermType||e.termType===i.VariableTermType||e.termType===i.BlankNodeTermType)}function g(e){return d(e)&&(e.termType===i.NamedNodeTermType||e.termType===i.VariableTermType)}function m(e){return d(e)&&(e.termType===i.NamedNodeTermType||e.termType===i.VariableTermType||e.termType===i.BlankNodeTermType||e.termType===i.LiteralTermType)}function b(e){return d(e)&&(e.termType===i.NamedNodeTermType||e.termType===i.VariableTermType||e.termType===i.BlankNodeTermType||e.termType===i.DefaultGraphTermType)}},acac:function(e,t,r){"use strict";var n=r("e2cc"),a=r("f183").getWeakData,i=r("825a"),o=r("861d"),s=r("19aa"),u=r("2266"),c=r("b727"),l=r("5135"),d=r("69f3"),p=d.set,f=d.getterFor,h=c.find,y=c.findIndex,v=0,g=function(e){return e.frozen||(e.frozen=new m)},m=function(){this.entries=[]},b=function(e,t){return h(e.entries,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var r=b(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=y(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,c){var d=e((function(e,n){s(e,d,t),p(e,{type:t,id:v++,frozen:void 0}),void 0!=n&&u(n,e[c],{that:e,AS_ENTRIES:r})})),h=f(t),y=function(e,t,r){var n=h(e),o=a(i(t),!0);return!0===o?g(n).set(t,r):o[n.id]=r,e};return n(d.prototype,{delete:function(e){var t=h(this);if(!o(e))return!1;var r=a(e);return!0===r?g(t)["delete"](e):r&&l(r,t.id)&&delete r[t.id]},has:function(e){var t=h(this);if(!o(e))return!1;var r=a(e);return!0===r?g(t).has(e):r&&l(r,t.id)}}),n(d.prototype,r?{get:function(e){var t=h(this);if(o(e)){var r=a(e);return!0===r?g(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return y(this,e,t)}}:{add:function(e){return y(this,e,!0)}}),d}}},ae15:function(e,t,r){"use strict";function n(e){return r("e2d8")(e,(e,t)=>e.equals(t))}function a(e,t){return e.filter(e=>e.termType===t)}function i(e){return a(e,"NamedNode")}function o(e){return a(e,"BlankNode")}function s(e){return a(e,"Literal")}function u(e){return a(e,"Variable")}function c(e){return a(e,"DefaultGraph")}function l(e){return a(e,"Quad")}Object.defineProperty(t,"__esModule",{value:!0}),t.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"],t.uniqTerms=n,t.getTermsOfType=a,t.getNamedNodes=i,t.getBlankNodes=o,t.getLiterals=s,t.getVariables=u,t.getDefaultGraphs=c,t.getQuads=l},b19c:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.indexedFormulaQuery=l,t.Query=void 0;var a=n(r("970b")),i=n(r("c947")),o=r("5c0f"),s=n(r("3c962")),u=r("3897"),c=function e(t,r){(0,a.default)(this,e),this.pat=new i.default,this.vars=[],this.name=t,this.id=r};function l(e,t,r,n){function a(e){var t,r="";for(t in e)e.hasOwnProperty(t)&&(r+="    "+t+" -> "+e[t]);return r}function i(e){var t,r="Bindings: ",n=e.length;for(t=0;t<n;t++)r+=a(e[t][0])+";\n\t";return r}function c(e,t,r,n){var a=r[e];if(void 0===a){if(e.isVar){var i=[];return i[e]=t,[[i,null]]}a=e}if(!a.complexType)return n.redirections[a]&&(a=n.redirections[a]),n.redirections[t]&&(t=n.redirections[t]),a.equals(t)||a.uri&&a.uri===o.defaultGraphURI?[[[],null]]:[];if(e instanceof Array)return t instanceof Array?l(e,t,r):[];throw new Error("query.js: oops - code not written yet")}function l(e,t,r,n){var a;if(e.length!==t.length)return[];if(!e.length)return[[[],null]];var i=c(e[0],t[0],r,n);if(0===i.length)return i;var o,s,u,d,p,f,h,y=[],v=i.length;for(o=0;o<v;o++){for(p in s=i[o][0],h=[],s)s.hasOwnProperty(p)&&(h[p]=s[p]);for(p in r)r.hasOwnProperty(p)&&(h[p]=r[p]);for(a=l(e.slice(1),t.slice(1),h,n),d=a.length,u=0;u<d;u++){for(p in f=a[u][0],s)s.hasOwnProperty(p)&&(f[p]=s[p]);y.push([f,null])}}return y}function d(e,t){var r=t[e];return void 0===r?e:r}function p(e,t){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function f(e,t){return this.trunkBindings=t,this.originalCallback=e,this.branches=[],this}function h(e,t){return this.count=0,this.success=!1,this.done=!1,this.callback=e,this.onDone=t,this}f.prototype.checkAllDone=function(){var e;for(e=0;e<this.branches.length;e++)if(!this.branches[e].done)return;s.default.debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},f.prototype.doCallBacks=function(e,t){var r;if(e<0)return this.originalCallback(t);for(r=0;r<this.branches[e].results.length;r++)this.doCallBacks(e-1,p(t,this.branches[e].results[r]))},h.prototype.reportMatch=function(e){this.callback(e),this.success=!0},h.prototype.reportDone=function(){this.done=!0,s.default.info("Mandatory query branch finished.***"),void 0!==this.onDone&&this.onDone()};var y=function(e){return this.count=0,this.done=!1,this.results=[],this.junction=e,e.branches.push(this),this};function v(e,t,r){var n,a,i,s;for(t.nvars=0,t.index=null,n=[t.subject,t.predicate,t.object,t.why],s=[e.subjectIndex,e.predicateIndex,e.objectIndex,e.whyIndex],i=0;i<4;i++){var u=n[i];if(u.uri&&u.uri===o.defaultGraphURI);else if(u.isVar&&void 0===r[u])t.nvars++;else{if(u=d(n[i],r),e.redirections[e.id(u)]&&(u=e.redirections[e.id(u)]),a=s[i][e.id(u)],!a)return t.index=[],!1;(null===t.index||t.index.length>a.length)&&(t.index=a)}}return null===t.index&&(t.index=e.statements),!0}function g(e,t){return e.nvars!==t.nvars?e.nvars-t.nvars:e.index.length-t.index.length}y.prototype.reportMatch=function(e){this.results.push(e)},y.prototype.reportDone=function(){s.default.debug("Optional branch finished - results.length = "+this.results.length),0===this.results.length&&(this.results.push({}),s.default.debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};var m=0,b=function e(r,n,i,o,c,l,d){s.default.debug("Match begins, Branch count now: "+d.count+" for "+d.pattern_debug);var p,h,v=n.statements;if(0===v.length){if(s.default.debug("FOUND MATCH WITH BINDINGS:"+a(i)),0===n.optional.length)d.reportMatch(i);else{s.default.debug("OPTIONAL: "+n.optional);var g,b=new f(t,i),w=[];for(g=0;g<n.optional.length;g++)w[g]=new y(b),w[g].pattern_debug=n.optional[g];for(g=0;g<n.optional.length;g++)w[g].count=w[g].count+1,e(r,n.optional[g],i,"",c,t,w[g])}return d.count--,void s.default.debug("Match ends -- success , Branch count now: "+d.count+" for "+d.pattern_debug)}var T=v.length;if(c){var E="match"+m++,N=function(t,a){var s=t.uri.split("#")[0];c.nowOrWhenFetched(s,void 0,(function(a,s,u){a||console.log("Error following link to <"+t.uri+"> in query: "+s),e(r,n,i,o,c,l,d)}))};for(h=0;h<T;h++){if(p=v[h],void 0!==i[p.subject]&&i[p.subject].uri&&c&&"unrequested"===c.getState((0,u.docpart)(i[p.subject].uri)))return void N(i[p.subject],E);if(void 0!==i[p.object]&&i[p.object].uri&&c&&"unrequested"===c.getState((0,u.docpart)(i[p.object].uri)))return void N(i[p.object],E)}}x(r,n,i,o,c,l,d)},w=function(e,t){var r,n,a=!0;for(r in e)e.hasOwnProperty(r)&&t[r]&&(n=t[r].test,n&&!n(e[r])&&(a=!1));return a},x=function(e,t,r,n,o,u,c){var d,p,f,h,y,m,x,T=t.statements,E=T.length;for(d=0;d<E;d++)x=T[d],v(e,x,r);T.sort(g),x=T[0];var N,O=e.formula();O.optional=t.optional,O.constraints=t.constraints,O.statements=T.slice(1),s.default.debug(n+"match2 searching "+x.index.length+" for "+x+"; bindings so far="+a(r));var _,I,S=x.index.length,R=0;for(N=0;N<S;N++)for(I=x.index[N],_=l([x.subject,x.predicate,x.object,x.why],[I.subject,I.predicate,I.object,I.why],r,e),s.default.info(n+" From first: "+_.length+": "+i(_)),f=_.length,p=0;p<f;p++)if(y=[],m=_[p][0],w(m,t.constraints)){for(h in m)m.hasOwnProperty(h)&&(y[h]=m[h]);for(h in r)r.hasOwnProperty(h)&&(y[h]=r[h]);c.count++,R++,b(e,O,y,n+"  ",o,u,c)}else s.default.debug("Branch count CS: "+c.count);c.count--,0===R&&s.default.debug("Match2 fails completely on "+x),s.default.debug("Match2 ends, Branch count: "+c.count+" for "+c.pattern_debug),0===c.count&&(s.default.debug("Branch finished."),c.reportDone())},T=this;s.default.debug("Query on "+this.statements.length);var E=new h(t,n);E.count++,e.sync?b(T,e.pat,e.pat.initBindings,"",r,t,E):setTimeout((function(){b(T,e.pat,e.pat.initBindings,"",r,t,E)}),0)}t.Query=c},b1e9:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.fromValue=b,t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),o=n(r("3c96")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("43f6")),p=n(r("21b4")),f=n(r("085a")),h=n(r("33e3")),y=r("43f5"),v=r("ab32");function g(e){var t=m();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return"undefined"===typeof e||null===e||(0,v.isTerm)(e)?e:Array.isArray(e)?new w(e):f.default.fromValue(e)}var w=function(e){(0,s.default)(r,e);var t=g(r);function r(e){var n;return(0,a.default)(this,r),n=t.call(this,(d.default.nextId++).toString()),(0,l.default)((0,o.default)(n),"termType",y.CollectionTermType),(0,l.default)((0,o.default)(n),"classOrder",p.default.Collection),(0,l.default)((0,o.default)(n),"closed",!1),(0,l.default)((0,o.default)(n),"compareTerm",d.default.prototype.compareTerm),(0,l.default)((0,o.default)(n),"elements",[]),(0,l.default)((0,o.default)(n),"isVar",0),e&&e.length>0&&e.forEach((function(e){n.elements.push(b(e))})),n}return(0,i.default)(r,[{key:"append",value:function(e){return this.elements.push(e)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(e){var t=this.elements.map((function(t){return t.substitute(e)}));return new r(t)}},{key:"toNT",value:function(){return r.toNT(this)}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(e){return this.elements.unshift(e)}},{key:"id",get:function(){return this.value},set:function(e){this.value=e}}],[{key:"toNT",value:function(e){return d.default.NTAnonymousNodePrefix+e.id}}]),r}(h.default);t.default=w,(0,l.default)(w,"termType",y.CollectionTermType)},b474:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("ef3c")),a=r("f947");function i(e){return e&&e.__esModule?e:{default:e}}const o="SELECT ?subject ?predicate ?object WHERE {\n  ?subject a _:type;\n      <https://www.w3.org/ns/activitystreams#actor> _:actor;\n      <https://www.w3.org/ns/activitystreams#object> _:object.\n  ?subject ?predicate ?object.\n}\n",s=["?subject","?predicate","?object"];class u extends n.default{async*createResults(e,t,r){const n=(0,a.replaceVariables)(o,e);for await(const i of r.execute(n,t)){const e=s.map(e=>(0,a.termToString)(i.get(e)));yield"".concat(e.join(" "),".\n")}}async processResults(e,t,r){const n="DELETE {\n".concat(e.join(""),"}");return await r.executeUpdate(n,t).next(),[]}}t.default=u},b4c9:function(e,t,r){var n=r("f036").Parser,a=r("8be9"),i=r("51b7").Wildcard,{DataFactory:o}=r("c513");e.exports={Parser:function({prefixes:e,baseIRI:t,factory:r,sparqlStar:a,skipUngroupedVariableCheck:i}={}){var s={};for(var u in e||{})s[u]=e[u];var c=new n;return c.parse=function(){return n.base=t||"",n.prefixes=Object.create(s),n.factory=r||new o,n.sparqlStar=Boolean(a),n.skipUngroupedVariableCheck=Boolean(i),n.prototype.parse.apply(c,arguments)},c._resetBlanks=n._resetBlanks,c},Generator:a,Wildcard:i}},b549:function(e,t,r){"use strict";const n=r("e2a7e");e.exports=class extends n{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;for(const a of n){let n,i;if("BlankNode"===a.subject.termType&&a.subject.value!==e)i=a.subject.value,n="p";else{if("BlankNode"!==a.object.termType||a.object.value===e)continue;i=a.object.value,n="r"}const o=this.hashRelatedBlankNode(i,a,t,n),s=r.get(o);s?s.push(i):r.set(o,[i])}return r}}},b7d2:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),o=n(r("3c96")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("33e3")),p=r("43f5");function f(e){var t=h();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){(0,s.default)(r,e);var t=f(r);function r(){var e;return(0,a.default)(this,r),e=t.call(this,""),(0,l.default)((0,o.default)(e),"termType",p.EmptyTermType),e}return(0,i.default)(r,[{key:"toString",value:function(){return"()"}}]),r}(d.default);t.default=y},b80f:function(e,t,r){"use strict";var n=r("4ea4"),a=r("dbce");Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var i=a(r("cc85")),o=n(r("7971")),s=r("43f5");function u(e,t,r,n,a,u){r=r||e.value;var c=u||{};n=n||s.TurtleContentType;var l=null;try{var d=(0,o.default)(t);c.flags&&d.setFlags(c.flags);var p,f=t.statementsMatching(void 0,void 0,void 0,e);switch(d.suggestNamespaces(t.namespaces),d.setBase(r),n){case s.RDFXMLContentType:return l=d.statementsToXML(f),h(null,l);case s.N3ContentType:case s.N3LegacyContentType:return l=d.statementsToN3(f),h(null,l);case s.TurtleContentType:case s.TurtleLegacyContentType:return d.setFlags("si"),l=d.statementsToN3(f),h(null,l);case s.NTriplesContentType:return d.setFlags("deinprstux"),l=d.statementsToNTriples(f),h(null,l);case s.JSONLDContentType:d.setFlags("deinprstux"),p=d.statementsToNTriples(f),i.convertToJson(p,a);break;case s.NQuadsContentType:case s.NQuadsAltContentType:return d.setFlags("deinprstux q"),l=d.statementsToNTriples(f),h(null,l);default:throw new Error("Serialize: Content-type "+n+" not supported for data write.")}}catch(y){if(a)return a(y,void 0);throw y}function h(e,t){return a?void a(e,t):t}}},bd36:function(e,t,r){"use strict";function n(e,t){t=t||"";const r=t.indexOf("#");if(r>0&&(t=t.substr(0,r)),!e.length){if(t.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);return t}if(e.startsWith("?")){const r=t.indexOf("?");return r>0&&(t=t.substr(0,r)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){const t=e.indexOf(":");if(t<0)throw new Error(`Found invalid relative IRI '${e}' for a missing baseIRI`);return i(e,t)}const n=e.indexOf(":");if(n>=0)return i(e,n);const o=t.indexOf(":");if(o<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);const s=t.substr(0,o+1);if(0===e.indexOf("//"))return s+i(e,n);let u;if(t.indexOf("//",o)===o+1){if(u=t.indexOf("/",o+3),u<0)return t.length>o+3?t+"/"+i(e,n):s+i(e,n)}else if(u=t.indexOf("/",o+1),u<0)return s+i(e,n);if(0===e.indexOf("/"))return t.substr(0,u)+a(e);let c=t.substr(u);const l=c.lastIndexOf("/");return l>=0&&l<c.length-1&&(c=c.substr(0,l+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=c+e,e=a(e),t.substr(0,u)+e}function a(e){const t=[];let r=0;while(r<e.length)switch(e[r]){case"/":if("."===e[r+1])if("."===e[r+2]){if(!o(e[r+3])){t.push([]),r++;break}t.pop(),e[r+3]||t.push([]),r+=3}else{if(!o(e[r+2])){t.push([]),r++;break}e[r+2]||t.push([]),r+=2}else t.push([]),r++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(r)),r=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[r]),r++;break}return"/"+t.map(e=>e.join("")).join("/")}function i(e,t){let r=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(r=t+3):"/"===e[0]&&"/"===e[1]&&(r=2);const n=e.indexOf("/",r);if(n<0)return e;const i=e.substr(0,n),o=e.substr(n);return i+a(o)}function o(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=n,t.removeDotSegments=a,t.removeDotSegmentsOfPath=i},bdfe:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b"),a=i(r("e88a"));function i(e){return e&&e.__esModule?e:{default:e}}class o{constructor(e){this._paths=e}handle({settings:e}){return t=>new n.PathFactory({handlers:{...n.defaultHandlers},resolvers:[new a.default(this._paths,t)]}).create(e,{})}}t.default=o},c1dd:function(e,t){function r(e,t){for(var r in e)t[r]=e[r]}function n(e,t){var n=e.prototype;if(!(n instanceof t)){function a(){}a.prototype=t.prototype,a=new a,r(n,a),e.prototype=n=a}n.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),n.constructor=e)}var a="http://www.w3.org/1999/xhtml",i={},o=i.ELEMENT_NODE=1,s=i.ATTRIBUTE_NODE=2,u=i.TEXT_NODE=3,c=i.CDATA_SECTION_NODE=4,l=i.ENTITY_REFERENCE_NODE=5,d=i.ENTITY_NODE=6,p=i.PROCESSING_INSTRUCTION_NODE=7,f=i.COMMENT_NODE=8,h=i.DOCUMENT_NODE=9,y=i.DOCUMENT_TYPE_NODE=10,v=i.DOCUMENT_FRAGMENT_NODE=11,g=i.NOTATION_NODE=12,m={},b={},w=(m.INDEX_SIZE_ERR=(b[1]="Index size error",1),m.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2),m.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3)),x=(m.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),m.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),m.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),m.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7),m.NOT_FOUND_ERR=(b[8]="Not found",8)),T=(m.NOT_SUPPORTED_ERR=(b[9]="Not supported",9),m.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10));m.INVALID_STATE_ERR=(b[11]="Invalid state",11),m.SYNTAX_ERR=(b[12]="Syntax error",12),m.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),m.NAMESPACE_ERR=(b[14]="Invalid namespace",14),m.INVALID_ACCESS_ERR=(b[15]="Invalid access",15);function E(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,b[e]),this.message=b[e],Error.captureStackTrace&&Error.captureStackTrace(this,E);return r.code=e,t&&(this.message=this.message+": "+t),r}function N(){}function O(e,t){this._node=e,this._refresh=t,_(this)}function _(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);oe(e,"length",n.length),r(n,e),e._inc=t}}function I(){}function S(e,t){var r=e.length;while(r--)if(e[r]===t)return r}function R(e,t,r,n){if(n?t[S(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var a=e.ownerDocument;a&&(n&&F(a,e,n),P(a,e,r))}}function C(e,t,r){var n=S(t,r);if(!(n>=0))throw E(x,new Error(e.tagName+"@"+r));var a=t.length-1;while(n<a)t[n]=t[++n];if(t.length=a,e){var i=e.ownerDocument;i&&(F(i,e,r),r.ownerElement=null)}}function A(e){if(this._features={},e)for(var t in e)this._features=e[t]}function D(){}function k(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function j(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(j(e,t))return!0}while(e=e.nextSibling)}function L(){}function P(e,t,r){e&&e._inc++;var n=r.namespaceURI;"http://www.w3.org/2000/xmlns/"==n&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function F(e,t,r,n){e&&e._inc++;var a=r.namespaceURI;"http://www.w3.org/2000/xmlns/"==a&&delete t._nsMap[r.prefix?r.localName:""]}function M(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{var a=t.firstChild,i=0;while(a)n[i++]=a,a=a.nextSibling;n.length=i}}}function U(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,M(e.ownerDocument,e),t}function V(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===v){var a=t.firstChild;if(null==a)return t;var i=t.lastChild}else a=i=t;var o=r?r.previousSibling:e.lastChild;a.previousSibling=o,i.nextSibling=r,o?o.nextSibling=a:e.firstChild=a,null==r?e.lastChild=i:r.previousSibling=i;do{a.parentNode=e}while(a!==i&&(a=a.nextSibling));return M(e.ownerDocument||e,e),t.nodeType==v&&(t.firstChild=t.lastChild=null),t}function B(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t);n=e.lastChild}n=e.lastChild;return t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,M(e.ownerDocument,e,t),t}function q(){this._nsMap={}}function G(){}function $(){}function H(){}function X(){}function Q(){}function z(){}function J(){}function W(){}function Y(){}function K(){}function Z(){}function ee(){}function te(e,t){var r=[],n=9==this.nodeType&&this.documentElement||this,a=n.prefix,i=n.namespaceURI;if(i&&null==a){a=n.lookupPrefix(i);if(null==a)var o=[{namespace:i,prefix:null}]}return ne(this,r,e,t,o),r.join("")}function re(e,t,r){var n=e.prefix||"",a=e.namespaceURI;if(!n&&!a)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===a||"http://www.w3.org/2000/xmlns/"==a)return!1;var i=r.length;while(i--){var o=r[i];if(o.prefix==n)return o.namespace!=a}return!0}function ne(e,t,r,n,i){if(n){if(e=n(e),!e)return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case o:i||(i=[]);i.length;var d=e.attributes,g=d.length,m=e.firstChild,b=e.tagName;r=a===e.namespaceURI||r,t.push("<",b);for(var w=0;w<g;w++){var x=d.item(w);"xmlns"==x.prefix?i.push({prefix:x.localName,namespace:x.value}):"xmlns"==x.nodeName&&i.push({prefix:"",namespace:x.value})}for(w=0;w<g;w++){x=d.item(w);if(re(x,r,i)){var T=x.prefix||"",E=x.namespaceURI,N=T?" xmlns:"+T:" xmlns";t.push(N,'="',E,'"'),i.push({prefix:T,namespace:E})}ne(x,t,r,n,i)}if(re(e,r,i)){T=e.prefix||"",E=e.namespaceURI,N=T?" xmlns:"+T:" xmlns";t.push(N,'="',E,'"'),i.push({prefix:T,namespace:E})}if(m||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(b)){if(t.push(">"),r&&/^script$/i.test(b))while(m)m.data?t.push(m.data):ne(m,t,r,n,i),m=m.nextSibling;else while(m)ne(m,t,r,n,i),m=m.nextSibling;t.push("</",b,">")}else t.push("/>");return;case h:case v:m=e.firstChild;while(m)ne(m,t,r,n,i),m=m.nextSibling;return;case s:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,k),'"');case u:return t.push(e.data.replace(/[<&]/g,k));case c:return t.push("<![CDATA[",e.data,"]]>");case f:return t.push("\x3c!--",e.data,"--\x3e");case y:var O=e.publicId,_=e.systemId;if(t.push("<!DOCTYPE ",e.name),O)t.push(' PUBLIC "',O),_&&"."!=_&&t.push('" "',_),t.push('">');else if(_&&"."!=_)t.push(' SYSTEM "',_,'">');else{var I=e.internalSubset;I&&t.push(" [",I,"]"),t.push(">")}return;case p:return t.push("<?",e.target," ",e.data,"?>");case l:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ae(e,t,r){var n;switch(t.nodeType){case o:n=t.cloneNode(!1),n.ownerDocument=e;case v:break;case s:r=!0;break}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r){var a=t.firstChild;while(a)n.appendChild(ae(e,a,r)),a=a.nextSibling}return n}function ie(e,t,r){var n=new t.constructor;for(var a in t){var i=t[a];"object"!=typeof i&&i!=n[a]&&(n[a]=i)}switch(t.childNodes&&(n.childNodes=new N),n.ownerDocument=e,n.nodeType){case o:var u=t.attributes,c=n.attributes=new I,l=u.length;c._ownerElement=n;for(var d=0;d<l;d++)n.setAttributeNode(ie(e,u.item(d),!0));break;case s:r=!0}if(r){var p=t.firstChild;while(p)n.appendChild(ie(e,p,r)),p=p.nextSibling}return n}function oe(e,t,r){e[t]=r}E.prototype=Error.prototype,r(m,E),N.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)ne(this[n],r,e,t);return r.join("")}},O.prototype.item=function(e){return _(this),this[e]},n(O,N),I.prototype={length:0,item:N.prototype.item,getNamedItem:function(e){var t=this.length;while(t--){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new E(T);var r=this.getNamedItem(e.nodeName);return R(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new E(T);return t=this.getNamedItemNS(e.namespaceURI,e.localName),R(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return C(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return C(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){var r=this.length;while(r--){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},A.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];return!(!r||t&&!(t in r))},createDocument:function(e,t,r){var n=new L;if(n.implementation=this,n.childNodes=new N,n.doctype=r,r&&n.appendChild(r),t){var a=n.createElementNS(e,t);n.appendChild(a)}return n},createDocumentType:function(e,t,r){var n=new z;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}},D.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return V(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return U(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ie(this.ownerDocument||this,this,e)},normalize:function(){var e=this.firstChild;while(e){var t=e.nextSibling;t&&t.nodeType==u&&e.nodeType==u?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){var t=this;while(t){var r=t._nsMap;if(r)for(var n in r)if(r[n]==e)return n;t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){var t=this;while(t){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return null==t}},r(i,D),r(i,D.prototype),L.prototype={nodeName:"#document",nodeType:h,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==v){var r=e.firstChild;while(r){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return null==this.documentElement&&e.nodeType==o&&(this.documentElement=e),V(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),U(this,e)},importNode:function(e,t){return ae(this,e,t)},getElementById:function(e){var t=null;return j(this.documentElement,(function(r){if(r.nodeType==o&&r.getAttribute("id")==e)return t=r,!0})),t},getElementsByClassName:function(e){const t=new RegExp(`(^|\\s)${e}(\\s|$)`);return new O(this,e=>{var r=[];return j(e.documentElement,n=>{n!==e&&n.nodeType==o&&t.test(n.getAttribute("class"))&&r.push(n)}),r})},createElement:function(e){var t=new q;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new N;var r=t.attributes=new I;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new K;return e.ownerDocument=this,e.childNodes=new N,e},createTextNode:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new X;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Q;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new Z;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new G;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Y;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new q,n=t.split(":"),a=r.attributes=new I;return r.childNodes=new N,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,a._ownerElement=r,r},createAttributeNS:function(e,t){var r=new G,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},n(L,D),q.prototype={nodeType:o,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===v?this.insertBefore(e,null):B(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new O(this,(function(t){var r=[];return j(t,(function(n){n===t||n.nodeType!=o||"*"!==e&&n.tagName!=e||r.push(n)})),r}))},getElementsByTagNameNS:function(e,t){return new O(this,(function(r){var n=[];return j(r,(function(a){a===r||a.nodeType!==o||"*"!==e&&a.namespaceURI!==e||"*"!==t&&a.localName!=t||n.push(a)})),n}))}},L.prototype.getElementsByTagName=q.prototype.getElementsByTagName,L.prototype.getElementsByTagNameNS=q.prototype.getElementsByTagNameNS,n(q,D),G.prototype.nodeType=s,n(G,D),$.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(b[w])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),a=this.data.substring(e+t);r=n+r+a,this.nodeValue=this.data=r,this.length=r.length}},n($,D),H.prototype={nodeName:"#text",nodeType:u,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},n(H,$),X.prototype={nodeName:"#comment",nodeType:f},n(X,$),Q.prototype={nodeName:"#cdata-section",nodeType:c},n(Q,$),z.prototype.nodeType=y,n(z,D),J.prototype.nodeType=g,n(J,D),W.prototype.nodeType=d,n(W,D),Y.prototype.nodeType=l,n(Y,D),K.prototype.nodeName="#document-fragment",K.prototype.nodeType=v,n(K,D),Z.prototype.nodeType=p,n(Z,D),ee.prototype.serializeToString=function(e,t,r){return te.call(e,t,r)},D.prototype.toString=te;try{if(Object.defineProperty){function se(e){switch(e.nodeType){case o:case v:var t=[];e=e.firstChild;while(e)7!==e.nodeType&&8!==e.nodeType&&t.push(se(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(O.prototype,"length",{get:function(){return _(this),this.$$length}}),Object.defineProperty(D.prototype,"textContent",{get:function(){return se(this)},set:function(e){switch(this.nodeType){case o:case v:while(this.firstChild)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),oe=function(e,t,r){e["$$"+t]=r}}}catch(ue){}t.Node=D,t.DOMImplementation=A,t.XMLSerializer=ee},c2f2:function(e,t,r){"use strict";var n=r("dbce");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(r("3897"));function i(e){var t={ns:{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"},nodeType:{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12}};this.frameFactory=function(e,r,n){return{NODE:1,ARC:2,parent:r,parser:e,store:e.store,element:n,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(e,t){t=a.join(t,this.base),this.node=this.store.sym(t),this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var e=this.store.sym(a.join("#"+this.parent.rdfid,this.base));this.store.add(e,this.store.sym(t.ns.RDF+"type"),this.store.sym(t.ns.RDF+"Statement"),this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(e){e===t.ns.RDF+"li"&&(e=t.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,e)},addLiteral:function(e){this.parent.datatype&&this.parent.datatype!==t.ns.RDF+"langString"?this.node=this.store.literal(e,this.store.sym(this.parent.datatype)):this.node=this.store.literal(e,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}},this.getAttributeNodeNS=function(e,t,r){var n=null;if(e.getAttributeNodeNS)n=e.getAttributeNodeNS(t,r);else for(var a,i,o=e.attributes,s=0;s<o.length;++s)if(a=o[s],a.namespaceURI===t&&(i=a.prefix?a.prefix+":"+r:r,i===a.nodeName)){n=a;break}return n},this.store=e,this.bnodes={},this.why=null,this.reify=!1,this.parse=function(e,r,n){var a,i=e.childNodes;if(this.cleanParser(),e.nodeType===t.nodeType.DOCUMENT){for(var o=0;o<i.length;o++)if(i[o].nodeType===t.nodeType.ELEMENT){a=i[o];break}}else{if(e.nodeType!==t.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+r+". Halting. ");a=e}this.why=n;var s=this.frameFactory(this);return this.base=r,s.base=r,s.lang=null,this.parseDOM(this.buildFrame(s,a)),!0},this.parseDOM=function(e){var r,n=function(e){var t="";if(null==e.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base);return e.namespaceURI&&(t+=e.namespaceURI),e.localName?t+=e.localName:e.nodeName&&(e.nodeName.indexOf(":")>=0?t+=e.nodeName.split(":")[1]:t+=e.nodeName),t}.bind(this),i=!0;while(e.parent){var o=e.element,s=o.attributes;if(o.nodeType===t.nodeType.TEXT||o.nodeType===t.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(t.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(o.nodeValue);else if(n(o)!==t.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),e=this.buildFrame(e,e.element),e.parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(n(o)),this.reify&&(r=this.getAttributeNodeNS(o,t.ns.RDF,"ID"),r&&(e.rdfid=r.nodeValue,o.removeAttributeNode(r)));var u=this.getAttributeNodeNS(o,t.ns.RDF,"parseType"),c=this.getAttributeNodeNS(o,t.ns.RDF,"datatype");if(c&&(e.datatype=c.nodeValue,o.removeAttributeNode(c)),u){var l=u.nodeValue;"Literal"===l?(e.datatype=t.ns.RDF+"XMLLiteral",e=this.buildFrame(e),e.addLiteral(o.childNodes),i=!1):"Resource"===l?(e=this.buildFrame(e,e.element),e.parent.element=null,e.addBNode()):"Collection"===l&&(e=this.buildFrame(e,e.element),e.parent.element=null,e.addCollection()),o.removeAttributeNode(u)}if(0!==s.length){var d=this.getAttributeNodeNS(o,t.ns.RDF,"resource"),p=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");e=this.buildFrame(e),d?(e.addNode(d.nodeValue),o.removeAttributeNode(d)):p?(e.addBNode(p.nodeValue),o.removeAttributeNode(p)):e.addBNode();for(var f=s.length-1;f>=0;f--){var h=this.buildFrame(e);h.addArc(n(s[f])),n(s[f])===t.ns.RDF+"type"?this.buildFrame(h).addNode(s[f].nodeValue):this.buildFrame(h).addLiteral(s[f].nodeValue)}}else 0===o.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var y=this.getAttributeNodeNS(o,t.ns.RDF,"about");if(r=this.getAttributeNodeNS(o,t.ns.RDF,"ID"),y&&r)throw new Error("RDFParser: "+o.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!y&&r)e.addNode("#"+r.nodeValue),o.removeAttributeNode(r);else if(null==y&&null==r){var v=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");v?(e.addBNode(v.nodeValue),o.removeAttributeNode(v)):e.addBNode()}else e.addNode(y.nodeValue),o.removeAttributeNode(y);var g=this.getAttributeNodeNS(o,t.ns.RDF,"type");t.ns.RDF+"Description"!==n(o)&&(g={nodeValue:n(o)}),null!=g&&(this.store.add(e.node,this.store.sym(t.ns.RDF+"type"),this.store.sym(a.join(g.nodeValue,e.base)),this.why),g.nodeName&&o.removeAttributeNode(g));for(var m=s.length-1;m>=0;m--)this.store.add(e.node,this.store.sym(n(s[m])),this.store.literal(s[m].nodeValue,e.lang),this.why)}o=e.element;while(e.parent){var b=e;while(null==o)e=e.parent,o=e.element;var w=o.childNodes&&o.childNodes[e.lastChild];if(w&&i){if((w.nodeType===t.nodeType.ELEMENT||w.nodeType===t.nodeType.TEXT||w.nodeType===t.nodeType.CDATA_SECTION)&&(w.nodeType!==t.nodeType.TEXT&&w.nodeType!==t.nodeType.CDATA_SECTION||1===o.childNodes.length)){e.lastChild++,e=this.buildFrame(b,o.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;o=e.element,i=!0}}}},this.cleanParser=function(){this.bnodes={},this.why=null},this.buildFrame=function(e,r){var n=this.frameFactory(this,e,r);if(e&&(n.base=e.base,n.lang=e.lang),!r||r.nodeType===t.nodeType.TEXT||r.nodeType===t.nodeType.CDATA_SECTION)return n;var i=r.attributes,o=r.getAttributeNode("xml:base");null!=o&&(n.base=o.nodeValue,r.removeAttribute("xml:base"));var s=r.getAttributeNode("xml:lang");null!=s&&(n.lang=s.nodeValue,r.removeAttribute("xml:lang"));for(var u=i.length-1;u>=0;u--)if("xml"===i[u].nodeName.substr(0,3)){if("xmlns:"===i[u].name.slice(0,6)){var c=i[u].nodeValue;this.base&&(c=a.join(c,this.base)),this.store.setPrefixForURI(i[u].name.slice(6),c)}r.removeAttributeNode(i[u])}return n}}},c513:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r("7096"),t),a(r("13f1"),t),a(r("3e6b"),t),a(r("8ce0"),t),a(r("9935"),t),a(r("8026"),t),a(r("a22a"),t)},c6fe:function(e,t,r){"use strict";const n=r("a2c2"),a=r("4192"),i=r("29308"),o=r("14b4"),{RDF_LIST:s,RDF_FIRST:u,RDF_REST:c,RDF_NIL:l,RDF_TYPE:d,RDF_JSON_LITERAL:p,XSD_BOOLEAN:f,XSD_DOUBLE:h,XSD_INTEGER:y,XSD_STRING:v}=r("4c4c"),g=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,m={};function b(e,t,r){if(e.termType.endsWith("Node"))return{"@id":e.value};const a={"@value":e.value};if(e.language)a["@language"]=e.language;else{let s=e.datatype.value;if(s||(s=v),s===p){s="@json";try{a["@value"]=JSON.parse(a["@value"])}catch(o){throw new n("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:a["@value"],cause:o})}}if(t){if(s===f)"true"===a["@value"]?a["@value"]=!0:"false"===a["@value"]&&(a["@value"]=!1);else if(i.isNumeric(a["@value"]))if(s===y){const e=parseInt(a["@value"],10);e.toFixed(0)===a["@value"]&&(a["@value"]=e)}else s===h&&(a["@value"]=parseFloat(a["@value"]));[f,y,h,v].includes(s)||(a["@type"]=s)}else if("i18n-datatype"===r&&s.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=s.split(/[#_]/);e.length>0&&(a["@language"]=e,e.match(g)||console.warn("@language must be valid BCP47: "+e)),a["@direction"]=t}else s!==v&&(a["@type"]=s)}return a}e.exports=m,m.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:r=!1,rdfDirection:n=null})=>{const p={},f={"@default":p},h={};for(const a of e){const e="DefaultGraph"===a.graph.termType?"@default":a.graph.value;e in f||(f[e]={}),"@default"===e||e in p||(p[e]={"@id":e});const i=f[e],s=a.subject.value,u=a.predicate.value,c=a.object;s in i||(i[s]={"@id":s});const y=i[s],v=c.termType.endsWith("Node");if(v&&!(c.value in i)&&(i[c.value]={"@id":c.value}),u===d&&!t&&v){o.addValue(y,"@type",c.value,{propertyIsArray:!0});continue}const g=b(c,r,n);if(o.addValue(y,u,g,{propertyIsArray:!0}),v)if(c.value===l){const e=i[c.value];"usages"in e||(e.usages=[]),e.usages.push({node:y,property:u,value:g})}else c.value in h?h[c.value]=!1:h[c.value]={node:y,property:u,value:g}}for(const o in f){const e=f[o];if(!(l in e))continue;const t=e[l];if(t.usages){for(let r of t.usages){let t=r.node,n=r.property,o=r.value;const l=[],d=[];let p=Object.keys(t).length;while(n===c&&i.isObject(h[t["@id"]])&&i.isArray(t[u])&&1===t[u].length&&i.isArray(t[c])&&1===t[c].length&&(3===p||4===p&&i.isArray(t["@type"])&&1===t["@type"].length&&t["@type"][0]===s))if(l.push(t[u][0]),d.push(t["@id"]),r=h[t["@id"]],t=r.node,n=r.property,o=r.value,p=Object.keys(t).length,!a.isBlankNode(t))break;delete o["@id"],o["@list"]=l.reverse();for(const r of d)delete e[r]}delete t.usages}}const y=[],v=Object.keys(p).sort();for(const i of v){const e=p[i];if(i in f){const t=e["@graph"]=[],r=f[i],n=Object.keys(r).sort();for(const e of n){const n=r[e];a.isSubjectReference(n)||t.push(n)}}a.isSubjectReference(e)||y.push(e)}return y}},c749:function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("970b")),o=a(r("5bc3")),s=a(r("9523")),u=a(r("33e3")),c=r("43f5"),l=n(r("03fd")),d=new l.default,p=function(){function e(t,r,n,a){(0,i.default)(this,e),(0,s.default)(this,"subject",void 0),(0,s.default)(this,"predicate",void 0),(0,s.default)(this,"object",void 0),(0,s.default)(this,"graph",void 0),this.subject=u.default.fromValue(t),this.predicate=u.default.fromValue(r),this.object=u.default.fromValue(n),this.graph=void 0==a?d:u.default.fromValue(a)}return(0,o.default)(e,[{key:"equals",value:function(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}},{key:"substitute",value:function(t){var r=new e(this.subject.substitute(t),this.predicate.substitute(t),this.object.substitute(t),(0,l.isDefaultGraph)(this.graph)?this.graph:this.graph.substitute(t));return console.log("@@@ statement substitute:"+r),r}},{key:"toCanonical",value:function(){var e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==c.DefaultGraphTermType&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toNQ",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),(0,l.isDefaultGraph)(this.graph)?"":this.graph.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}},{key:"why",get:function(){return this.graph},set:function(e){this.graph=e}}]),e}();t.default=p},c947:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"defaultGraphURI",{enumerable:!0,get:function(){return p.defaultGraphURI}}),t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),o=n(r("3c96")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("21b4")),p=r("8fd3"),f=n(r("f7ae")),h=r("1079"),y=r("4b68"),v=r("ab32"),g=n(r("5125")),m=n(r("089a")),b=r("b19c"),w=r("43f5"),x=n(r("606c")),T=r("851f"),E=n(r("43f6")),N=n(r("03fd")),O=n(r("085a"));function _(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=I(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function I(e,t){if(e){if("string"===typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(e){var t=C();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var A="http://www.w3.org/2002/07/owl#";function D(e,t,r,n){var a=e.any(t,r,void 0);return!!a&&(e.equate(a,n),!0)}function k(e,t,r,n){var a=e.any(void 0,r,n);return!!a&&(e.equate(a,t),!0)}function j(e,t,r,n,a){e.typeCallback&&e.typeCallback(e,n,a);var i=e.classActions[e.id(n)],o=!1;if(i)for(var s=0;s<i.length;s++)o=o||i[s](e,t,r,n,a);return o}var L=function(e){(0,s.default)(r,e);var t=R(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.default)(this,r),n=t.call(this,void 0,void 0,void 0,void 0,i),(0,l.default)((0,o.default)(n),"updater",void 0),(0,l.default)((0,o.default)(n),"namespaces",void 0),(0,l.default)((0,o.default)(n),"classActions",void 0),(0,l.default)((0,o.default)(n),"propertyActions",void 0),(0,l.default)((0,o.default)(n),"redirections",void 0),(0,l.default)((0,o.default)(n),"aliases",void 0),(0,l.default)((0,o.default)(n),"HTTPRedirects",void 0),(0,l.default)((0,o.default)(n),"subjectIndex",void 0),(0,l.default)((0,o.default)(n),"predicateIndex",void 0),(0,l.default)((0,o.default)(n),"objectIndex",void 0),(0,l.default)((0,o.default)(n),"whyIndex",void 0),(0,l.default)((0,o.default)(n),"index",void 0),(0,l.default)((0,o.default)(n),"features",void 0),(0,l.default)((0,o.default)(n),"_universalVariables",void 0),(0,l.default)((0,o.default)(n),"_existentialVariables",void 0),(0,l.default)((0,o.default)(n),"rdfArrayRemove",void 0),(0,l.default)((0,o.default)(n),"dataCallbacks",void 0),n.propertyActions={},n.classActions={},n.redirections=[],n.aliases=[],n.HTTPRedirects=[],n.subjectIndex=[],n.predicateIndex=[],n.objectIndex=[],n.whyIndex=[],n.index=[n.subjectIndex,n.predicateIndex,n.objectIndex,n.whyIndex],n.namespaces={},n.features=e||["sameAs","InverseFunctionalProperty","FunctionalProperty"],n.rdfArrayRemove=i.rdfArrayRemove||y.RDFArrayRemove,i.dataCallback&&(n.dataCallbacks=[i.dataCallback]),n.initPropertyActions(n.features),n}return(0,i.default)(r,[{key:"substitute",value:function(e){var t=this.statements.map((function(t){return t.substitute(e)})),n=new r;return n.add(t),n}},{key:"addDataCallback",value:function(e){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(e)}},{key:"applyPatch",value:function(e,t,r){var n,a=this,i=null;function o(o){if(e["delete"]){n=e["delete"],i&&(n=n.substitute(i)),n=n.statements;var s=[],u=n.map((function(e){var r=a.statementsMatching(e.subject,e.predicate,e.object,t);return 0===r.length?(s.push(e),null):r[0]}));if(s.length)return r("Could not find to delete: "+s.join("\n or "));u.map((function(e){a.remove(e)}))}e["insert"]&&(n=e["insert"],i&&(n=n.substitute(i)),n=n.statements,n.map((function(e){e.graph=t,a.add(e.subject,e.predicate,e.object,e.graph)}))),o()}if(e.where){var s=new b.Query("patch");s.pat=e.where,s.pat.statements.map((function(e){e.graph=(0,T.namedNode)(t.value)})),s.sync=!0;var u=[];a.query(s,(function(e){u.push(e)}),a.fetcher,(function(){return 0===u.length?r("No match found to be patched:"+e.where):u.length>1?r("Patch ambiguous. No patch done."):(i=u[0],void o(r))}))}else o(r)}},{key:"declareExistential",value:function(e){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(e),e}},{key:"initPropertyActions",value:function(e){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[j],(0,h.ArrayIndexOf)(e,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(A,"sameAs")))]=[function(e,t,r,n,a){return e.equate(t,n),!0}]),(0,h.ArrayIndexOf)(e,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(A,"InverseFunctionalProperty")))]=[function(e,t,r,n,a){return e.newPropertyAction(t,k)}]),(0,h.ArrayIndexOf)(e,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(A,"FunctionalProperty")))]=[function(e,t,r,n,a){return e.newPropertyAction(t,D)}])}},{key:"addStatement",value:function(e){return this.add(e.subject,e.predicate,e.object,e.graph),this.statements.length}},{key:"add",value:function(e,t,r,n){var a,i,o;if(1===arguments.length){if(e instanceof Array)for(a=0;a<e.length;a++)this.add(e[a]);else(0,v.isQuad)(e)?this.add(e.subject,e.predicate,e.object,e.graph):(0,v.isStore)(e)&&this.add(e.statements);return this}n||(n=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),"string"==typeof e&&(e=this.rdfFactory.namedNode(e)),t=g.default.fromValue(t);var s=g.default.fromValue(r);if(n=g.default.fromValue(n),!(0,v.isSubject)(e))throw new Error("Subject is not a subject type");if(!(0,v.isPredicate)(t))throw new Error("Predicate ".concat(t," is not a predicate type"));if(!(0,v.isRDFlibObject)(s))throw new Error("Object ".concat(s," is not an object type"));if(!(0,v.isGraph)(n))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,t,n);var u=this.id(this.canon(t));i=this.propertyActions[u];var c=!1;if(i)for(a=0;a<i.length;a++)c=c||i[a](this,e,t,s,n);if(this.holds(e,t,s,n))return null;var l=[this.id(this.canon(e)),u,this.id(this.canon(s)),this.id(this.canon(n))];for(o=this.rdfFactory.quad(e,t,s,n),a=0;a<4;a++){var d=this.index[a],p=l[a];d[p]||(d[p]=[]),d[p].push(o)}if(this.statements.push(o),this.dataCallbacks){var f,h=_(this.dataCallbacks);try{for(h.s();!(f=h.n()).done;){var y=f.value;y(o)}}catch(m){h.e(m)}finally{h.f()}}return o}},{key:"canon",value:function(e){if(!e)return e;var t=this.redirections[this.id(e)];if(t)return t;switch(e.termType){case w.BlankNodeTermType:return new E.default(e.value);case w.CollectionTermType:return e;case w.DefaultGraphTermType:return new N.default;case w.EmptyTermType:return e;case w.GraphTermType:return e;case w.LiteralTermType:return new O.default(e.value,e.language,e.datatype);case w.NamedNodeTermType:return new x.default(e.value);case w.VariableTermType:return new m.default(e.value);default:throw new Error("Term Type not recognized for canonization: ".concat(e.termType))}}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var e=0;e<4;e++){var t=this.index[e];for(var r in t)t.hasOwnProperty(r)&&this.checkStatementList(t[r],e)}}},{key:"checkStatementList",value:function(e,t){void 0===t&&(t=0);for(var r,n=["subject","predicate","object","why"],a=" found in "+n[t]+" index.",i=0;i<e.length;i++){r=e[i];for(var o=[r.subject,r.predicate,r.object,r.graph],s=function(e,t){for(var r=0;r<e.length;r++)if(e[r].subject.equals(t.subject)&&e[r].predicate.equals(t.predicate)&&e[r].object.equals(t.object)&&e[r].why.equals(t.graph))return!0},u=0;u<4;u++){var c=this.canon(o[u]),l=this.id(c);this.index[u][l]&&s(this.index[u][l],r)}if(!s(this.statements,r))throw new Error("Statement list does not statement "+r+"@"+r.graph+a)}}},{key:"close",value:function(){return this}},{key:"compareTerms",value:function(e,t){return Object.prototype.hasOwnProperty.call(e,"compareTerm")?e.compareTerm(t):d.default[e.termType]<d.default[t.termType]?-1:d.default[e.termType]>d.default[t.termType]?1:e.value<t.value?-1:e.value>t.value?1:0}},{key:"copyTo",value:function(e,t,r){r||(r=[]);var n=this.statementsMatching(e);-1!==(0,h.ArrayIndexOf)(r,"two-direction")&&n.concat(this.statementsMatching(void 0,void 0,e));for(var a=0;a<n.length;a++){var i=n[a];switch(i.object.termType){case"NamedNode":this.add(t,i.predicate,i.object);break;case"Literal":case"BlankNode":case"Collection":this.add(t,i.predicate,i.object.copy(this))}-1!==(0,h.ArrayIndexOf)(r,"delete")&&this.remove(i)}}},{key:"equate",value:function(e,t){var r=this.canon(e),n=this.canon(t),a=this.compareTerms(r,n);return!a||(a<0?this.replaceWith(n,r):this.replaceWith(r,n))}},{key:"formula",value:function(e){return new r(e)}},{key:"match",value:function(e,t,r,n){return this.statementsMatching(g.default.fromValue(e),g.default.fromValue(t),g.default.fromValue(r),g.default.fromValue(n))}},{key:"mentionsURI",value:function(e){var t="<"+e+">";return!!this.subjectIndex[t]||!!this.objectIndex[t]||!!this.predicateIndex[t]}},{key:"newExistential",value:function(e){if(!e)return this.bnode();var t=this.sym(e);return this.declareExistential(t)}},{key:"newPropertyAction",value:function(e,t){var r=this.id(e);this.propertyActions[r]||(this.propertyActions[r]=[]),this.propertyActions[r].push(t);for(var n=this.statementsMatching(void 0,e,void 0),a=!1,i=0;i<n.length;i++)a=a||t(this,n[i].subject,e,n[i].object);return a}},{key:"newUniversal",value:function(e){var t=this.sym(e);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(t),t}},{key:"variable",value:function(e){return new m.default(e)}},{key:"nextSymbol",value:function(e){for(var t=0;;t++){var r=e.value+"#n"+t;if(!this.mentionsURI(r))return this.sym(r)}}},{key:"query",value:function(e,t,r,n){return b.indexedFormulaQuery.call(this,e,t,r,n)}},{key:"querySync",value:function(e){var t=[];function r(e){t.push(e)}function n(){a=!0}var a=!1;if(e.sync=!0,b.indexedFormulaQuery.call(this,e,r,null,n),!a)throw new Error("Sync query should have called done function");return t}},{key:"remove",value:function(e){if(e instanceof Array){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}if((0,v.isStore)(e))return this.remove(e.statements);var r=this.statementsMatching(e.subject,e.predicate,e.object,e.graph);if(!r.length)throw new Error("Statement to be removed is not on store: "+e);return this.removeStatement(r[0]),this}},{key:"removeDocument",value:function(e){for(var t=this.statementsMatching(void 0,void 0,void 0,e).slice(),r=0;r<t.length;r++)this.removeStatement(t[r]);return this}},{key:"removeMany",value:function(e,t,r,n,a){for(var i=this.statementsMatching(e,t,r,n,!1),o=[],s=0;s<i.length;s++)o.push(i[s]);for(a&&(o=o.slice(0,a)),s=0;s<o.length;s++)this.remove(o[s])}},{key:"removeMatches",value:function(e,t,r,n){return this.removeStatements(this.statementsMatching(e,t,r,n)),this}},{key:"removeStatement",value:function(e){for(var t=[e.subject,e.predicate,e.object,e.graph],r=0;r<4;r++){var n=this.canon(t[r]),a=this.id(n);this.index[r][a]&&this.rdfArrayRemove(this.index[r][a],e)}return this.rdfArrayRemove(this.statements,e),this}},{key:"removeStatements",value:function(e){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}},{key:"replaceWith",value:function(e,t){for(var r=this.id(e),n=this.id(t),a=function(e){var t=e[r];if(t){var a=e[n];e[n]=a?t.concat(a):t,delete e[r]}},i=0;i<4;i++)a(this.index[i]);if(this.redirections[r]=t,e.value){if(this.aliases[n]||(this.aliases[n]=[]),this.aliases[n].push(e),this.aliases[r])for(i=0;i<this.aliases[r].length;i++)this.redirections[this.id(this.aliases[r][i])]=t,this.aliases[n].push(this.aliases[r][i]);this.add(t,this.sym("http://www.w3.org/2007/ont/link#uri"),e),this.fetcher&&this.fetcher.nowKnownAs(e,t)}return a(this.classActions),a(this.propertyActions),!0}},{key:"allAliases",value:function(e){var t=this.aliases[this.id(this.canon(e))]||[];return t.push(this.canon(e)),t}},{key:"sameThings",value:function(e,t){if(e.equals(t))return!0;var r=this.canon(e);if(!r)return!1;var n=this.canon(t);return!!n&&r.value===n.value}},{key:"setPrefixForURI",value:function(e,t){"tab"===e&&this.namespaces["tab"]||"ns"!==e.slice(0,2)&&"default"!==e.slice(0,7)&&(this.namespaces[e]=t)}},{key:"statementsMatching",value:function(e,t,r,n,a){var i,o,s=[e,t,r,n],u=[],c=[],l=[],d=[];for(i=0;i<4;i++)u[i]=this.canon(g.default.fromValue(s[i])),u[i]?(d.push(i),c[i]=this.id(u[i])):l.push(i);if(0===d.length)return this.statements;if(1===d.length)return i=d[0],o=this.index[i][c[i]],o&&a&&o.length>1&&(o=o.slice(0,1)),o=o||[],o;var p,f,h=1e10;for(f=0;f<d.length;f++){if(i=d[f],o=this.index[i][c[i]],!o)return[];o.length<h&&(h=o.length,p=f)}for(var y=d[p],v=this.index[y][c[y]],m=d.slice(0,p).concat(d.slice(p+1)),b=[],w=["subject","predicate","object","why"],x=0;x<v.length;x++){var T=v[x];for(f=0;f<m.length;f++)if(i=m[f],!this.canon(T[w[i]]).equals(u[i])){T=null;break}if(null!=T&&(b.push(T),a))break}return b}},{key:"uris",value:function(e){var t=this.canon(e),r=this.aliases[this.id(t)];if(!t.value)return[];var n=[t.value];if(r)for(var a=0;a<r.length;a++)n.push(r[a].uri);return n}},{key:"length",get:function(){return this.statements.length}}],[{key:"defaultGraphURI",get:function(){return p.defaultGraphURI}}]),r}(f.default);t.default=L,(0,l.default)(L,"handleRDFType",void 0),L.handleRDFType=j},c973:function(e,t,r){function n(e,t,r,n,a,i,o){try{var s=e[i](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function s(e){n(o,a,i,s,u,"next",e)}function u(e){n(o,a,i,s,u,"throw",e)}s(void 0)}))}}r("d3b7"),e.exports=a,e.exports["default"]=e.exports,e.exports.__esModule=!0},cc85:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.convertToJson=s,t.convertToNQuads=u;var a=n(r("2f24")),i=n(r("45d5")),o=r("dae0");function s(e,t){var r,n=new o.Parser,s=new o.Writer({format:"N-Quads"});a.default.waterfall([function(t){n.parse(e,(function(e,r,n){e?t(e):null!==r?s.addQuad(r):s.end(t)}))},function(e,t){try{i.default.fromRDF(e,{format:"application/nquads"}).then((function(e){t(null,e)}))}catch(r){t(r)}},function(e,n){r=JSON.stringify(e),t(null,r)}],(function(e,n){t(e,r)}))}function u(e,t){var r,n=new o.Parser,i=new o.Writer({format:"N-Quads"});a.default.waterfall([function(t){n.parse(e,(function(e,r,n){e?t(e):null!==quad?i.addQuad(quad):i.end(t)}))},function(e,n){r=e,t(null,r)}],(function(e,n){t(e,r)}))}},d4a2:function(e,t){t.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",auml:"ä",Aring:"Å",aring:"å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",ouml:"ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},d63e3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringQuadToQuad=t.quadToStringQuad=t.stringToTerm=t.getLiteralLanguage=t.getLiteralType=t.getLiteralValue=t.termToString=void 0;const n=r("c513"),a=new n.DataFactory;function i(e){if(e)switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"");case"Quad":return`<<${i(e.subject)} ${i(e.predicate)} ${i(e.object)}${"DefaultGraph"===e.graph.termType?"":" "+i(e.graph)}>>`;case"Variable":return"?"+e.value;case"DefaultGraph":return e.value}}function o(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function s(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function u(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""}function c(e,t){if(t=t||a,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":if(!t.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return t.variable(e.substr(1));case'"':const r=u(e),n=t.namedNode(s(e));return t.literal(o(e),r||n);case"<":default:if(e.startsWith("<<")&&e.endsWith(">>")){const r=e.slice(2,-2),n=[];let a=0,i=0;for(let t=0;t<r.length;t++){const o=r[t];if("<"===o&&a++,">"===o){if(0===a)throw new Error("Found closing tag without opening tag in "+e);a--}" "===o&&0===a&&(n.push(r.slice(i,t)),i=t+1)}if(0!==a)throw new Error("Found opening tag without closing tag in "+e);if(n.push(r.slice(i,r.length)),3!==n.length&&4!==n.length)throw new Error("Nested quad syntax error "+e);return t.quad(c(n[0]),c(n[1]),c(n[2]),n[3]?c(n[3]):void 0)}return t.namedNode(e)}}function l(e){return{subject:i(e.subject),predicate:i(e.predicate),object:i(e.object),graph:i(e.graph)}}function d(e,t){return t=t||a,t.quad(c(e.subject,t),c(e.predicate,t),c(e.object,t),c(e.graph,t))}t.termToString=i,t.getLiteralValue=o,t.getLiteralType=s,t.getLiteralLanguage=u,t.stringToTerm=c,t.quadToStringQuad=l,t.stringQuadToQuad=d},dbce:function(e,t,r){r("d3b7"),r("3ca3"),r("10d1"),r("ddb0"),r("e439");var n=r("7037")["default"];function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r["default"]=e,t&&t.set(e,r),r}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},dfa6:function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("7037")),o=n(r("3897")),s=r("1079"),u=function(){function e(e){return encodeURI(e)}var t={encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},decode:function(e){var t="",r=0;while(r<e.length){var n=e.charCodeAt(r);n<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(t+=String.fromCharCode((31&n)<<6|63&e.charCodeAt(r+1)),r+=2):(t+=String.fromCharCode((15&n)<<12|(63&e.charCodeAt(r+1))<<6|63&e.charCodeAt(r+2)),r+=3)}return t}},r="http://www.w3.org/2000/10/swap/log#",n=function(e){return e},a=function(e){return e},u=function(e){if(e.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},c=function(e){return e.length},l=function(e,t,r){if("undefined"==typeof e.slice)throw"@@ mising.js: No .slice function for "+e+" of type "+(0,i.default)(e);return"undefined"==typeof r||null==r?e.slice(t):e.slice(t,r)},d=Error("dummy error stop iteration"),p=function(e){return this.last=0,this.li=e,this.next=function(){if(this.last==this.li.length)throw d;return this.li[this.last++]},this},f=function(e,t){return e.indexOf(t)},h=function(e,t){if(!e){if(t)throw"python Assertion failed: "+t;throw"(python) Assertion failed."}},y=function(e){return String.fromCharCode(e)};String.prototype.encode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return t.encode(this)},String.prototype.decode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return this};var v=function(e,t){return o.join(t,e)},g=null,m=0,b=0,w=function(e){},x="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",T="http://www.w3.org/2002/07/owl#sameAs";var E="#",N="http://www.w3.org/2001/XMLSchema#integer",O="http://www.w3.org/2001/XMLSchema#double",_="http://www.w3.org/2001/XMLSchema#decimal",I="http://www.w3.org/2001/XMLSchema#date",S="http://www.w3.org/2001/XMLSchema#dateTime",R="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",C=R+":",A=(new RegExp("^[ \\t]*(#[^\\n]*)?\\r?\\n","g"),new RegExp("^[ \\t]*(#[^\\n]*)?$","g"),new RegExp("^[ \\t]*","g"),new RegExp("^[-+]?[0-9]+","g"),new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g")),D=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),k=(new RegExp("^[0-9]+","g"),new RegExp('[\\\\\\r\\n\\"]',"g")),j=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");function L(e,t,r,n,a,i,o,s){return new P(e,t,r,n,a,i,o,s)}function P(e,t,r,n,i,o,s,c){"undefined"==typeof t&&(t=null),"undefined"==typeof r&&(r=""),"undefined"==typeof n&&(n=null),"undefined"==typeof i&&(i=""),"undefined"==typeof o&&(o=null),"undefined"==typeof s&&(s=""),"undefined"==typeof c&&(c=null),this._bindings=new u([]),this._flags=s,""!=r&&(h(r.indexOf(":")>=0,"Document URI not absolute: "+r),this._bindings[""]=r+"#"),this._store=e,i&&e.setGenPrefix(i),this._thisDoc=r,this.source=e.sym(r),this.lines=0,this.statementCount=0,this.startOfLine=0,this.previousLine=0,this._genPrefix=i,this.keywords=new a(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new u([]),this._variables=new u([]),this._parentVariables=new u([]),this._reason=c,this._reason2=null,m&&(this._reason2=why_BecauseOfData(e.sym(r),this._reason)),this._baseURI=n||(r||null),h(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),null==t?this._thisDoc?this._formula=e.formula(r+"#_formula"):this._formula=e.formula():this._formula=t,this._context=this._formula,this._parentContext=null}function F(e,t,r,n,a){this._str=r.encode("utf-8"),this._str=r,this._i=n,this._why=a,this.lines=t,this._uri=e}function M(e,t,r,n,a){var i=t+1,o="Line "+i+" of <"+e+">: Bad syntax: "+a+'\nat: "'+r.slice(n,n+30)+'"',s=new SyntaxError(o,e,i);return s.lineNo=i,s.characterInFile=n,s.syntaxProblem=a,s}return P.prototype.here=function(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)},P.prototype.formula=function(){return this._formula},P.prototype.loadStream=function(e){return this.loadBuf(e.read())},P.prototype.loadBuf=function(e){return this.startDoc(),this.feed(e),this.endDoc()},P.prototype.feed=function(e){var t=e.decode("utf-8"),r=0;while(r>=0){var n=this.skipSpace(t,r);if(n<0)return;r=this.directiveOrStatement(t,n);if(r<0)throw M(this._thisDoc,this.lines,t,n,"expected directive or statement")}},P.prototype.directiveOrStatement=function(e,t){var r=this.skipSpace(e,t);if(r<0)return r;var n=this.directive(e,r);if(n>=0)return this.checkDot(e,n);n=this.statement(e,r);return n>=0?this.checkDot(e,n):n},P.prototype.tok=function(e,t,r){if("@"==t.slice(r,r+1))r=r+1;else if((0,s.ArrayIndexOf)(this.keywords,e)<0)return-1;var n=r+c(e);return t.slice(r,n)==e&&R.indexOf(t.charAt(n))>=0?n:-1},P.prototype.directive=function(t,r){var n=this.skipSpace(t,r);if(n<0)return n;var i=new a([]);n=this.tok("bind",t,r);if(n>0)throw M(this._thisDoc,this.lines,t,r,"keyword bind is obsolete: use @prefix");n=this.tok("keywords",t,r);if(n>0){r=this.commaSeparatedList(t,n,i,!1);if(r<0)throw M(this._thisDoc,this.lines,t,r,"'@keywords' needs comma separated list of words");return this.setKeywords(l(i,null,null)),b>80&&w("Keywords ",this.keywords),r}n=this.tok("forAll",t,r);if(n>0){r=this.commaSeparatedList(t,n,i,!0);if(r<0)throw M(this._thisDoc,this.lines,t,r,"Bad variable list after @forAll");var o=new p(i);try{while(1){var u=o.next();((0,s.ArrayIndexOf)(this._variables,u)<0||(0,s.ArrayIndexOf)(this._parentVariables,u)>=0)&&(this._variables[u]=this._context.newUniversal(u))}}catch(y){if(y!=d)throw y}return r}n=this.tok("forSome",t,r);if(n>0){r=this.commaSeparatedList(t,n,i,this.uri_ref2);if(r<0)throw M(this._thisDoc,this.lines,t,r,"Bad variable list after @forSome");o=new p(i);try{while(1){u=o.next();this._context.declareExistential(u)}}catch(y){if(y!=d)throw y}return r}n=this.tok("prefix",t,r);if(n>=0){var c=new a([]);r=this.qname(t,n,c);if(r<0)throw M(this._thisDoc,this.lines,t,n,"expected qname after @prefix");n=this.uri_ref2(t,r,c);if(n<0)throw M(this._thisDoc,this.lines,t,r,"expected <uriref> after @prefix _qname_");var f=c[1].uri;if(this._baseURI)f=v(this._baseURI,f);else h(f.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return h(f.indexOf(":")>=0),this._bindings[c[0][0]]=f,this.bind(c[0][0],e(f)),n}n=this.tok("base",t,r);if(n>=0){c=new a([]),r=this.uri_ref2(t,n,c);if(r<0)throw M(this._thisDoc,this.lines,t,n,"expected <uri> after @base ");f=c[0].uri;if(!this._baseURI)throw M(this._thisDoc,this.lines,t,n,"With no previous base URI, cannot use relative URI in @base  <"+f+">");f=v(this._baseURI,f);return h(f.indexOf(":")>=0),this._baseURI=f,r}return-1},P.prototype.bind=function(e,t){""==e||this._store.setPrefixForURI(e,t)},P.prototype.setKeywords=function(e){null==e?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)},P.prototype.startDoc=function(){},P.prototype.endDoc=function(){return this._formula},P.prototype.makeStatement=function(e){e[0].add(e[2],e[1],e[3],this.source),this.statementCount+=1},P.prototype.statement=function(e,t){var r=new a([]);t=this.object(e,t,r);if(t<0)return t;var n=this.property_list(e,t,r[0]);if(n<0)throw M(this._thisDoc,this.lines,e,t,"expected propertylist");return n},P.prototype.subject=function(e,t,r){return this.item(e,t,r)},P.prototype.verb=function(e,t,i){var o=this.skipSpace(e,t);if(o<0)return o;var s=new a([]);o=this.tok("has",e,t);if(o>=0){t=this.prop(e,o,s);if(t<0)throw M(this._thisDoc,this.lines,e,o,"expected property after 'has'");return i.push(new n(["->",s[0]])),t}o=this.tok("is",e,t);if(o>=0){t=this.prop(e,o,s);if(t<0)throw M(this._thisDoc,this.lines,e,o,"expected <property> after 'is'");o=this.skipSpace(e,t);if(o<0)throw M(this._thisDoc,this.lines,e,t,"End of file found, expected property after 'is'");t=o,o=this.tok("of",e,t);if(o<0)throw M(this._thisDoc,this.lines,e,t,"expected 'of' after 'is' <prop>");return i.push(new n(["<-",s[0]])),o}o=this.tok("a",e,t);if(o>=0)return i.push(new n(["->",this._store.sym(x)])),o;if("<="==e.slice(t,t+2))return i.push(new n(["<-",this._store.sym(r+"implies")])),t+2;if("="==e.slice(t,t+1))return">"==e.slice(t+1,t+2)?(i.push(new n(["->",this._store.sym(r+"implies")])),t+2):(i.push(new n(["->",this._store.sym(T)])),t+1);if(":="==e.slice(t,t+2))return i.push(new n(["->",r+"becomes"])),t+2;o=this.prop(e,t,s);if(o>=0)return i.push(new n(["->",s[0]])),o;if(">-"==e.slice(t,t+2)||"<-"==e.slice(t,t+2))throw M(this._thisDoc,this.lines,e,o,">- ... -> syntax is obsolete.");return-1},P.prototype.prop=function(e,t,r){return this.item(e,t,r)},P.prototype.item=function(e,t,r){return this.path(e,t,r)},P.prototype.blankNode=function(e){return this._context.bnode(e,this._reason2)},P.prototype.path=function(e,t,r){var a=this.nodeOrLiteral(e,t,r);if(a<0)return a;while("!^.".indexOf(e.slice(a,a+1))>=0){var i=e.slice(a,a+1);if("."==i){var o=e.slice(a+1,a+2);if(!o||C.indexOf(o)>=0&&":?<[{(".indexOf(o)<0)break}var s=r.pop(),u=this.blankNode(this.here(a));a=this.node(e,a+1,r);if(a<0)throw M(this._thisDoc,this.lines,e,a,"EOF found in middle of path syntax");var c=r.pop();"^"==i?this.makeStatement(new n([this._context,c,u,s])):this.makeStatement(new n([this._context,c,s,u])),r.push(u)}return a},P.prototype.anonymousNode=function(e){var t=this._anonymousNodes[e];if(t)return t;t=this._store.bnode(e);return this._anonymousNodes[e]=t,t},P.prototype.node=function(e,t,r,i){"undefined"==typeof i&&(i=null);var o=i,s=this.skipSpace(e,t);if(s<0)return s;t=s;var l=e.slice(t,t+1);if("["==l){var f=this.here(t);s=this.skipSpace(e,t+1);if(s<0)throw M(this._thisDoc,this.lines,e,t,"EOF after '['");if("="==e.slice(s,s+1)){t=s+1;var h=new a([]);s=this.objectList(e,t,h);if(!(s>=0))throw M(this._thisDoc,this.lines,e,t,"objectList expected after [= ");o=h[0];if(c(h)>1){var y=new p(h);try{while(1){var v=y.next();this.makeStatement(new n([this._context,this._store.sym(T),o,v]))}}catch(S){if(S!=d)throw S}}s=this.skipSpace(e,s);if(s<0)throw M(this._thisDoc,this.lines,e,t,"EOF when objectList expected after [ = ");if(";"==e.slice(s,s+1))s=s+1}if(null==o)o=this.blankNode(f);t=this.property_list(e,s,o);if(t<0)throw M(this._thisDoc,this.lines,e,s,"property_list expected");s=this.skipSpace(e,t);if(s<0)throw M(this._thisDoc,this.lines,e,t,"EOF when ']' expected after [ <propertyList>");if("]"!=e.slice(s,s+1))throw M(this._thisDoc,this.lines,e,s,"']' expected");return r.push(o),s+1}if("{"==l){var m=e.slice(t+1,t+2);if("$"==m){t+=1;s=t+1;var b=new a([]),w=!0;while(1){t=this.skipSpace(e,s);if(t<0)throw M(this._thisDoc,this.lines,e,t,"needed '$}', found end.");if("$}"==e.slice(t,t+2)){s=t+2;break}if(w)w=!1;else{if(","!=e.slice(t,t+1))throw M(this._thisDoc,this.lines,e,t,"expected: ','");t+=1}var x=new a([]);s=this.item(e,t,x);if(s<0)throw M(this._thisDoc,this.lines,e,t,"expected item in set or '$}'");b.push(x[0])}return r.push(this._store.newSet(b,this._context)),s}s=t+1;var E=this._parentContext;this._parentContext=this._context;var N=this._anonymousNodes,O=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new u([]),this._variables=this._variables.slice();var _=this._reason2;if(this._reason2=g,null==o)o=this._store.formula();this._context=o;while(1){t=this.skipSpace(e,s);if(t<0)throw M(this._thisDoc,this.lines,e,t,"needed '}', found end.");if("}"==e.slice(t,t+1)){s=t+1;break}s=this.directiveOrStatement(e,t);if(s<0)throw M(this._thisDoc,this.lines,e,t,"expected statement or '}'")}return this._anonymousNodes=N,this._variables=this._parentVariables,this._parentVariables=O,this._context=this._parentContext,this._reason2=_,this._parentContext=E,r.push(o.close()),s}if("("==l){var I=this._store.list;m=e.slice(t+1,t+2);if("$"==m){I=this._store.newSet;t+=1}s=t+1,b=new a([]);while(1){t=this.skipSpace(e,s);if(t<0)throw M(this._thisDoc,this.lines,e,t,"needed ')', found end.");if(")"==e.slice(t,t+1)){s=t+1;break}x=new a([]),s=this.item(e,t,x);if(s<0)throw M(this._thisDoc,this.lines,e,t,"expected item in list or ')'");b.push(x[0])}return r.push(I(b,this._context)),s}s=this.tok("this",e,t);if(s>=0)throw M(this._thisDoc,this.lines,e,t,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");s=this.tok("true",e,t);if(s>=0)return r.push(!0),s;s=this.tok("false",e,t);if(s>=0)return r.push(!1),s;if(null==o){s=this.uri_ref2(e,t,r);if(s>=0)return s}return-1},P.prototype.property_list=function(e,t,r){while(1){var i=this.skipSpace(e,t);if(i<0)throw M(this._thisDoc,this.lines,e,t,"EOF found when expected verb in property list");if(":-"!=e.slice(i,i+2)){t=i;var o=new a([]);i=this.verb(e,t,o);if(i<=0)return t;var s=new a([]);t=this.objectList(e,i,s);if(t<0)throw M(this._thisDoc,this.lines,e,i,"objectList expected");var u=new p(s);try{while(1){var c=u.next(),l=o[0],f=l[0],h=l[1];"->"==f?this.makeStatement(new n([this._context,h,r,c])):this.makeStatement(new n([this._context,h,c,r]))}}catch(v){if(v!=d)throw v}i=this.skipSpace(e,t);if(i<0)throw M(this._thisDoc,this.lines,e,i,"EOF found in list of objects");if(";"!=e.slice(t,t+1))return t;t=t+1}else{var t=i+2,y=new a([]),i=this.node(e,t,y,r);if(i<0)throw M(this._thisDoc,this.lines,e,t,"bad {} or () or [] node after :- ");var t=i}}},P.prototype.commaSeparatedList=function(e,t,r,n){var a=this.skipSpace(e,t);if(a<0)throw M(this._thisDoc,this.lines,e,a,"EOF found expecting comma sep list");if("."==e.charAt(a))return t;if(n)a=this.uri_ref2(e,a,r);else a=this.bareWord(e,a,r);if(a<0)return-1;while(1){t=this.skipSpace(e,a);if(t<0)return t;var i=e.slice(t,t+1);if(","!=i)return"."!=i?-1:t;if(n)a=this.uri_ref2(e,t+1,r);else a=this.bareWord(e,t+1,r);if(a<0)throw M(this._thisDoc,this.lines,e,a,"bad list content")}},P.prototype.objectList=function(e,t,r){t=this.object(e,t,r);if(t<0)return-1;while(1){var n=this.skipSpace(e,t);if(n<0)throw M(this._thisDoc,this.lines,e,n,"EOF found after object");if(","!=e.slice(n,n+1))return n;t=this.object(e,n+1,r);if(t<0)return t}},P.prototype.checkDot=function(e,t){var r=this.skipSpace(e,t);if(r<0)return r;if("."==e.slice(r,r+1))return r+1;if("}"==e.slice(r,r+1))return r;if("]"==e.slice(r,r+1))return r;throw M(this._thisDoc,this.lines,e,r,"expected '.' or '}' or ']' at end of statement")},P.prototype.uri_ref2=function(e,t,r){var n=new a([]),i=this.qname(e,t,n);if(i>=0){var o=n[0],u=o[0],d=o[1];if(null==u){h(0,"not used?");var p=this._baseURI+E}else{p=this._bindings[u];if(!p){if("_"==u)return r.push(this.anonymousNode(d)),i;throw M(this._thisDoc,this.lines,e,t,"Prefix "+u+" not bound.")}}var f=this._store.sym(p+d);return(0,s.ArrayIndexOf)(this._variables,f)>=0?r.push(this._variables[f]):r.push(f),i}t=this.skipSpace(e,t);if(t<0)return-1;if("?"==e.charAt(t)){var y=new a([]);i=this.variable(e,t,y);return i>0?(r.push(y[0]),i):-1}if("<"==e.charAt(t)){t=t+1;var g=t;while(t<c(e)){if(">"==e.charAt(t)){var m=e.slice(g,t);if(this._baseURI)m=v(this._baseURI,m);else h(m.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if("#"==e.slice(t-1,t)&&"#"!=l(m,-1,null))m=m+"#";f=this._store.sym(m);return(0,s.ArrayIndexOf)(this._variables,f)>=0?r.push(this._variables[f]):r.push(f),t+1}t=t+1}throw M(this._thisDoc,this.lines,e,i,"unterminated URI reference")}if(this.keywordsSet){y=new a([]),i=this.bareWord(e,t,y);if(i<0)return-1;if((0,s.ArrayIndexOf)(this.keywords,y[0])>=0)throw M(this._thisDoc,this.lines,e,t,'Keyword "'+y[0]+'" not allowed here.');return r.push(this._store.sym(this._bindings[""]+y[0])),i}return-1},P.prototype.skipSpace=function(e,t){for(var r=" \n\r\t\f\v            ​\u2028\u2029　",n=t||0;n<e.length;n++){var a=e.charAt(n);if(r.indexOf(a)<0){if("#"!==e.charAt(n))return n;for(;;n++){if(n===e.length)return-1;if("\n"===e.charAt(n)){this.lines=this.lines+1;break}}}else"\n"===e.charAt(n)&&(this.lines=this.lines+1)}return-1},P.prototype.variable=function(e,t,r){var n=this.skipSpace(e,t);if(n<0)return-1;if("?"!=e.slice(n,n+1))return-1;n+=1,t=n;if("0123456789-".indexOf(e.charAt(n))>=0)throw M(this._thisDoc,this.lines,e,n,"Varible name can't start with '"+e.charAt(n)+"s'");while(t<c(e)&&C.indexOf(e.charAt(t))<0)t=t+1;if(null==this._parentContext)throw M(this._thisDoc,this.lines,e,n,"Can't use ?xxx syntax for variable in outermost level: "+e.slice(n-1,t));return r.push(this._store.variable(e.slice(n,t))),t},P.prototype.bareWord=function(e,t,r){var n=this.skipSpace(e,t);if(n<0)return-1;var a=e.charAt(n);if("0123456789-".indexOf(a)>=0)return-1;if(C.indexOf(a)>=0)return-1;t=n;while(t<c(e)&&C.indexOf(e.charAt(t))<0)t=t+1;return r.push(e.slice(n,t)),t},P.prototype.qname=function(e,t,r){t=this.skipSpace(e,t);if(t<0)return-1;var a=e.charAt(t);if("0123456789-+".indexOf(a)>=0)return-1;if(C.indexOf(a)<0){var i=a;t=t+1;while(t<c(e)){a=e.charAt(t);if(!(C.indexOf(a)<0))break;i=i+a,t=t+1}}else i="";if(t<c(e)&&":"==e.charAt(t)){var o=i;t=t+1,i="";while(t<c(e)){a=e.charAt(t);if(!(C.indexOf(a)<0))break;i=i+a,t=t+1}return r.push(new n([o,i])),t}return i&&this.keywordsSet&&(0,s.ArrayIndexOf)(this.keywords,i)<0?(r.push(new n(["",i])),t):-1},P.prototype.object=function(e,t,r){var n=this.subject(e,t,r);if(n>=0)return n;n=this.skipSpace(e,t);if(n<0)return-1;t=n;var a=null,i=e.charAt(t);if('"'==i||"'"==i){a=e.slice(t,t+3==i+i)?i+i+i:i;t=t+c(a);var o=this.strconst(e,t,a),s=(n=o[0],o[1]);return r.push(this._store.literal(s)),w("New string const ",s,n),n}return-1},P.prototype.nodeOrLiteral=function(e,t,r){var n=this.node(e,t,r);if(n>=0)return n;n=this.skipSpace(e,t);if(n<0)return-1;t=n;var i=e.charAt(t);if("-+0987654321".indexOf(i)>=0){D.lastIndex=0;var o=D.exec(e.slice(t));if(null!=o){var s=o[0];n=t+s.length,s.indexOf("T")>=0?r.push(this._store.literal(s,this._store.sym(S))):r.push(this._store.literal(s,this._store.sym(I)))}else{A.lastIndex=0;o=A.exec(e.slice(t));if(null==o)throw M(this._thisDoc,this.lines,e,t,"Bad number or date syntax");n=t+A.lastIndex;s=e.slice(t,n);s.indexOf("e")>=0?r.push(this._store.literal(parseFloat(s),this._store.sym(O))):e.slice(t,n).indexOf(".")>=0?r.push(this._store.literal(parseFloat(s),this._store.sym(_))):r.push(this._store.literal(parseInt(s),this._store.sym(N)))}return n}if('"'==e.charAt(t)){if('"""'==e.slice(t,t+3))var u='"""';else u='"';t=t+c(u);var l=null,d=this.strconst(e,t,u),p=(n=d[0],d[1]),f=null;if("@"==e.slice(n,n+1)){j.lastIndex=0;o=j.exec(e.slice(n+1));if(null==o)throw M(this._thisDoc,startline,e,t,"Bad language code syntax on string literal, after @");t=j.lastIndex+n+1,f=e.slice(n+1,t),n=t}if("^^"==e.slice(n,n+2)){var h=new a([]);n=this.uri_ref2(e,n+2,h),l=h[0]}return r.push(this._store.literal(p,f||l)),n}return-1},P.prototype.strconst=function(e,t,r){var a=t,i="",o=this.lines;while(a<c(e)){t=a+c(r);if(e.slice(a,t)==r)return new n([t,i]);if('"'!=e.charAt(a)){k.lastIndex=0;var s=k.exec(e.slice(a));if(!s)throw M(this._thisDoc,o,e,a,"Closing quote missing in string at ^ in "+e.slice(a-20,a)+"^"+e.slice(a,a+20));t=a+k.lastIndex-1,i=i+e.slice(a,t);var u=e.charAt(t);if('"'!=u)if("\r"!=u){if("\n"==u){if('"'==r)throw M(this._thisDoc,o,e,t,"newline found in string literal");this.lines=this.lines+1;i=i+u,a=t+1;this.previousLine=this.startOfLine,this.startOfLine=a}else if("\\"==u){a=t+1,u=e.slice(a,a+1);if(!u)throw M(this._thisDoc,o,e,t,"unterminated string literal (2)");var l=f('abfrtvn\\"',u);if(l>=0){var d='a\b\f\r\t\v\n\\"'.charAt(l);i=i+d,a=a+1}else if("u"==u){var p=this.uEscape(e,a+1,o);a=p[0],u=p[1],i=i+u}else{if("U"!=u)throw M(this._thisDoc,this.lines,e,t,"bad escape");p=this.UEscape(e,a+1,o),a=p[0],u=p[1],i=i+u}}}else var a=t+1;else var a=t}else var i=i+'"',a=a+1}throw M(this._thisDoc,this.lines,e,t,"unterminated string literal")},P.prototype.uEscape=function(e,t,r){var a=t,i=0,o=0;while(i<4){var s=e.slice(a,a+1),u=s.toLowerCase();a=a+1;if(""==u)throw M(this._thisDoc,r,e,t,"unterminated string literal(3)");var c=f("0123456789abcdef",u);if(c<0)throw M(this._thisDoc,r,e,t,"bad string literal hex escape");o=16*o+c,i=i+1}var l=String.fromCharCode(o);return new n([a,l])},P.prototype.UEscape=function(e,t,r){var a=t,i=0,o="\\U";while(i<8){var s=e.slice(a,a+1),u=s.toLowerCase();a=a+1;if(""==u)throw M(this._thisDoc,r,e,t,"unterminated string literal(3)");var c=f("0123456789abcdef",u);if(c<0)throw M(this._thisDoc,r,e,t,"bad string literal hex escape");o=o+u,i=i+1}var d=y("0x"+l(o,2,10)-0);return new n([a,d])},F.prototype.toString=function(){var e=this._str,t=this._i,r=0;if(t>60){var a="...";r=t-60}else a="";if(c(e)-t>60)var i="...";else i="";return'Line %i of <%s>: Bad syntax (%s) at ^ in:\n"%s%s^%s%s"'%new n([this.lines+1,this._uri,this._why,a,e.slice(r,t),e.slice(t,t+60),i])},L}();t.default=u},e1b7:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.jsonldObjectToTerm=o,t.default=c;var a=n(r("45d5")),i=r("1079");function o(e,t){return"string"===typeof t?e.rdfFactory.literal(t):Object.prototype.hasOwnProperty.call(t,"@list")?!0===e.rdfFactory.supports["COLLECTIONS"]?u(e,t["@list"]):s(e,t):Object.prototype.hasOwnProperty.call(t,"@id")?e.rdfFactory.namedNode(t["@id"]):Object.prototype.hasOwnProperty.call(t,"@language")?e.rdfFactory.literal(t["@value"],t["@language"]):Object.prototype.hasOwnProperty.call(t,"@type")?e.rdfFactory.literal(t["@value"],e.rdfFactory.namedNode(t["@type"])):Object.prototype.hasOwnProperty.call(t,"@value")?e.rdfFactory.literal(t["@value"]):e.rdfFactory.literal(t)}function s(e,t){var r=t["@id"]?e.rdfFactory.namedNode(t["@id"]):e.rdfFactory.blankNode(),n=t["@list"].map((function(t){return o(e,t)})),a=(0,i.arrayToStatements)(e.rdfFactory,r,n);return e.addAll(a),r}function u(e,t){if(!Array.isArray(t))throw new TypeError("Object must be an array");return e.rdfFactory.collection(t.map((function(t){return o(e,t)})))}function c(e,t,r,n){var i=r&&Object.prototype.hasOwnProperty.call(r,"termType")?r.value:r;return a.default.flatten(JSON.parse(e),null,{base:i}).then((function(e){return e.reduce((function(e,r){for(var n=r["@id"]?t.rdfFactory.namedNode(r["@id"]):t.rdfFactory.blankNode(),a=0,i=Object.keys(r);a<i.length;a++){var s=i[a];if("@id"!==s){var u=r[s];if(Array.isArray(u))for(var c=0;c<u.length;c++)t.addStatement(t.rdfFactory.quad(n,t.rdfFactory.namedNode(s),o(t,u[c])));else t.addStatement(t.rdfFactory.quad(n,t.rdfFactory.namedNode(s),o(t,u)))}}return t}),t)})).then(n).catch(n)}},e2a7e:function(e,t,r){"use strict";const n=r("05ca"),a=r("036f"),i=r("14ff"),o=r("03005");function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}main(e){this.quads=e;for(const n of e)this._addBlankNodeQuadInfo({quad:n,component:n.subject}),this._addBlankNodeQuadInfo({quad:n,component:n.object}),this._addBlankNodeQuadInfo({quad:n,component:n.graph});const t=new Map,r=[...this.blankNodeInfo.keys()];for(const n of r)this._hashAndTrackBlankNode({id:n,hashToBlankNodes:t});const a=[...t.keys()].sort(),i=[];for(const n of a){const e=t.get(n);if(e.length>1){i.push(e);continue}const r=e[0];this.canonicalIssuer.getId(r)}for(const o of i){const e=[];for(const t of o){if(this.canonicalIssuer.hasId(t))continue;const r=new n("_:b");r.getId(t);const a=this.hashNDegreeQuads(t,r);e.push(a)}e.sort(s);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const u=[];for(const n of this.quads){const e={...n};e.subject=this._useCanonicalId({component:e.subject}),e.object=this._useCanonicalId({component:e.object}),e.graph=this._useCanonicalId({component:e.graph}),u.push(o.serializeQuad(e))}return u.sort(),u.join("")}hashFirstDegreeQuads(e){const t=[],r=this.blankNodeInfo.get(e),n=r.quads;for(const a of n){const r={subject:null,predicate:a.predicate,object:null,graph:null};r.subject=this.modifyFirstDegreeComponent(e,a.subject,"subject"),r.object=this.modifyFirstDegreeComponent(e,a.object,"object"),r.graph=this.modifyFirstDegreeComponent(e,a.graph,"graph"),t.push(o.serializeQuad(r))}t.sort();const i=new a(this.hashAlgorithm);for(const a of t)i.update(a);return r.hash=i.digest(),r.hash}hashRelatedBlankNode(e,t,r,n){let i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;const o=new a(this.hashAlgorithm);return o.update(n),"g"!==n&&o.update(this.getRelatedPredicate(t)),o.update(i),o.digest()}hashNDegreeQuads(e,t){const r=new a(this.hashAlgorithm),n=this.createHashToRelated(e,t),o=[...n.keys()].sort();for(const a of o){r.update(a);let e,o="";const s=new i(n.get(a));while(s.hasNext()){const r=s.next();let n=t.clone(),a="";const i=[];let u=!1;for(const e of r)if(this.canonicalIssuer.hasId(e)?a+=this.canonicalIssuer.getId(e):(n.hasId(e)||i.push(e),a+=n.getId(e)),0!==o.length&&a>o){u=!0;break}if(!u){for(const e of i){const t=this.hashNDegreeQuads(e,n);if(a+=n.getId(e),a+=`<${t.hash}>`,n=t.issuer,0!==o.length&&a>o){u=!0;break}}u||(0===o.length||a<o)&&(o=a,e=n)}}r.update(o),t=e}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;for(const a of n)this._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:e,issuer:t,hashToRelated:r});return r}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const r=this.hashFirstDegreeQuads(e),n=t.get(r);n?n.push(e):t.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const r=t.value,n=this.blankNodeInfo.get(r);n?n.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:t,position:r,id:n,issuer:a,hashToRelated:i}){if("BlankNode"!==t.termType||t.value===n)return;const o=t.value,s=this.hashRelatedBlankNode(o,e,a,r),u=i.get(s);u?u.push(o):i.set(s,[o])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}}},e2d8:function(e,t,r){(function(t){var r=200,n="__lodash_hash_undefined__",a=1/0,i="[object Function]",o="[object GeneratorFunction]",s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,d=c||l||Function("return this")();function p(e,t){var r=e?e.length:0;return!!r&&y(e,t,0)>-1}function f(e,t,r){var n=-1,a=e?e.length:0;while(++n<a)if(r(t,e[n]))return!0;return!1}function h(e,t,r,n){var a=e.length,i=r+(n?1:-1);while(n?i--:++i<a)if(t(e[i],i,e))return i;return-1}function y(e,t,r){if(t!==t)return h(e,v,r);var n=r-1,a=e.length;while(++n<a)if(e[n]===t)return n;return-1}function v(e){return e!==e}function g(e,t){return e.has(t)}function m(e,t){return null==e?void 0:e[t]}function b(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}function w(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var x=Array.prototype,T=Function.prototype,E=Object.prototype,N=d["__core-js_shared__"],O=function(){var e=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_=T.toString,I=E.hasOwnProperty,S=E.toString,R=RegExp("^"+_.call(I).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=x.splice,A=oe(d,"Map"),D=oe(d,"Set"),k=oe(Object,"create");function j(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function L(){this.__data__=k?k(null):{}}function P(e){return this.has(e)&&delete this.__data__[e]}function F(e){var t=this.__data__;if(k){var r=t[e];return r===n?void 0:r}return I.call(t,e)?t[e]:void 0}function M(e){var t=this.__data__;return k?void 0!==t[e]:I.call(t,e)}function U(e,t){var r=this.__data__;return r[e]=k&&void 0===t?n:t,this}function V(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function B(){this.__data__=[]}function q(e){var t=this.__data__,r=te(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():C.call(t,r,1),!0}function G(e){var t=this.__data__,r=te(t,e);return r<0?void 0:t[r][1]}function $(e){return te(this.__data__,e)>-1}function H(e,t){var r=this.__data__,n=te(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}function X(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Q(){this.__data__={hash:new j,map:new(A||V),string:new j}}function z(e){return ie(this,e)["delete"](e)}function J(e){return ie(this,e).get(e)}function W(e){return ie(this,e).has(e)}function Y(e,t){return ie(this,e).set(e,t),this}function K(e){var t=-1,r=e?e.length:0;this.__data__=new X;while(++t<r)this.add(e[t])}function Z(e){return this.__data__.set(e,n),this}function ee(e){return this.__data__.has(e)}function te(e,t){var r=e.length;while(r--)if(de(e[r][0],t))return r;return-1}function re(e){if(!fe(e)||ue(e))return!1;var t=pe(e)||b(e)?R:u;return t.test(ce(e))}function ne(e,t,n){var a=-1,i=p,o=e.length,s=!0,u=[],c=u;if(n)s=!1,i=f;else if(o>=r){var l=t?null:ae(e);if(l)return w(l);s=!1,i=g,c=new K}else c=t?[]:u;e:while(++a<o){var d=e[a],h=t?t(d):d;if(d=n||0!==d?d:0,s&&h===h){var y=c.length;while(y--)if(c[y]===h)continue e;t&&c.push(h),u.push(d)}else i(c,h,n)||(c!==u&&c.push(h),u.push(d))}return u}j.prototype.clear=L,j.prototype["delete"]=P,j.prototype.get=F,j.prototype.has=M,j.prototype.set=U,V.prototype.clear=B,V.prototype["delete"]=q,V.prototype.get=G,V.prototype.has=$,V.prototype.set=H,X.prototype.clear=Q,X.prototype["delete"]=z,X.prototype.get=J,X.prototype.has=W,X.prototype.set=Y,K.prototype.add=K.prototype.push=Z,K.prototype.has=ee;var ae=D&&1/w(new D([,-0]))[1]==a?function(e){return new D(e)}:he;function ie(e,t){var r=e.__data__;return se(t)?r["string"==typeof t?"string":"hash"]:r.map}function oe(e,t){var r=m(e,t);return re(r)?r:void 0}function se(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ue(e){return!!O&&O in e}function ce(e){if(null!=e){try{return _.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function le(e,t){return e&&e.length?ne(e,void 0,t):[]}function de(e,t){return e===t||e!==e&&t!==t}function pe(e){var t=fe(e)?S.call(e):"";return t==i||t==o}function fe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function he(){}e.exports=le}).call(this,r("c8ba"))},e40c:function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("7037")),o=a(r("970b")),s=a(r("5bc3")),u=a(r("9523")),c=a(r("c947")),l=r("3897"),d=a(r("902d")),p=a(r("491a")),f=a(r("7971")),h=r("ab32"),y=n(r("4b68")),v=r("073a");function g(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function m(e,t){if(e){if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=function(){function e(t){if((0,o.default)(this,e),(0,u.default)(this,"store",void 0),(0,u.default)(this,"ifps",void 0),(0,u.default)(this,"fps",void 0),(0,u.default)(this,"patchControl",void 0),(0,u.default)(this,"ns",void 0),t=t||new c.default,t.updater)throw new Error("You can't have two UpdateManagers for the same store");t.fetcher||(t.fetcher=new d.default(t)),this.store=t,t.updater=this,this.ifps={},this.fps={},this.ns={},this.ns.link=(0,p.default)("http://www.w3.org/2007/ont/link#"),this.ns.http=(0,p.default)("http://www.w3.org/2007/ont/http#"),this.ns.httph=(0,p.default)("http://www.w3.org/2007/ont/httph#"),this.ns.ldp=(0,p.default)("http://www.w3.org/ns/ldp#"),this.ns.rdf=(0,p.default)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.rdfs=(0,p.default)("http://www.w3.org/2000/01/rdf-schema#"),this.ns.rdf=(0,p.default)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.owl=(0,p.default)("http://www.w3.org/2002/07/owl#"),this.patchControl=[]}return(0,s.default)(e,[{key:"patchControlFor",value:function(e){return this.patchControl[e.value]||(this.patchControl[e.value]=[]),this.patchControl[e.value]}},{key:"editable",value:function(e,t){if(!e)return!1;if(t||(t=this.store),e=(0,v.termValue)(e),"file:///"===e.slice(0,8))return!!t.holds(this.store.rdfFactory.namedNode(e),this.store.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.store.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#MachineEditableDocument"))&&"LOCALFILE";for(var r,n,a=!1,i=t.each(void 0,this.ns.link("requestedURI"),(0,l.docpart)(e)),o=0;o<i.length;o++)if(r=i[o],void 0!==r){var s=t.any(r,this.ns.link("response"));if(void 0!==r){var u=t.anyValue(s,this.ns.httph("wac-allow"));if(u){var c,d=g(u.split(","));try{for(d.s();!(c=d.n()).done;){var p=c.value,f=p.split("=");if(f[0].includes("user")&&!f[1].includes("write")&&!f[1].includes("append"))return!1}}catch(T){d.e(T)}finally{d.f()}}var h=t.each(s,this.ns.httph("accept-patch"));if(h.length)for(var y=0;y<h.length;y++)if(n=h[y].value.trim(),n.indexOf("application/sparql-update")>=0)return"SPARQL";var m=t.each(s,this.ns.httph("ms-author-via"));if(m.length)for(var b=0;b<m.length;b++){if(n=m[b].value.trim(),n.indexOf("SPARQL")>=0)return"SPARQL";if(n.indexOf("DAV")>=0)return"DAV"}var w=t.each(s,this.ns.http("status"));if(w.length)for(var x=0;x<w.length;x++)200!==w[x]&&404!==w[x]||(a=!0)}}if(0===i.length);else if(a)return!1}},{key:"anonymize",value:function(e){return"_:"===e.toNT().substr(0,2)&&this.mentioned(e)?"?"+e.toNT().substr(2):e.toNT()}},{key:"anonymizeNT",value:function(e){return this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+" ."}},{key:"statementBnodes",value:function(e){return[e.subject,e.predicate,e.object].filter((function(e){return(0,h.isBlankNode)(e)}))}},{key:"statementArrayBnodes",value:function(e){for(var t=[],r=0;r<e.length;r++)t=t.concat(this.statementBnodes(e[r]));t.sort();for(var n=[],a=0;a<t.length;a++)0!==a&&t[a].equals(t[a-1])||n.push(t[a]);return n}},{key:"cacheIfps",value:function(){this.ifps={};for(var e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("InverseFunctionalProperty")),t=0;t<e.length;t++)this.ifps[e[t].value]=!0;this.fps={},e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("FunctionalProperty"));for(var r=0;r<e.length;r++)this.fps[e[r].value]=!0}},{key:"bnodeContext2",value:function(e,t,r){for(var n,a,i=this.store.statementsMatching(void 0,void 0,e,t),o=0;o<i.length;o++)if(this.fps[i[o].predicate.value]){if(n=i[o].subject,!n.isBlank)return[i[o]];if(r&&(a=this.bnodeContext2(n,t,r-1),a))return a.concat([i[o]])}i=this.store.statementsMatching(e,void 0,void 0,t);for(var s=0;s<i.length;s++)if(this.ifps[i[s].predicate.value]){if(n=i[s].object,!n.isBlank)return[i[s]];if(r&&(a=this.bnodeContext2(n,t,r-1),a))return a.concat([i[s]])}return null}},{key:"bnodeContext1",value:function(e,t){for(var r=0;r<3;r++){var n=this.bnodeContext2(e,t,r);if(null!==n)return n}return this.store.connectedStatements(e,t)}},{key:"mentioned",value:function(e){return 0!==this.store.statementsMatching(e,null,null,null).length||0!==this.store.statementsMatching(null,e).length||0!==this.store.statementsMatching(null,null,e).length}},{key:"bnodeContext",value:function(e,t){var r=[];if(e.length){this.cacheIfps();for(var n=0;n<e.length;n++){var a=e[n];this.mentioned(a)&&(r=r.concat(this.bnodeContext1(a,t)))}}return r}},{key:"statementContext",value:function(e){var t=this.statementBnodes(e);return this.bnodeContext(t,e.graph)}},{key:"contextWhere",value:function(e){var t=this;return e&&0!==e.length?"WHERE { "+e.map((function(e){return t.anonymizeNT(e)})).join("\n")+" }\n":""}},{key:"fire",value:function(e,t,r){var n=this;return Promise.resolve().then((function(){if(!e)throw new Error("No URI given for remote editing operation: "+t);var r={noMeta:!0,contentType:"application/sparql-update",body:t};return n.store.fetcher.webOperation("PATCH",e,r)})).then((function(n){if(!n.ok){var a="UpdateManager: update failed for <"+e+"> status="+n.status+", "+n.statusText+"\n   for query: "+t;throw new Error(a)}r(e,n.ok,n.responseText,n)})).catch((function(t){r(e,!1,t.message,t)}))}},{key:"update_statement",value:function(e){if(!e||e.graph){var t=this,r=this.statementContext(e);return{statement:e?[e.subject,e.predicate,e.object,e.graph]:void 0,statementNT:e?this.anonymizeNT(e):void 0,where:t.contextWhere(r),set_object:function(e,r){var n=this.where;n+="DELETE DATA { "+this.statementNT+" } ;\n",n+="INSERT DATA { "+this.anonymize(this.statement[0])+" "+this.anonymize(this.statement[1])+" "+this.anonymize(e)+"  . }\n",t.fire(this.statement[3].value,n,r)}}}}},{key:"insert_statement",value:function(e,t){var r=e instanceof Array?e[0]:e,n=this.contextWhere(this.statementContext(r));if(e instanceof Array){for(var a="",i=0;i<e.length;i++)a+=e[i]+"\n";n+="INSERT DATA { "+a+" }\n"}else n+="INSERT DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(r.graph.value,n,t)}},{key:"delete_statement",value:function(e,t){var r=e instanceof Array?e[0]:e,n=this.contextWhere(this.statementContext(r));if(e instanceof Array){for(var a="",i=0;i<e.length;i++)a+=e[i]+"\n";n+="DELETE DATA { "+a+" }\n"}else n+="DELETE DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(r.graph.value,n,t)}},{key:"requestDownstreamAction",value:function(e,t){var r=this.patchControlFor(e);if(r.pendingUpstream)if(r.downstreamAction){if(""+r.downstreamAction!==""+t)throw new Error("Can't wait for > 1 different downstream actions")}else r.downstreamAction=t;else t(e)}},{key:"clearUpstreamCount",value:function(e){var t=this.patchControlFor(e);t.upstreamCount=0}},{key:"getUpdatesVia",value:function(e){var t=this.store.fetcher.getHeader(e,"updates-via");return t&&t.length?t[0].trim():null}},{key:"addDownstreamChangeListener",value:function(e,t){var r=this,n=this.patchControlFor(e);n.downstreamChangeListeners||(n.downstreamChangeListeners=[]),n.downstreamChangeListeners.push(t),this.setRefreshHandler(e,(function(e){r.reloadAndSync(e)}))}},{key:"reloadAndSync",value:function(e){var t=this.patchControlFor(e),r=this;if(t.reloading)t.outOfDate=!0;else{t.reloading=!0;var n=1e3,a=function a(){r.reload(r.store,e,(function(e,r,i){if(e){if(t.downstreamChangeListeners)for(var o=0;o<t.downstreamChangeListeners.length;o++)t.downstreamChangeListeners[o]();t.reloading=!1,t.outOfDate&&(t.outOfDate=!1,a())}else t.reloading=!1,0===i.status&&(t.reloading=!0,n*=2,setTimeout(a,n))}))};a()}}},{key:"setRefreshHandler",value:function(e,t){var r=this.getUpdatesVia(e),n=t,a=this,i=this,o=1500,s=0;if(!r)return!1;r=(0,l.join)(r,e.value);var u=r.replace(/^http:/,"ws:").replace(/^https:/,"wss:"),c=function t(){var r;if("undefined"!==typeof WebSocket)r=new WebSocket(u);else{if("undefined"===typeof window||!window.WebSocket)return;r=window.WebSocket(u)}r.onopen=function(){o=1500,this.send("sub "+e.value),s&&i.requestDownstreamAction(e,n)};var c=a.patchControlFor(e);c.upstreamCount=0,r.onerror=function(e){},r.onclose=function(e){o*=2,s+=1,setTimeout((function(){t()}),o)},r.onmessage=function(t){if(t.data&&"pub"===t.data.slice(0,3)){if("upstreamCount"in c&&(c.upstreamCount-=1,c.upstreamCount>=0))return;c.upstreamCount=0,a.requestDownstreamAction(e,n)}}};return c(),!0}},{key:"updateMany",value:function(e,t){var r=e.concat(t).map((function(e){return e.why})),n=Array.from(new Set(r)),a=this,i=n.map((function(r){return a.update(e.filter((function(e){return e.why.equals(r)})),t.filter((function(e){return e.why.equals(r)})))}));return console.log(" @@@@@@@     updateMany to: ".concat(i.length," ")),Promise.all(i)}},{key:"update",value:function(e,t,r,n){var a=this;if(!r){var o=this;return new Promise((function(r,n){o.update(e,t,(function(e,t,a){t?r():n(new Error(a))}))}))}try{var s=this.store,u=e?(0,h.isStore)(e)?e.statements:e instanceof Array?e:[e]:[],c=t?(0,h.isStore)(t)?t.statements:t instanceof Array?t:[t]:[];if(!(u instanceof Array))throw new Error("Type Error "+(0,i.default)(u)+": "+u);if(!(c instanceof Array))throw new Error("Type Error "+(0,i.default)(c)+": "+c);if(0===u.length&&0===c.length)return r(null,!0);var l=u.length?u[0].graph:c[0].graph;if(!l){var d="Error patching: statement does not specify which document to patch:"+u[0]+", "+c[0];throw new Error(d)}var p=this.patchControlFor(l),f=Date.now(),v=["subject","predicate","object","why"],g=["insert","delete"],m={delete:u,insert:c};g.map((function(e){m[e].map((function(e){if(!l.equals(e.graph))throw new Error("update: destination "+l+" inconsistent with delete quad "+e.graph);v.map((function(t){if("undefined"===typeof e[t])throw new Error("update: undefined "+t+" of statement.")}))}))}));var b=this.editable(l.value,s);if(!1===b)throw new Error("Update: Can't make changes in uneditable "+l);if(void 0===b){if(n)throw new Error("Update: Loaded "+l+"but stil can't figure out what editing protcol it supports.");return void this.store.fetcher.load(l).then((function(n){a.update(e,t,r,!0)}),(function(n){if(404!==n.response.status)throw new Error("Update: Can't get updatability status ".concat(l," before patching: ").concat(n));a.update(e,t,r,!0)}))}if(b.indexOf("SPARQL")>=0){var w=[];u.length&&(w=this.statementArrayBnodes(u)),c.length&&(w=w.concat(this.statementArrayBnodes(c)));var x=this.bnodeContext(w,l),T=this.contextWhere(x),E="";if(T.length){if(u.length){E+="DELETE { ";for(var N=0;N<u.length;N++)E+=this.anonymizeNT(u[N])+"\n";E+=" }\n"}if(c.length){E+="INSERT { ";for(var O=0;O<c.length;O++)E+=this.anonymizeNT(c[O])+"\n";E+=" }\n"}E+=T}else{if(u.length){E+="DELETE DATA { ";for(var _=0;_<u.length;_++)E+=this.anonymizeNT(u[_])+"\n";E+=" } \n"}if(c.length){u.length&&(E+=" ; "),E+="INSERT DATA { ";for(var I=0;I<c.length;I++)E+=this.anonymizeNT(c[I])+"\n";E+=" }\n"}}p.pendingUpstream=p.pendingUpstream?p.pendingUpstream+1:1,"upstreamCount"in p&&(p.upstreamCount+=1),this.fire(l.value,E,(function(e,t,n,a){if(a.elapsedTimeMs=Date.now()-f,console.log("    UpdateManager: Return "+(t?"success ":"FAILURE ")+a.status+" elapsed "+a.elapsedTimeMs+"ms"),t){try{s.remove(u)}catch(d){t=!1,n="Remote Ok BUT error deleting "+u.length+" from store!!! "+d}for(var i=0;i<c.length;i++)s.add(c[i].subject,c[i].predicate,c[i].object,l)}if(r(e,t,n,a),p.pendingUpstream-=1,0===p.pendingUpstream&&p.downstreamAction){var o=p.downstreamAction;delete p.downstreamAction,o(l)}}))}else if(b.indexOf("DAV")>=0)this.updateDav(l,u,c,r);else{if(!(b.indexOf("LOCALFILE")>=0))throw new Error("Unhandled edit method: '"+b+"' for "+l);try{this.updateLocalFile(l,u,c,r)}catch(S){r(l.value,!1,"Exception trying to write back file <"+l.value+">\n")}}}catch(S){r(void 0,!1,"Exception in update: "+S+"\n"+y.stackString(S))}}},{key:"updateDav",value:function(e,t,r,n){var a=this.store,i=a.any(e,this.ns.link("request"));if(!i)throw new Error("No record of our HTTP GET request for document: "+e);var o=a.any(i,this.ns.link("response"));if(!o)return null;for(var s=a.the(o,this.ns.httph("content-type")).value,u=a.statementsMatching(void 0,void 0,void 0,e).slice(),c=0;c<t.length;c++)y.RDFArrayRemove(u,t[c]);for(var d=0;d<r.length;d++)u.push(r[d]);var p,f=this.serialize(e.value,u,s),h=a.the(o,this.ns.httph("content-location"));h&&(p=(0,l.join)(h.value,p));var v={contentType:s,noMeta:!0,body:f};return a.fetcher.webOperation("PUT",p,v).then((function(i){if(!i.ok)throw new Error(i.error);for(var o=0;o<t.length;o++)a.remove(t[o]);for(var s=0;s<r.length;s++)a.add(r[s].subject,r[s].predicate,r[s].object,e);n(e.value,i.ok,i.responseText,i)})).catch((function(t){n(e.value,!1,t.message,t)}))}},{key:"updateLocalFile",value:function(e,t,r,n){for(var a=this.store,i=a.statementsMatching(void 0,void 0,void 0,e).slice(),o=0;o<t.length;o++)y.RDFArrayRemove(i,t[o]);for(var s=0;s<r.length;s++)i.push(r[s]);var u=e.value.lastIndexOf(".");if(u<1)throw new Error("Rewriting file: No filename extension: "+e.value);var c=e.value.slice(u+1),l=d.default.CONTENT_TYPE_BY_EXT[c];if(!l)throw new Error("File extension ."+c+" not supported for data write");var p=this.serialize(e.value,i,l),f=e.value.slice(7),h=Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);if(h.initWithPath(f),!h.exists())throw new Error("Rewriting file <"+e.value+"> but it does not exist!");var v=Components.classes["@mozilla.org/network/file-output-stream;1"].createInstance(Components.interfaces.nsIFileOutputStream);v.init(h,42,parseInt("0666",8),0),v.write(p,p.length),v.close();for(var g=0;g<t.length;g++)a.remove(t[g]);for(var m=0;m<r.length;m++)a.add(r[m].subject,r[m].predicate,r[m].object,e);n(e.value,!0,"")}},{key:"serialize",value:function(e,t,r){var n,a=this.store;if("string"===typeof t)return t;var i=(0,f.default)(a);switch(i.suggestNamespaces(a.namespaces),i.setBase(e),r){case"text/xml":case"application/rdf+xml":n=i.statementsToXML(t);break;case"text/n3":case"text/turtle":case"application/x-turtle":case"application/n3":n=i.statementsToN3(t);break;default:throw new Error("Content-type "+r+" not supported for data serialization")}return n}},{key:"put",value:function(e,t,r,n){var a,i=this,o=this.store;return Promise.resolve().then((function(){return a=i.serialize(e.value,t,r),o.fetcher.webOperation("PUT",e.value,{contentType:r,body:a})})).then((function(r){if(!r.ok)return n(e.value,r.ok,r.error,r);delete o.fetcher.nonexistent[e.value],delete o.fetcher.requested[e.value],"string"!==typeof t&&t.map((function(e){o.addStatement(e)})),n(e.value,r.ok,"",r)})).catch((function(t){n(e.value,!1,t.message)}))}},{key:"reload",value:function(e,t,r){var n=Date.now(),a={force:!0,noMeta:!0,clearPreviousData:!0};e.fetcher.nowOrWhenFetched(t.value,a,(function(e,a,i){if(e)if(i.onErrorWasCalled||200!==i.status)r(!1,"Non-HTTP error reloading data: "+a,i);else{var o=Date.now()-n;t.reloadTimeTotal||(t.reloadTimeTotal=0),t.reloadTimeCount||(t.reloadTimeCount=0),t.reloadTimeTotal+=o,t.reloadTimeCount+=1,r(!0)}else r(!1,"Error reloading data: "+a,i)}))}}]),e}();t.default=w},e43f:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("bd36"))},e6e5:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r("4f5c"),t),a(r("56af"),t),a(r("fb42"),t),a(r("0bc7"),t),a(r("21ee"),t),a(r("424d"),t),a(r("5bc9"),t)},e88a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("9b92");class a{constructor(e,t){this._paths=e,this._source=t}supports(e){return"string"===typeof e}resolve(e,{settings:t}){return this._createSubjectPath((0,n.namedNode)(e),t)}_createSubjectPath(e,{createQueryEngine:t}){const r=this._source||Promise.resolve(e).catch(()=>null),n=t(r);return this._paths.create({queryEngine:n},{subject:e})}}t.default=a},eadf:function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,a=arguments.length;r<a;r++)t.push(arguments[r]);return t}function a(e,t,r){var n=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function i(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,a=this.head;null!==a;)r.push(e.call(t,a.value,this)),a=a.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,a=this.tail;null!==a;)r.push(e.call(t,a.value,this)),a=a.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var a=0;null!==n;a++)r=e(r,n.value,a),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var a=this.length-1;null!==n;a--)r=e(r,n.value,a),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=0,i=this.head;null!==i&&a<e;a++)i=i.next;for(;null!==i&&a<t;a++,i=i.next)r.push(i.value);return r},n.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var a=this.length,i=this.tail;null!==i&&a>t;a--)i=i.prev;for(;null!==i&&a>e;a--,i=i.prev)r.push(i.value);return r},n.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,n=this.head;null!==n&&r<e;r++)n=n.next;var i=[];for(r=0;n&&r<t;r++)i.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(r=2;r<arguments.length;r++)n=a(this,n,arguments[r]);return i},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r("134b")(n)}catch(u){}},ed6d:function(e,t,r){var n=r("4a4b");function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}e.exports=a,e.exports["default"]=e.exports,e.exports.__esModule=!0},ef12:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("2c03"),a=r("9659");class i{static flatten(e){return Array.prototype.concat(...e).filter(e=>e)}static inScopeVariables(e){const t=[];function r(e){t.find(t=>e.value===t.value)||t.push(e)}function a(e){"Variable"===e.subject.termType&&r(e.subject),"Variable"===e.predicate.termType&&r(e.predicate),"Variable"===e.object.termType&&r(e.object),"Variable"===e.graph.termType&&r(e.graph),"Quad"===e.subject.termType&&a(e.subject),"Quad"===e.predicate.termType&&a(e.predicate),"Quad"===e.object.termType&&a(e.object),"Quad"===e.graph.termType&&a(e.graph)}return i.recurseOperation(e,{[n.types.EXPRESSION]:e=>{let t=e;if("aggregate"===t.expressionType&&t.variable){let e=t;r(e.variable)}return!0},[n.types.EXTEND]:e=>{let t=e;return r(t.variable),!0},[n.types.GRAPH]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.GROUP]:e=>{let t=e;return t.variables.forEach(r),!0},[n.types.PATH]:e=>{let t=e;return"Variable"===t.subject.termType&&r(t.subject),"Variable"===t.object.termType&&r(t.object),"Variable"===t.graph.termType&&r(t.graph),"Quad"===t.subject.termType&&a(t.subject),"Quad"===t.object.termType&&a(t.object),"Quad"===t.graph.termType&&a(t.graph),!0},[n.types.PATTERN]:e=>{let t=e;return a(t),!0},[n.types.PROJECT]:e=>{let t=e;return t.variables.forEach(r),!1},[n.types.SERVICE]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.VALUES]:e=>{let t=e;return t.variables.forEach(r),!0}}),t}static recurseOperation(e,t){let r=e,a=!0;if(t[e.type]&&(a=t[e.type](e)),!a)return;let o=e=>i.recurseOperation(e,t);switch(r.type){case n.types.ALT:const e=r;o(e.left),o(e.right);break;case n.types.ASK:const t=r;o(t.input);break;case n.types.BGP:const a=r;a.patterns.forEach(o);break;case n.types.CONSTRUCT:const i=r;o(i.input),i.template.map(o);break;case n.types.DESCRIBE:const s=r;o(s.input);break;case n.types.DISTINCT:const u=r;o(u.input);break;case n.types.EXPRESSION:const c=r;if(c.expressionType===n.expressionTypes.EXISTENCE){const e=c;o(e.input)}break;case n.types.EXTEND:const l=r;o(l.input),o(l.expression);break;case n.types.FILTER:const d=r;o(d.input),o(d.expression);break;case n.types.FROM:const p=r;o(p.input);break;case n.types.GRAPH:const f=r;o(f.input);break;case n.types.GROUP:const h=r;o(h.input),h.aggregates.forEach(o);break;case n.types.INV:const y=r;o(y.path);break;case n.types.JOIN:const v=r;o(v.left),o(v.right);break;case n.types.LEFT_JOIN:const g=r;o(g.left),o(g.right),g.expression&&o(g.expression);break;case n.types.LINK:break;case n.types.MINUS:const m=r;o(m.left),o(m.right);break;case n.types.NPS:break;case n.types.ONE_OR_MORE_PATH:const b=r;o(b.path);break;case n.types.ORDER_BY:const w=r;o(w.input),w.expressions.forEach(o);break;case n.types.PATH:const x=r;o(x.predicate);break;case n.types.PATTERN:break;case n.types.PROJECT:const T=r;o(T.input);break;case n.types.REDUCED:const E=r;o(E.input);break;case n.types.SEQ:const N=r;o(N.left),o(N.right);break;case n.types.SERVICE:const O=r;o(O.input);break;case n.types.SLICE:const _=r;o(_.input);break;case n.types.UNION:const I=r;o(I.left),o(I.right);break;case n.types.VALUES:break;case n.types.ZERO_OR_MORE_PATH:const S=r;o(S.path);break;case n.types.ZERO_OR_ONE_PATH:const R=r;o(R.path);break;case n.types.COMPOSITE_UPDATE:const C=r;C.updates.forEach(e=>o(e));break;case n.types.DELETE_INSERT:const A=r;A.delete&&A.delete.forEach(e=>o(e)),A.insert&&A.insert.forEach(e=>o(e)),A.where&&o(A.where);break;case n.types.LOAD:break;case n.types.CLEAR:break;case n.types.CREATE:break;case n.types.DROP:break;case n.types.ADD:break;case n.types.MOVE:break;case n.types.COPY:break;default:throw new Error("Unknown Operation type "+r.type)}}static mapOperation(e,t,r){let o=e,s=!0;if(r=r||new a.default,t[e.type]&&({result:o,recurse:s}=t[e.type](e,r)),!s)return o;let u=e=>i.mapOperation(e,t,r);switch(o.type){case n.types.ALT:const e=o;return r.createAlt(u(e.left),u(e.right));case n.types.ASK:const a=o;return r.createAsk(u(a.input));case n.types.BGP:const s=o;return r.createBgp(s.patterns.map(u));case n.types.CONSTRUCT:const c=o;return r.createConstruct(u(c.input),c.template.map(u));case n.types.DESCRIBE:const l=o;return r.createDescribe(u(l.input),l.terms);case n.types.DISTINCT:const d=o;return r.createDistinct(u(d.input));case n.types.EXPRESSION:const p=o;return i.mapExpression(p,t,r);case n.types.EXTEND:const f=o;return r.createExtend(u(f.input),f.variable,u(f.expression));case n.types.FILTER:const h=o;return r.createFilter(u(h.input),u(h.expression));case n.types.FROM:const y=o;return r.createFrom(u(y.input),[].concat(y.default),[].concat(y.named));case n.types.GRAPH:const v=o;return r.createGraph(u(v.input),v.name);case n.types.GROUP:const g=o;return r.createGroup(u(g.input),[].concat(g.variables),g.aggregates.map(u));case n.types.INV:const m=o;return r.createInv(u(m.path));case n.types.JOIN:const b=o;return r.createJoin(u(b.left),u(b.right));case n.types.LEFT_JOIN:const w=o;return r.createLeftJoin(u(w.left),u(w.right),w.expression?u(w.expression):void 0);case n.types.LINK:const x=o;return r.createLink(x.iri);case n.types.MINUS:const T=o;return r.createMinus(u(T.left),u(T.right));case n.types.NPS:const E=o;return r.createNps([].concat(E.iris));case n.types.ONE_OR_MORE_PATH:const N=o;return r.createOneOrMorePath(u(N.path));case n.types.ORDER_BY:const O=o;return r.createOrderBy(u(O.input),O.expressions.map(u));case n.types.PATH:const _=o;return r.createPath(_.subject,u(_.predicate),_.object,_.graph);case n.types.PATTERN:const I=o;return r.createPattern(I.subject,I.predicate,I.object,I.graph);case n.types.PROJECT:const S=o;return r.createProject(u(S.input),[].concat(S.variables));case n.types.REDUCED:const R=o;return r.createReduced(u(R.input));case n.types.SEQ:const C=o;return r.createSeq(u(C.left),u(C.right));case n.types.SERVICE:const A=o;return r.createService(u(A.input),A.name,A.silent);case n.types.SLICE:const D=o;return r.createSlice(u(D.input),D.start,D.length);case n.types.UNION:const k=o;return r.createUnion(u(k.left),u(k.right));case n.types.VALUES:const j=o;return r.createValues([].concat(j.variables),j.bindings.map(e=>Object.assign({},e)));case n.types.ZERO_OR_MORE_PATH:const L=o;return r.createZeroOrMorePath(u(L.path));case n.types.ZERO_OR_ONE_PATH:const P=o;return r.createZeroOrOnePath(u(P.path));case n.types.COMPOSITE_UPDATE:const F=o;return r.createCompositeUpdate(F.updates.map(u));case n.types.DELETE_INSERT:const M=o;return r.createDeleteInsert(M.delete?M.delete.map(u):void 0,M.insert?M.insert.map(u):void 0,M.where?u(M.where):void 0);case n.types.LOAD:const U=o;return r.createLoad(U.source,U.destination,U.silent);case n.types.CLEAR:const V=o;return r.createClear(V.source,V.silent);case n.types.CREATE:const B=o;return r.createCreate(B.source,B.silent);case n.types.DROP:const q=o;return r.createDrop(q.source,q.silent);case n.types.ADD:const G=o;return r.createAdd(G.source,G.destination);case n.types.MOVE:const $=o;return r.createMove($.source,$.destination);case n.types.COPY:const H=o;return r.createCopy(H.source,H.destination);default:throw new Error("Unknown Operation type "+o)}}static mapExpression(e,t,r){let a=e=>i.mapOperation(e,t,r);switch(e.expressionType){case n.expressionTypes.AGGREGATE:if(e.variable){const t=e;return r.createBoundAggregate(t.variable,t.aggregator,a(t.expression),t.distinct,t.separator)}const t=e;return r.createAggregateExpression(t.aggregator,a(t.expression),t.distinct,t.separator);case n.expressionTypes.EXISTENCE:const i=e;return r.createExistenceExpression(i.not,a(i.input));case n.expressionTypes.NAMED:const o=e;return r.createNamedExpression(o.name,o.args.map(a));case n.expressionTypes.OPERATOR:const s=e;return r.createOperatorExpression(s.operator,s.args.map(a));case n.expressionTypes.TERM:const u=e;return r.createTermExpression(u.term);case n.expressionTypes.WILDCARD:return r.createWildcardExpression();default:throw new Error("Unknown Expression type "+e.expressionType)}}static createUniqueVariable(e,t,r){let n=0,a=e;while(t[a])a=e+n++;return r.variable(a)}static isTerm(e){return void 0!==e.termType&&"Quad"!==e.termType&&"Wildcard"!==e.termType}static isWildcard(e){return"Wildcard"===e.termType}}t.default=i},ef3c:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b"),a=r("9b92"),i=o(r("9c67"));function o(e){return e&&e.__esModule?e:{default:e}}const{as:s}=i.default["@context"];class u{constructor({activitiesPath:e="/public/activities"}={}){this.requireUser=!0,this.activitiesPath=e}handle(e,t){const r=this,{root:i}=t,{settings:{queryEngine:o}}=e;return(e="".concat(s,"Like"))=>(0,n.toIterablePromise)((async function*(){let n;try{n=await i.user}catch(d){if(r.requireUser)throw d;return}const s=await i.user.pim$storage,u=new URL(r.activitiesPath,s||n).href,c=[],l=(0,a.namedNode)(n);e=(0,a.namedNode)(e);for await(const a of t)if("NamedNode"===a.termType){const t={actor:l,type:e,object:a};for await(const e of r.createResults(t,u,o))c.push(e)}for(const e of await r.processResults(c,u,o))yield i[e.value]}))}async processResults(e){return e}}t.default=u},f036:function(e,t,r){(function(e,n){var a=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[6,12,15,28,41,50,55,107,117,120,122,123,132,133,138,322,323,324,325,326],n=[2,209],a=[107,117,120,122,123,132,133,138,322,323,324,325,326],i=[1,20],o=[1,29],s=[6,90],u=[45,46,58],c=[45,58],l=[1,58],d=[1,60],p=[1,56],f=[1,59],h=[1,65],y=[1,66],v=[26,34,35],g=[13,16,312],m=[119,141,320,327],b=[13,16,119,141,312],w=[1,88],x=[1,92],T=[1,94],E=[119,141,320,321,327],N=[13,16,119,141,312,321],O=[1,100],_=[2,251],I=[1,99],S=[13,16,34,35,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],R=[6,45,46,58,68,75,78,86,88,90],C=[6,13,16,34,45,46,58,68,75,78,86,88,90,312],A=[6,13,16,26,34,35,37,38,45,46,48,58,68,75,78,86,87,88,90,93,100,116,119,132,133,135,140,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,330,331,333,334,335,336,337,338,339,340],D=[34,35,45,46,58],k=[13,16,34,35,87,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,340,341,342,343,344,345],j=[2,454],L=[1,123],P=[1,117],F=[1,124],M=[1,125],U=[6,13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],V=[2,310],B=[1,142],q=[1,140],G=[6,191],$=[2,327],H=[2,315],X=[45,135],Q=[6,48,78,86,88,90],z=[2,255],J=[1,156],W=[1,158],Y=[6,48,75,78,86,88,90],K=[2,253],Z=[1,164],ee=[1,176],te=[1,174],re=[1,184],ne=[1,182],ae=[1,175],ie=[1,180],oe=[1,181],se=[1,185],ue=[1,186],ce=[1,189],le=[1,190],de=[1,191],pe=[1,192],fe=[1,193],he=[1,194],ye=[1,195],ve=[1,196],ge=[1,197],me=[1,198],be=[1,199],we=[6,68,75,78,86,88,90],xe=[37,38,191,250,278],Te=[37,38,191,250,254,278],Ee=[37,38,191,250,254,258,273,278,295,306,307,308,309,310,311,334,335,336,337,338,339,340],Ne=[26,37,38,191,250,254,258,273,278,295,306,307,308,309,310,311,331,334,335,336,337,338,339,340],Oe=[1,229],_e=[1,230],Ie=[1,232],Se=[1,233],Re=[1,234],Ce=[1,235],Ae=[1,237],De=[1,238],ke=[2,461],je=[1,240],Le=[1,241],Pe=[1,242],Fe=[1,248],Me=[1,243],Ue=[1,244],Ve=[1,245],Be=[1,246],qe=[1,247],Ge=[13,16,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],$e=[48,93],He=[34,38],Xe=[6,116,191],Qe=[48,119],ze=[6,48,86,88,90],Je=[2,339],We=[2,331],Ye=[1,293],Ke=[1,295],Ze=[48,119,328],et=[13,16,34,195,312],tt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],rt=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,273,278,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340],nt=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,250,254,258,273,278,295,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340],at=[13,16,34,35,87,219,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,334,340,341,342,343,344,345],it=[1,329],ot=[1,330],st=[1,332],ut=[1,331],ct=[6,13,16,26,34,35,37,38,46,48,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344,345],lt=[1,340],dt=[1,339],pt=[35,93],ft=[1,353],ht=[1,354],yt=[1,367],vt=[6,48,90],gt=[6,13,16,35,48,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,340,341,342,343,344,345],mt=[6,13,16,34,35,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,226,231,245,246,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,340,341,342,343,344,345],bt=[46,48,90,119,167,168,170,173,174],wt=[1,386],xt=[1,387],Tt=[1,393],Et=[1,392],Nt=[48,119,191,227,328],Ot=[13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],_t=[13,16,34,35,38,48,87,93,119,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],It=[13,16,26,34,35,87,219,273,275,276,277,279,281,282,284,285,288,290,299,300,301,302,303,304,305,306,307,308,309,310,311,312,334,340,341,342,343,344,345],St=[13,16,38,48,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Rt=[35,48],Ct=[2,330],At=[1,451],Dt=[1,448],kt=[1,449],jt=[6,13,16,26,34,35,37,38,46,48,68,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,329,331,334,335,336,337,338,339,340,341,342,343,344,345],Lt=[13,16,35,195,219,224,312],Pt=[2,387],Ft=[1,469],Mt=[46,48,90,119,167,168,170,173,174,328],Ut=[13,16,34,35,195,219,224,312],Vt=[6,13,16,34,35,48,75,78,86,88,90,275,276,277,279,281,282,284,285,288,290,312,340,341,342,343,344,345],Bt=[13,16,34,35,38,48,87,93,119,191,195,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],qt=[6,13,16,34,35,48,81,83,86,88,90,275,276,277,279,281,282,284,285,288,290,312,340,341,342,343,344,345],Gt=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],$t=[13,16,34,312],Ht=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Xt=[2,342],Qt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],zt=[13,16,34,35,37,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,235,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Jt=[2,337],Wt=[13,16,35,195,219,312],Yt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,219,224,226,227,231,245,246,278,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328],Kt=[13,16,38,87,100,231,299,300,301,302,303,304,305,306,307,308,309,310,311,312],Zt=[46,48,90,119,167,168,170,173,174,191,227,328],er=[13,16,34,38,48,87,100,195,231,235,299,300,301,302,303,304,305,306,307,308,309,310,311,312],tr=[13,16,34,35,48,87,93,119,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312],rr=[13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331],nr=[13,16,26,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330,331,333,334],ar=[1,630],ir=[1,631],or=[2,325],sr=[13,16,38,195,224,312],ur={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Prologue_repetition0:7,Query:8,Query_group0:9,Query_option0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectQuery:17,SelectClauseWildcard:18,SelectQuery_repetition0:19,WhereClause:20,SolutionModifierNoGroup:21,SelectClauseVars:22,SelectQuery_repetition1:23,SolutionModifier:24,SelectClauseBase:25,"*":26,SelectClauseVars_repetition_plus0:27,SELECT:28,SelectClauseBase_option0:29,SubSelect:30,SubSelect_option0:31,SubSelect_option1:32,SelectClauseItem:33,VAR:34,"(":35,Expression:36,AS:37,")":38,VarTriple:39,ConstructQuery:40,CONSTRUCT:41,ConstructTemplate:42,ConstructQuery_repetition0:43,ConstructQuery_repetition1:44,WHERE:45,"{":46,ConstructQuery_option0:47,"}":48,DescribeQuery:49,DESCRIBE:50,DescribeQuery_group0:51,DescribeQuery_repetition0:52,DescribeQuery_option0:53,AskQuery:54,ASK:55,AskQuery_repetition0:56,DatasetClause:57,FROM:58,DatasetClause_option0:59,iri:60,WhereClause_option0:61,GroupGraphPattern:62,SolutionModifier_option0:63,SolutionModifierNoGroup_option0:64,SolutionModifierNoGroup_option1:65,SolutionModifierNoGroup_option2:66,GroupClause:67,GROUP:68,BY:69,GroupClause_repetition_plus0:70,GroupCondition:71,BuiltInCall:72,FunctionCall:73,HavingClause:74,HAVING:75,HavingClause_repetition_plus0:76,OrderClause:77,ORDER:78,OrderClause_repetition_plus0:79,OrderCondition:80,ASC:81,BrackettedExpression:82,DESC:83,Constraint:84,LimitOffsetClauses:85,LIMIT:86,INTEGER:87,OFFSET:88,ValuesClause:89,VALUES:90,InlineData:91,InlineData_repetition0:92,NIL:93,InlineData_repetition1:94,InlineData_repetition_plus2:95,InlineData_repetition3:96,DataBlockValue:97,Literal:98,ConstTriple:99,UNDEF:100,DataBlockValueList:101,DataBlockValueList_repetition_plus0:102,Update:103,Update_repetition0:104,Update1:105,Update_option0:106,LOAD:107,Update1_option0:108,Update1_option1:109,Update1_group0:110,Update1_option2:111,GraphRefAll:112,Update1_group1:113,Update1_option3:114,GraphOrDefault:115,TO:116,CREATE:117,Update1_option4:118,GRAPH:119,INSERTDATA:120,QuadPattern:121,DELETEDATA:122,DELETEWHERE:123,Update1_option5:124,InsertClause:125,Update1_option6:126,Update1_repetition0:127,Update1_option7:128,DeleteClause:129,Update1_option8:130,Update1_repetition1:131,DELETE:132,INSERT:133,UsingClause:134,USING:135,UsingClause_option0:136,WithClause:137,WITH:138,IntoGraphClause:139,INTO:140,DEFAULT:141,GraphOrDefault_option0:142,GraphRefAll_group0:143,QuadPattern_option0:144,QuadPattern_repetition0:145,QuadsNotTriples:146,QuadsNotTriples_group0:147,QuadsNotTriples_option0:148,QuadsNotTriples_option1:149,QuadsNotTriples_option2:150,TriplesTemplate:151,TriplesTemplate_repetition0:152,TriplesSameSubject:153,TriplesTemplate_option0:154,GroupGraphPatternSub:155,GroupGraphPatternSub_option0:156,GroupGraphPatternSub_repetition0:157,GroupGraphPatternSubTail:158,GraphPatternNotTriples:159,GroupGraphPatternSubTail_option0:160,GroupGraphPatternSubTail_option1:161,TriplesBlock:162,TriplesBlock_repetition0:163,TriplesSameSubjectPath:164,TriplesBlock_option0:165,GraphPatternNotTriples_repetition0:166,OPTIONAL:167,MINUS:168,GraphPatternNotTriples_group0:169,SERVICE:170,GraphPatternNotTriples_option0:171,GraphPatternNotTriples_group1:172,FILTER:173,BIND:174,FunctionCall_option0:175,FunctionCall_repetition0:176,ExpressionList:177,ExpressionList_repetition0:178,ConstructTemplate_option0:179,ConstructTriples:180,ConstructTriples_repetition0:181,ConstructTriples_option0:182,TriplesSameSubject_group0:183,PropertyListNotEmpty:184,TriplesNode:185,PropertyList:186,PropertyList_option0:187,VerbObjectList:188,PropertyListNotEmpty_repetition0:189,SemiOptionalVerbObjectList:190,";":191,SemiOptionalVerbObjectList_option0:192,Verb:193,ObjectList:194,a:195,ObjectList_repetition0:196,GraphNode:197,ObjectListPath:198,ObjectListPath_repetition0:199,GraphNodePath:200,TriplesSameSubjectPath_group0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,PropertyListPathNotEmpty_group0:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmpty_repetition1:207,PropertyListPathNotEmptyTail:208,PropertyListPathNotEmptyTail_group0:209,Path:210,Path_repetition0:211,PathSequence:212,PathSequence_repetition0:213,PathEltOrInverse:214,PathElt:215,PathPrimary:216,PathElt_option0:217,PathEltOrInverse_option0:218,"!":219,PathNegatedPropertySet:220,PathOneInPropertySet:221,PathNegatedPropertySet_repetition0:222,PathNegatedPropertySet_option0:223,"^":224,TriplesNode_repetition_plus0:225,"[":226,"]":227,TriplesNodePath_repetition_plus0:228,GraphNode_group0:229,GraphNodePath_group0:230,"<<":231,VarTriple_group0:232,VarTriple_group1:233,VarTriple_group2:234,">>":235,VarTriple_group3:236,VarTriple_group4:237,ConstTriple_group0:238,ConstTriple_group1:239,ConstTriple_group2:240,ConstTriple_group3:241,ConstTriple_group4:242,VarOrTerm:243,Term:244,BLANK_NODE_LABEL:245,ANON:246,ConditionalAndExpression:247,Expression_repetition0:248,ExpressionTail:249,"||":250,RelationalExpression:251,ConditionalAndExpression_repetition0:252,ConditionalAndExpressionTail:253,"&&":254,AdditiveExpression:255,RelationalExpression_group0:256,RelationalExpression_option0:257,IN:258,MultiplicativeExpression:259,AdditiveExpression_repetition0:260,AdditiveExpressionTail:261,AdditiveExpressionTail_group0:262,NumericLiteralPositive:263,AdditiveExpressionTail_repetition0:264,NumericLiteralNegative:265,AdditiveExpressionTail_repetition1:266,UnaryExpression:267,MultiplicativeExpression_repetition0:268,MultiplicativeExpressionTail:269,MultiplicativeExpressionTail_group0:270,UnaryExpression_option0:271,PrimaryExpression:272,"-":273,Aggregate:274,FUNC_ARITY0:275,FUNC_ARITY1:276,FUNC_ARITY2:277,",":278,IF:279,BuiltInCall_group0:280,BOUND:281,BNODE:282,BuiltInCall_option0:283,EXISTS:284,COUNT:285,Aggregate_option0:286,Aggregate_group0:287,FUNC_AGGREGATE:288,Aggregate_option1:289,GROUP_CONCAT:290,Aggregate_option2:291,Aggregate_option3:292,GroupConcatSeparator:293,SEPARATOR:294,"=":295,String:296,LANGTAG:297,"^^":298,DECIMAL:299,DOUBLE:300,BOOLEAN:301,STRING_LITERAL1:302,STRING_LITERAL2:303,STRING_LITERAL_LONG1:304,STRING_LITERAL_LONG2:305,INTEGER_POSITIVE:306,DECIMAL_POSITIVE:307,DOUBLE_POSITIVE:308,INTEGER_NEGATIVE:309,DECIMAL_NEGATIVE:310,DOUBLE_NEGATIVE:311,PNAME_LN:312,QueryOrUpdate_group0_option0:313,Prologue_repetition0_group0:314,SelectClauseBase_option0_group0:315,DISTINCT:316,REDUCED:317,DescribeQuery_group0_repetition_plus0_group0:318,DescribeQuery_group0_repetition_plus0:319,NAMED:320,SILENT:321,CLEAR:322,DROP:323,ADD:324,MOVE:325,COPY:326,ALL:327,".":328,UNION:329,"|":330,"/":331,PathElt_option0_group0:332,"?":333,"+":334,"!=":335,"<":336,">":337,"<=":338,">=":339,NOT:340,CONCAT:341,COALESCE:342,SUBSTR:343,REGEX:344,REPLACE:345,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",26:"*",28:"SELECT",34:"VAR",35:"(",37:"AS",38:")",41:"CONSTRUCT",45:"WHERE",46:"{",48:"}",50:"DESCRIBE",55:"ASK",58:"FROM",68:"GROUP",69:"BY",75:"HAVING",78:"ORDER",81:"ASC",83:"DESC",86:"LIMIT",87:"INTEGER",88:"OFFSET",90:"VALUES",93:"NIL",100:"UNDEF",107:"LOAD",116:"TO",117:"CREATE",119:"GRAPH",120:"INSERTDATA",122:"DELETEDATA",123:"DELETEWHERE",132:"DELETE",133:"INSERT",135:"USING",138:"WITH",140:"INTO",141:"DEFAULT",167:"OPTIONAL",168:"MINUS",170:"SERVICE",173:"FILTER",174:"BIND",191:";",195:"a",219:"!",224:"^",226:"[",227:"]",231:"<<",235:">>",245:"BLANK_NODE_LABEL",246:"ANON",250:"||",254:"&&",258:"IN",273:"-",275:"FUNC_ARITY0",276:"FUNC_ARITY1",277:"FUNC_ARITY2",278:",",279:"IF",281:"BOUND",282:"BNODE",284:"EXISTS",285:"COUNT",288:"FUNC_AGGREGATE",290:"GROUP_CONCAT",294:"SEPARATOR",295:"=",297:"LANGTAG",298:"^^",299:"DECIMAL",300:"DOUBLE",301:"BOOLEAN",302:"STRING_LITERAL1",303:"STRING_LITERAL2",304:"STRING_LITERAL_LONG1",305:"STRING_LITERAL_LONG2",306:"INTEGER_POSITIVE",307:"DECIMAL_POSITIVE",308:"DOUBLE_POSITIVE",309:"INTEGER_NEGATIVE",310:"DECIMAL_NEGATIVE",311:"DOUBLE_NEGATIVE",312:"PNAME_LN",316:"DISTINCT",317:"REDUCED",320:"NAMED",321:"SILENT",322:"CLEAR",323:"DROP",324:"ADD",325:"MOVE",326:"COPY",327:"ALL",328:".",329:"UNION",330:"|",331:"/",333:"?",334:"+",335:"!=",336:"<",337:">",338:"<=",339:">=",340:"NOT",341:"CONCAT",342:"COALESCE",343:"SUBSTR",344:"REGEX",345:"REPLACE"},productions_:[0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[17,4],[18,2],[22,2],[25,2],[30,4],[30,4],[33,1],[33,5],[33,5],[40,5],[40,7],[49,5],[54,4],[57,3],[20,2],[24,2],[21,3],[67,3],[71,1],[71,1],[71,3],[71,5],[71,1],[74,2],[77,3],[80,2],[80,2],[80,1],[80,1],[85,2],[85,2],[85,4],[85,4],[89,2],[91,4],[91,4],[91,6],[97,1],[97,1],[97,1],[97,1],[101,3],[103,3],[105,4],[105,3],[105,5],[105,4],[105,2],[105,2],[105,2],[105,6],[105,6],[129,2],[125,2],[134,3],[137,2],[139,3],[115,1],[115,2],[112,2],[112,1],[121,4],[146,7],[151,3],[62,3],[62,3],[155,2],[158,3],[162,3],[159,2],[159,2],[159,2],[159,3],[159,4],[159,2],[159,6],[159,6],[159,1],[84,1],[84,1],[84,1],[73,2],[73,6],[177,1],[177,4],[42,3],[180,3],[153,2],[153,2],[186,1],[184,2],[190,2],[188,2],[193,1],[193,1],[193,1],[194,2],[198,2],[164,2],[164,2],[202,4],[208,1],[208,3],[210,2],[212,2],[215,2],[214,2],[216,1],[216,1],[216,2],[216,3],[220,1],[220,1],[220,4],[221,1],[221,1],[221,2],[221,2],[185,3],[185,3],[203,3],[203,3],[197,1],[197,1],[200,1],[200,1],[39,9],[39,5],[99,9],[99,5],[243,1],[243,1],[244,1],[244,1],[244,1],[244,1],[244,1],[36,2],[249,2],[247,2],[253,2],[251,1],[251,3],[251,4],[255,2],[261,2],[261,2],[261,2],[259,2],[269,2],[267,2],[267,2],[267,2],[272,1],[272,1],[272,1],[272,1],[272,1],[272,1],[82,3],[72,1],[72,2],[72,4],[72,6],[72,8],[72,2],[72,4],[72,2],[72,4],[72,3],[274,5],[274,5],[274,6],[293,4],[98,1],[98,2],[98,3],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[296,1],[296,1],[296,1],[296,1],[263,1],[263,1],[263,1],[265,1],[265,1],[265,1],[60,1],[60,1],[60,1],[313,0],[313,1],[5,1],[5,1],[314,1],[314,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,2],[27,1],[27,2],[315,1],[315,1],[29,0],[29,1],[31,0],[31,1],[32,0],[32,1],[43,0],[43,2],[44,0],[44,2],[47,0],[47,1],[318,1],[318,1],[319,1],[319,2],[51,1],[51,1],[52,0],[52,2],[53,0],[53,1],[56,0],[56,2],[59,0],[59,1],[61,0],[61,1],[63,0],[63,1],[64,0],[64,1],[65,0],[65,1],[66,0],[66,1],[70,1],[70,2],[76,1],[76,2],[79,1],[79,2],[92,0],[92,2],[94,0],[94,2],[95,1],[95,2],[96,0],[96,2],[102,1],[102,2],[104,0],[104,4],[106,0],[106,2],[108,0],[108,1],[109,0],[109,1],[110,1],[110,1],[111,0],[111,1],[113,1],[113,1],[113,1],[114,0],[114,1],[118,0],[118,1],[124,0],[124,1],[126,0],[126,1],[127,0],[127,2],[128,0],[128,1],[130,0],[130,1],[131,0],[131,2],[136,0],[136,1],[142,0],[142,1],[143,1],[143,1],[143,1],[144,0],[144,1],[145,0],[145,2],[147,1],[147,1],[148,0],[148,1],[149,0],[149,1],[150,0],[150,1],[152,0],[152,3],[154,0],[154,1],[156,0],[156,1],[157,0],[157,2],[160,0],[160,1],[161,0],[161,1],[163,0],[163,3],[165,0],[165,1],[166,0],[166,3],[169,1],[169,1],[171,0],[171,1],[172,1],[172,1],[175,0],[175,1],[176,0],[176,3],[178,0],[178,3],[179,0],[179,1],[181,0],[181,3],[182,0],[182,1],[183,1],[183,1],[187,0],[187,1],[189,0],[189,2],[192,0],[192,1],[196,0],[196,3],[199,0],[199,3],[201,1],[201,1],[204,0],[204,1],[205,1],[205,1],[206,0],[206,3],[207,0],[207,2],[209,1],[209,1],[211,0],[211,3],[213,0],[213,3],[332,1],[332,1],[332,1],[217,0],[217,1],[218,0],[218,1],[222,0],[222,3],[223,0],[223,1],[225,1],[225,2],[228,1],[228,2],[229,1],[229,1],[230,1],[230,1],[232,1],[232,1],[233,1],[233,1],[234,1],[234,1],[236,1],[236,1],[237,1],[237,1],[238,1],[238,1],[239,1],[239,1],[240,1],[240,1],[241,1],[241,1],[242,1],[242,1],[248,0],[248,2],[252,0],[252,2],[256,1],[256,1],[256,1],[256,1],[256,1],[256,1],[257,0],[257,1],[260,0],[260,2],[262,1],[262,1],[264,0],[264,2],[266,0],[266,2],[268,0],[268,2],[270,1],[270,1],[271,0],[271,1],[280,1],[280,1],[280,1],[280,1],[280,1],[283,0],[283,1],[286,0],[286,1],[287,1],[287,1],[289,0],[289,1],[291,0],[291,1],[292,0],[292,1]],performAction:function(e,t,r,n,a,i,o){var s=i.length-1;switch(a){case 1:if(i[s-1]=i[s-1]||{},un.base&&(i[s-1].base=un.base),un.base="",i[s-1].prefixes=un.prefixes,un.prefixes=null,"update"===i[s-1].type){const e={};for(const t of i[s-1].updates)if("insert"===t.updateType){const r={};for(const e of t.insert)if("bgp"===e.type||"graph"===e.type)for(const t of e.triples)"BlankNode"===t.subject.termType&&(r[t.subject.value]=!0),"BlankNode"===t.predicate.termType&&(r[t.predicate.value]=!0),"BlankNode"===t.object.termType&&(r[t.object.value]=!0);for(const t of Object.keys(r)){if(e[t])throw new Error("Detected reuse blank node across different INSERT DATA clauses");e[t]=!0}}}return i[s-1];case 3:this.$=_r(i[s-1],i[s],{type:"query"});break;case 4:un.base=Sr(i[s]);break;case 5:un.prefixes||(un.prefixes={}),i[s-1]=i[s-1].substr(0,i[s-1].length-1),i[s]=Sr(i[s]),un.prefixes[i[s-1]]=i[s];break;case 6:this.$=_r(i[s-3],jr(i[s-2]),i[s-1],i[s]);break;case 7:if(!un.skipUngroupedVariableCheck){const e=Zr(i[s-3].variables.map(e=>Yr(e.expression))).some(e=>"count"===e.aggregation&&!(e.expression instanceof cr));if(e||i[s].group)for(const t of i[s-3].variables)if("Variable"===t.termType){if(!i[s].group||!i[s].group.map(e=>Wr(e)).includes(Wr(t)))throw Error("Projection of ungrouped variable (?"+Wr(t)+")")}else if(0===Yr(t.expression).length){const e=Kr(t.expression);for(const t of e)if(!i[s].group.map(e=>Wr(e)).includes(Wr(t)))throw Error("Use of ungrouped variable in projection of operation (?"+Wr(t)+")")}}const e=i[s-1].where.filter(e=>"query"===e.type);if(e.length>0){const t=i[s-3].variables.filter(e=>e.variable&&e.variable.value).map(e=>e.variable.value),r=Zr(e.map(e=>e.variables)).map(e=>e.value||e.variable.value);for(const e of t)if(r.indexOf(e)>=0)throw Error("Target id of 'AS' (?"+e+") already used in subquery")}this.$=_r(i[s-3],jr(i[s-2]),i[s-1],i[s]);break;case 8:this.$=_r(i[s-1],{variables:[new cr]});break;case 9:const t=i[s].map(e=>e.value||e.variable.value),r=rn(t);if(r.length>0)throw Error("Two or more of the resulting columns have the same name (?"+r[0]+")");this.$=_r(i[s-1],{variables:i[s]});break;case 10:this.$=_r({queryType:"SELECT"},i[s]&&(i[s-1]=Er(i[s]),i[s]={},i[s][i[s-1]]=!0,i[s]));break;case 11:case 12:this.$=_r(i[s-3],i[s-2],i[s-1],i[s],{type:"query"});break;case 13:case 100:case 137:case 165:this.$=Rr(i[s]);break;case 14:case 28:this.$=Ar(i[s-3],{variable:Rr(i[s-1])});break;case 15:this.$=nn(Ar(i[s-3],{variable:Rr(i[s-1])}));break;case 16:this.$=_r({queryType:"CONSTRUCT",template:i[s-3]},jr(i[s-2]),i[s-1],i[s]);break;case 17:this.$=_r({queryType:"CONSTRUCT",template:i[s-2]=i[s-2]?i[s-2].triples:[]},jr(i[s-5]),{where:[{type:"bgp",triples:Or([],i[s-2])}]},i[s]);break;case 18:this.$=_r({queryType:"DESCRIBE",variables:"*"===i[s-3]?[new cr]:i[s-3].map(Rr)},jr(i[s-2]),i[s-1],i[s]);break;case 19:this.$=_r({queryType:"ASK"},jr(i[s-2]),i[s-1],i[s]);break;case 20:case 61:this.$={iri:i[s],named:!!i[s-1]};break;case 21:this.$={where:i[s].patterns};break;case 22:this.$=_r(i[s-1],i[s]);break;case 23:this.$=_r(i[s-2],i[s-1],i[s]);break;case 24:this.$={group:i[s]};break;case 25:case 26:case 32:case 34:this.$=Ar(i[s]);break;case 27:this.$=Ar(i[s-1]);break;case 29:case 35:this.$=Ar(Rr(i[s]));break;case 30:this.$={having:i[s]};break;case 31:this.$={order:i[s]};break;case 33:this.$=Ar(i[s],{descending:!0});break;case 36:this.$={limit:Lr(i[s])};break;case 37:this.$={offset:Lr(i[s])};break;case 38:this.$={limit:Lr(i[s-2]),offset:Lr(i[s])};break;case 39:this.$={limit:Lr(i[s]),offset:Lr(i[s-2])};break;case 40:this.$={type:"values",values:i[s]};break;case 41:this.$=i[s-1].map((function(e){var t={};return t[i[s-3]]=e,t}));break;case 42:this.$=i[s-1].map((function(){return{}}));break;case 43:var u=i[s-4].length;i[s-4]=i[s-4].map(Rr),this.$=i[s-1].map((function(e){if(e.length!==u)throw Error("Inconsistent VALUES length");for(var t={},r=0;r<u;r++)t["?"+i[s-4][r].value]=e[r];return t}));break;case 46:this.$=nn(i[s]);break;case 47:this.$=void 0;break;case 48:case 92:case 117:case 166:this.$=i[s-1];break;case 49:this.$={type:"update",updates:Nr(i[s-2],i[s-1])};break;case 50:this.$=_r({type:"load",silent:!!i[s-2],source:i[s-1]},i[s]&&{destination:i[s]});break;case 51:this.$={type:Er(i[s-2]),silent:!!i[s-1],graph:i[s]};break;case 52:this.$={type:Er(i[s-4]),silent:!!i[s-3],source:i[s-2],destination:i[s]};break;case 53:this.$={type:"create",silent:!!i[s-2],graph:{type:"graph",name:i[s]}};break;case 54:this.$={updateType:"insert",insert:an(i[s])};break;case 55:this.$={updateType:"delete",delete:on(an(i[s]))};break;case 56:this.$={updateType:"deletewhere",delete:on(i[s])};break;case 57:this.$=_r({updateType:"insertdelete"},i[s-5],{insert:i[s-4]||[]},{delete:i[s-3]||[]},jr(i[s-2],"using"),{where:i[s].patterns});break;case 58:this.$=_r({updateType:"insertdelete"},i[s-5],{delete:i[s-4]||[]},{insert:i[s-3]||[]},jr(i[s-2],"using"),{where:i[s].patterns});break;case 59:this.$=on(i[s]);break;case 60:case 63:case 157:case 180:this.$=i[s];break;case 62:this.$={graph:i[s]};break;case 64:this.$={type:"graph",default:!0};break;case 65:case 66:this.$={type:"graph",name:i[s]};break;case 67:this.$={},this.$[Er(i[s])]=!0;break;case 68:this.$=i[s-2]?Ir(i[s-1],[i[s-2]]):Ir(i[s-1]);break;case 69:var c=_r(i[s-3]||{triples:[]},{type:"graph",name:Rr(i[s-5])});this.$=i[s]?[c,i[s]]:[c];break;case 70:case 75:this.$={type:"bgp",triples:Ir(i[s-2],[i[s-1]])};break;case 71:this.$={type:"group",patterns:[i[s-1]]};break;case 72:for(const n of i[s-1].filter(e=>"bind"===e.type)){const e=i[s-1].indexOf(n),t=new Set;for(const r of i[s-1].slice(0,e))"group"!==r.type&&"bgp"!==r.type||tn(r).forEach(e=>t.add(e));if(t.has(n.variable.value))throw Error("Variable used to bind is already bound (?"+n.variable.value+")")}this.$={type:"group",patterns:i[s-1]};break;case 73:this.$=i[s-1]?Ir([i[s-1]],i[s]):Ir(i[s]);break;case 74:this.$=i[s]?[i[s-2],i[s]]:i[s-2];break;case 76:i[s-1].length?this.$={type:"union",patterns:Ir(i[s-1].map(Pr),[Pr(i[s])])}:this.$=i[s];break;case 77:this.$=_r(i[s],{type:"optional"});break;case 78:this.$=_r(i[s],{type:"minus"});break;case 79:this.$=_r(i[s],{type:"graph",name:Rr(i[s-1])});break;case 80:this.$=_r(i[s],{type:"service",name:Rr(i[s-1]),silent:!!i[s-2]});break;case 81:this.$={type:"filter",expression:i[s]};break;case 82:this.$={type:"bind",variable:Rr(i[s-1]),expression:i[s-3]};break;case 83:this.$=nn({type:"bind",variable:Rr(i[s-1]),expression:i[s-3]});break;case 88:this.$={type:"functionCall",function:i[s-1],args:[]};break;case 89:this.$={type:"functionCall",function:i[s-5],args:Nr(i[s-2],i[s-1]),distinct:!!i[s-3]};break;case 90:case 108:case 119:case 209:case 217:case 219:case 231:case 233:case 243:case 247:case 267:case 269:case 273:case 277:case 300:case 306:case 317:case 327:case 333:case 339:case 343:case 353:case 355:case 359:case 367:case 371:case 373:case 381:case 383:case 387:case 389:case 398:case 430:case 432:case 442:case 446:case 448:case 450:this.$=[];break;case 91:this.$=Nr(i[s-2],i[s-1]);break;case 93:this.$=Ir(i[s-2],[i[s-1]]);break;case 94:case 105:this.$=i[s].map((function(e){return _r(Ur(i[s-1]),e)}));break;case 95:this.$=Or(i[s].map((function(e){return _r(Ur(i[s-1].entity),e)})),i[s-1].triples);break;case 97:this.$=Ir([i[s-1]],i[s]);break;case 98:this.$=Ir(i[s]);break;case 99:this.$=Jr(i[s-1],i[s]);break;case 102:case 115:case 122:this.$=un.factory.namedNode(dr);break;case 103:case 104:this.$=Nr(i[s-1],i[s]);break;case 106:this.$=i[s]?Or(i[s].map((function(e){return _r(Ur(i[s-1].entity),e)})),i[s-1].triples):i[s-1].triples;break;case 107:this.$=Jr(Rr(i[s-3]),Nr(i[s-2],i[s-1]),i[s]);break;case 109:this.$=Jr(Rr(i[s-1]),i[s]);break;case 110:this.$=i[s-1].length?Dr("|",Nr(i[s-1],i[s])):i[s];break;case 111:this.$=i[s-1].length?Dr("/",Nr(i[s-1],i[s])):i[s];break;case 112:this.$=i[s]?Dr(i[s],[i[s-1]]):i[s-1];break;case 113:this.$=i[s-1]?Dr(i[s-1],[i[s]]):i[s];break;case 116:case 123:this.$=Dr(i[s-1],[i[s]]);break;case 120:this.$=Dr("|",Nr(i[s-2],i[s-1]));break;case 124:this.$=Dr(i[s-1],[un.factory.namedNode(dr)]);break;case 125:case 127:this.$=Qr(i[s-1]);break;case 126:case 128:this.$=zr(i[s-1]);break;case 129:this.$={entity:i[s],triples:[]};break;case 131:this.$={entity:i[s],triples:[]};break;case 133:case 135:this.$=nn(un.factory.quad(i[s-4],i[s-3],i[s-2],Rr(i[s-6])));break;case 134:case 136:this.$=nn(un.factory.quad(i[s-3],i[s-2],i[s-1]));break;case 141:this.$=Vr(i[s].replace(/^(_:)/,""));break;case 142:this.$=Vr();break;case 143:this.$=un.factory.namedNode(hr);break;case 144:case 146:case 151:case 155:this.$=kr(i[s-1],i[s]);break;case 145:this.$=["||",i[s]];break;case 147:this.$=["&&",i[s]];break;case 149:this.$=Cr(i[s-1],[i[s-2],i[s]]);break;case 150:this.$=Cr(i[s-2]?"notin":"in",[i[s-3],i[s]]);break;case 152:case 156:this.$=[i[s-1],i[s]];break;case 153:this.$=["+",kr(i[s-1],i[s])];break;case 154:var l=Fr(i[s-1].value.replace("-",""),i[s-1].datatype);this.$=["-",kr(l,i[s])];break;case 158:this.$=Cr(i[s-1],[i[s]]);break;case 159:this.$=Cr("UMINUS",[i[s]]);break;case 168:this.$=Cr(Er(i[s-1]));break;case 169:this.$=Cr(Er(i[s-3]),[i[s-1]]);break;case 170:this.$=Cr(Er(i[s-5]),[i[s-3],i[s-1]]);break;case 171:this.$=Cr(Er(i[s-7]),[i[s-5],i[s-3],i[s-1]]);break;case 172:this.$=Cr(Er(i[s-1]),i[s]);break;case 173:this.$=Cr("bound",[Rr(i[s-1])]);break;case 174:this.$=Cr(i[s-1],[]);break;case 175:this.$=Cr(i[s-3],[i[s-1]]);break;case 176:this.$=Cr(i[s-2]?"notexists":"exists",[Pr(i[s])]);break;case 177:case 178:this.$=Ar(i[s-1],{type:"aggregate",aggregation:Er(i[s-4]),distinct:!!i[s-2]});break;case 179:this.$=Ar(i[s-2],{type:"aggregate",aggregation:Er(i[s-5]),distinct:!!i[s-3],separator:i[s-1]||" "});break;case 181:this.$=Fr(i[s]);break;case 182:this.$=Mr(i[s-1],Er(i[s].substr(1)));break;case 183:this.$=Fr(i[s-2],i[s]);break;case 184:case 197:this.$=Fr(i[s],vr);break;case 185:case 198:this.$=Fr(i[s],gr);break;case 186:case 199:this.$=Fr(Er(i[s]),mr);break;case 189:this.$=Fr(i[s].toLowerCase(),br);break;case 190:case 191:this.$=Xr(i[s],1);break;case 192:case 193:this.$=Xr(i[s],3);break;case 194:this.$=Fr(i[s].substr(1),vr);break;case 195:this.$=Fr(i[s].substr(1),gr);break;case 196:this.$=Fr(i[s].substr(1).toLowerCase(),mr);break;case 200:this.$=un.factory.namedNode(Sr(i[s]));break;case 201:var d=i[s].indexOf(":"),p=i[s].substr(0,d),f=un.prefixes[p];if(!f)throw new Error("Unknown prefix: "+p);var h=Sr(f+i[s].substr(d+1));this.$=un.factory.namedNode(h);break;case 202:if(i[s]=i[s].substr(0,i[s].length-1),!(i[s]in un.prefixes))throw new Error("Unknown prefix: "+i[s]);h=Sr(un.prefixes[i[s]]);this.$=un.factory.namedNode(h);break;case 210:case 218:case 220:case 222:case 232:case 234:case 240:case 244:case 248:case 262:case 264:case 266:case 268:case 270:case 272:case 274:case 276:case 301:case 307:case 318:case 334:case 368:case 384:case 403:case 405:case 431:case 433:case 443:case 447:case 449:case 451:i[s-1].push(i[s]);break;case 221:case 239:case 261:case 263:case 265:case 271:case 275:case 402:case 404:this.$=[i[s]];break;case 278:i[s-3].push(i[s-2]);break;case 328:case 340:case 344:case 354:case 356:case 360:case 372:case 374:case 382:case 388:case 390:case 399:i[s-2].push(i[s-1]);break}},table:[e(t,n,{3:1,4:2,7:3}),{1:[3]},e(a,[2,277],{5:4,8:5,313:6,9:7,103:8,17:9,40:10,49:11,54:12,104:13,18:14,22:15,25:19,6:[2,203],28:i,41:[1,16],50:[1,17],55:[1,18]}),e([6,28,41,50,55,107,117,120,122,123,132,133,138,322,323,324,325,326],[2,2],{314:21,11:22,14:23,12:[1,24],15:[1,25]}),{6:[1,26]},{6:[2,205]},{6:[2,206]},{6:[2,215],10:27,89:28,90:o},{6:[2,204]},e(s,[2,211]),e(s,[2,212]),e(s,[2,213]),e(s,[2,214]),{105:30,107:[1,31],110:32,113:33,117:[1,34],120:[1,35],122:[1,36],123:[1,37],124:38,128:39,132:[2,302],133:[2,296],137:45,138:[1,46],322:[1,40],323:[1,41],324:[1,42],325:[1,43],326:[1,44]},e(u,[2,217],{19:47}),e(u,[2,219],{23:48}),e(c,[2,233],{42:49,44:50,46:[1,51]}),{13:l,16:d,26:[1,54],34:p,51:52,60:57,312:f,318:55,319:53},e(u,[2,247],{56:61}),{26:[1,62],27:63,33:64,34:h,35:y},e(v,[2,225],{29:67,315:68,316:[1,69],317:[1,70]}),e(t,[2,210]),e(t,[2,207]),e(t,[2,208]),{13:[1,71]},{16:[1,72]},{1:[2,1]},{6:[2,3]},{6:[2,216]},{34:[1,74],35:[1,76],91:73,93:[1,75]},{6:[2,279],106:77,191:[1,78]},e(g,[2,281],{108:79,321:[1,80]}),e(m,[2,287],{111:81,321:[1,82]}),e(b,[2,292],{114:83,321:[1,84]}),{118:85,119:[2,294],321:[1,86]},{46:w,121:87},{46:w,121:89},{46:w,121:90},{125:91,133:x},{129:93,132:T},e(E,[2,285]),e(E,[2,286]),e(N,[2,289]),e(N,[2,290]),e(N,[2,291]),{132:[2,303],133:[2,297]},{13:l,16:d,60:95,312:f},{20:96,45:O,46:_,57:97,58:I,61:98},{20:101,45:O,46:_,57:102,58:I,61:98},e(u,[2,231],{43:103}),{45:[1,104],57:105,58:I},e(S,[2,359],{179:106,180:107,181:108,48:[2,357]}),e(R,[2,243],{52:109}),e(R,[2,241],{60:57,318:110,13:l,16:d,34:p,312:f}),e(R,[2,242]),e(C,[2,239]),e(C,[2,237]),e(C,[2,238]),e(A,[2,200]),e(A,[2,201]),e(A,[2,202]),{20:111,45:O,46:_,57:112,58:I,61:98},e(u,[2,8]),e(u,[2,9],{33:113,34:h,35:y}),e(D,[2,221]),e(D,[2,13]),e(k,j,{36:114,39:115,247:116,251:118,255:119,259:120,267:121,271:122,219:L,231:P,273:F,334:M}),e(v,[2,10]),e(v,[2,226]),e(v,[2,223]),e(v,[2,224]),e(t,[2,4]),{13:[1,126]},e(U,[2,40]),{46:[1,127]},{46:[1,128]},{34:[1,130],95:129},{6:[2,49]},e(t,n,{7:3,4:131}),{13:l,16:d,60:132,312:f},e(g,[2,282]),{112:133,119:[1,134],141:[1,136],143:135,320:[1,137],327:[1,138]},e(m,[2,288]),e(g,V,{115:139,142:141,119:B,141:q}),e(b,[2,293]),{119:[1,143]},{119:[2,295]},e(G,[2,54]),e(S,$,{144:144,151:145,152:146,48:H,119:H}),e(G,[2,55]),e(G,[2,56]),e(X,[2,298],{126:147,129:148,132:T}),{46:w,121:149},e(X,[2,304],{130:150,125:151,133:x}),{46:w,121:152},e([132,133],[2,62]),e(Q,z,{21:153,64:154,74:155,75:J}),e(u,[2,218]),{46:W,62:157},e(g,[2,249],{59:159,320:[1,160]}),{46:[2,252]},e(Y,K,{24:161,63:162,67:163,68:Z}),e(u,[2,220]),{20:165,45:O,46:_,57:166,58:I,61:98},{46:[1,167]},e(c,[2,234]),{48:[1,168]},{48:[2,358]},{13:l,16:d,34:ee,35:te,39:173,60:178,87:re,93:ne,98:179,153:169,183:170,185:171,226:ae,231:P,243:172,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(we,[2,245],{61:98,53:200,57:201,20:202,45:O,46:_,58:I}),e(C,[2,240]),e(Y,K,{63:162,67:163,24:203,68:Z}),e(u,[2,248]),e(D,[2,222]),{37:[1,204]},{37:[1,205]},e(xe,[2,430],{248:206}),{13:l,16:d,34:ee,39:209,60:178,87:re,93:ne,98:179,119:[1,207],231:P,236:208,243:210,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(Te,[2,432],{252:211}),e(Te,[2,148],{256:212,257:213,258:[2,440],295:[1,214],335:[1,215],336:[1,216],337:[1,217],338:[1,218],339:[1,219],340:[1,220]}),e(Ee,[2,442],{260:221}),e(Ne,[2,450],{268:222}),{13:l,16:d,34:Oe,35:_e,60:226,72:225,73:227,82:224,87:re,98:228,263:187,265:188,272:223,274:231,275:Ie,276:Se,277:Re,279:Ce,280:236,281:Ae,282:De,283:239,284:ke,285:je,288:Le,290:Pe,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f,340:Fe,341:Me,342:Ue,343:Ve,344:Be,345:qe},{13:l,16:d,34:Oe,35:_e,60:226,72:225,73:227,82:224,87:re,98:228,263:187,265:188,272:249,274:231,275:Ie,276:Se,277:Re,279:Ce,280:236,281:Ae,282:De,283:239,284:ke,285:je,288:Le,290:Pe,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f,340:Fe,341:Me,342:Ue,343:Ve,344:Be,345:qe},{13:l,16:d,34:Oe,35:_e,60:226,72:225,73:227,82:224,87:re,98:228,263:187,265:188,272:250,274:231,275:Ie,276:Se,277:Re,279:Ce,280:236,281:Ae,282:De,283:239,284:ke,285:je,288:Le,290:Pe,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f,340:Fe,341:Me,342:Ue,343:Ve,344:Be,345:qe},e(k,[2,455]),e(t,[2,5]),e(Ge,[2,267],{92:251}),e($e,[2,269],{94:252}),{34:[1,254],38:[1,253]},e(He,[2,271]),e(a,[2,278],{6:[2,280]}),e(G,[2,283],{109:255,139:256,140:[1,257]}),e(G,[2,51]),{13:l,16:d,60:258,312:f},e(G,[2,67]),e(G,[2,312]),e(G,[2,313]),e(G,[2,314]),{116:[1,259]},e(Xe,[2,64]),{13:l,16:d,60:260,312:f},e(g,[2,311]),{13:l,16:d,60:261,312:f},e(Qe,[2,317],{145:262}),e(Qe,[2,316]),{13:l,16:d,34:ee,35:te,39:173,60:178,87:re,93:ne,98:179,153:263,183:170,185:171,226:ae,231:P,243:172,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(X,[2,300],{127:264}),e(X,[2,299]),e([45,132,135],[2,60]),e(X,[2,306],{131:265}),e(X,[2,305]),e([45,133,135],[2,59]),e(s,[2,6]),e(ze,[2,257],{65:266,77:267,78:[1,268]}),e(Q,[2,256]),{13:l,16:d,35:_e,60:274,72:272,73:273,76:269,82:271,84:270,274:231,275:Ie,276:Se,277:Re,279:Ce,280:236,281:Ae,282:De,283:239,284:ke,285:je,288:Le,290:Pe,312:f,340:Fe,341:Me,342:Ue,343:Ve,344:Be,345:qe},e([6,48,68,75,78,86,88,90],[2,21]),e(S,Je,{25:19,30:275,155:276,18:277,22:278,156:279,162:280,163:281,28:i,46:We,48:We,90:We,119:We,167:We,168:We,170:We,173:We,174:We}),{13:l,16:d,60:282,312:f},e(g,[2,250]),e(s,[2,7]),e(Q,z,{64:154,74:155,21:283,75:J}),e(Y,[2,254]),{69:[1,284]},e(Y,K,{63:162,67:163,24:285,68:Z}),e(u,[2,232]),e(S,$,{152:146,47:286,151:287,48:[2,235]}),e(u,[2,92]),{48:[2,361],182:288,328:[1,289]},{13:l,16:d,34:Ye,60:294,184:290,188:291,193:292,195:Ke,312:f},e(Ze,[2,365],{188:291,193:292,60:294,186:296,187:297,184:298,13:l,16:d,34:Ye,195:Ke,312:f}),e(et,[2,363]),e(et,[2,364]),{13:l,16:d,34:ee,35:te,39:304,60:178,87:re,93:ne,98:179,185:302,197:300,225:299,226:ae,229:301,231:P,243:303,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},{13:l,16:d,34:Ye,60:294,184:305,188:291,193:292,195:Ke,312:f},e(tt,[2,137]),e(tt,[2,138]),e(tt,[2,139]),e(tt,[2,140]),e(tt,[2,141]),e(tt,[2,142]),e(tt,[2,143]),e(rt,[2,181],{297:[1,306],298:[1,307]}),e(rt,[2,184]),e(rt,[2,185]),e(rt,[2,186]),e(rt,[2,187]),e(rt,[2,188]),e(rt,[2,189]),e(nt,[2,190]),e(nt,[2,191]),e(nt,[2,192]),e(nt,[2,193]),e(rt,[2,194]),e(rt,[2,195]),e(rt,[2,196]),e(rt,[2,197]),e(rt,[2,198]),e(rt,[2,199]),e(Y,K,{63:162,67:163,24:308,68:Z}),e(R,[2,244]),e(we,[2,246]),e(s,[2,19]),{34:[1,309]},{34:[1,310]},e([37,38,191,278],[2,144],{249:311,250:[1,312]}),{13:l,16:d,34:[1,314],60:315,232:313,312:f},{13:l,16:d,34:Ye,60:294,193:316,195:Ke,312:f},e(et,[2,416]),e(et,[2,417]),e(xe,[2,146],{253:317,254:[1,318]}),e(k,j,{259:120,267:121,271:122,255:319,219:L,273:F,334:M}),{258:[1,320]},e(at,[2,434]),e(at,[2,435]),e(at,[2,436]),e(at,[2,437]),e(at,[2,438]),e(at,[2,439]),{258:[2,441]},e([37,38,191,250,254,258,278,295,335,336,337,338,339,340],[2,151],{261:321,262:322,263:323,265:324,273:[1,326],306:he,307:ye,308:ve,309:ge,310:me,311:be,334:[1,325]}),e(Ee,[2,155],{269:327,270:328,26:it,331:ot}),e(Ne,[2,157]),e(Ne,[2,160]),e(Ne,[2,161]),e(Ne,[2,162],{35:st,93:ut}),e(Ne,[2,163]),e(Ne,[2,164]),e(Ne,[2,165]),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:333,219:L,273:F,334:M}),e(ct,[2,167]),{93:[1,334]},{35:[1,335]},{35:[1,336]},{35:[1,337]},{35:lt,93:dt,177:338},{35:[1,341]},{35:[1,343],93:[1,342]},{284:[1,344]},{35:[1,345]},{35:[1,346]},{35:[1,347]},e(pt,[2,456]),e(pt,[2,457]),e(pt,[2,458]),e(pt,[2,459]),e(pt,[2,460]),{284:[2,462]},e(Ne,[2,158]),e(Ne,[2,159]),{13:l,16:d,48:[1,348],60:350,87:re,97:349,98:351,99:352,100:ft,231:ht,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},{48:[1,355],93:[1,356]},{46:[1,357]},e(He,[2,272]),e(G,[2,50]),e(G,[2,284]),{119:[1,358]},e(G,[2,66]),e(g,V,{142:141,115:359,119:B,141:q}),e(Xe,[2,65]),e(G,[2,53]),{48:[1,360],119:[1,362],146:361},e(Qe,[2,329],{154:363,328:[1,364]}),{45:[1,365],134:366,135:yt},{45:[1,368],134:369,135:yt},e(vt,[2,259],{66:370,85:371,86:[1,372],88:[1,373]}),e(ze,[2,258]),{69:[1,374]},e(Q,[2,30],{274:231,280:236,283:239,82:271,72:272,73:273,60:274,84:375,13:l,16:d,35:_e,275:Ie,276:Se,277:Re,279:Ce,281:Ae,282:De,284:ke,285:je,288:Le,290:Pe,312:f,340:Fe,341:Me,342:Ue,343:Ve,344:Be,345:qe}),e(gt,[2,263]),e(mt,[2,85]),e(mt,[2,86]),e(mt,[2,87]),{35:st,93:ut},{48:[1,376]},{48:[1,377]},{20:378,45:O,46:_,61:98},{20:379,45:O,46:_,61:98},e(bt,[2,333],{157:380}),e(bt,[2,332]),{13:l,16:d,34:ee,35:wt,39:385,60:178,87:re,93:ne,98:179,164:381,201:382,203:383,226:xt,231:P,243:384,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(R,[2,20]),e(vt,[2,22]),{13:l,16:d,34:Tt,35:Et,60:274,70:388,71:389,72:390,73:391,274:231,275:Ie,276:Se,277:Re,279:Ce,280:236,281:Ae,282:De,283:239,284:ke,285:je,288:Le,290:Pe,312:f,340:Fe,341:Me,342:Ue,343:Ve,344:Be,345:qe},e(s,[2,16]),{48:[1,394]},{48:[2,236]},{48:[2,93]},e(S,[2,360],{48:[2,362]}),e(Ze,[2,94]),e(Nt,[2,367],{189:395}),e(S,[2,371],{194:396,196:397}),e(S,[2,100]),e(S,[2,101]),e(S,[2,102]),e(Ze,[2,95]),e(Ze,[2,96]),e(Ze,[2,366]),{13:l,16:d,34:ee,35:te,38:[1,398],39:304,60:178,87:re,93:ne,98:179,185:302,197:399,226:ae,229:301,231:P,243:303,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(Ot,[2,402]),e(_t,[2,129]),e(_t,[2,130]),e(_t,[2,406]),e(_t,[2,407]),{227:[1,400]},e(rt,[2,182]),{13:l,16:d,60:401,312:f},e(s,[2,18]),{38:[1,402]},{38:[1,403]},e(xe,[2,431]),e(k,j,{251:118,255:119,259:120,267:121,271:122,247:404,219:L,273:F,334:M}),{46:[1,405]},{46:[2,410]},{46:[2,411]},{13:l,16:d,34:ee,39:407,60:178,87:re,93:ne,98:179,231:P,237:406,243:408,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(Te,[2,433]),e(k,j,{255:119,259:120,267:121,271:122,251:409,219:L,273:F,334:M}),e(Te,[2,149]),{35:lt,93:dt,177:410},e(Ee,[2,443]),e(k,j,{267:121,271:122,259:411,219:L,273:F,334:M}),e(Ne,[2,446],{264:412}),e(Ne,[2,448],{266:413}),e(at,[2,444]),e(at,[2,445]),e(Ne,[2,451]),e(k,j,{271:122,267:414,219:L,273:F,334:M}),e(at,[2,452]),e(at,[2,453]),e(ct,[2,88]),e(at,[2,351],{175:415,316:[1,416]}),{38:[1,417]},e(ct,[2,168]),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:418,219:L,273:F,334:M}),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:419,219:L,273:F,334:M}),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:420,219:L,273:F,334:M}),e(ct,[2,172]),e(ct,[2,90]),e(at,[2,355],{178:421}),{34:[1,422]},e(ct,[2,174]),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:423,219:L,273:F,334:M}),{46:W,62:424},e(It,[2,463],{286:425,316:[1,426]}),e(at,[2,467],{289:427,316:[1,428]}),e(at,[2,469],{291:429,316:[1,430]}),e(U,[2,41]),e(Ge,[2,268]),e(St,[2,44]),e(St,[2,45]),e(St,[2,46]),e(St,[2,47]),{13:l,16:d,60:178,87:re,93:ne,98:179,99:433,119:[1,431],231:ht,241:432,244:434,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(U,[2,42]),e($e,[2,270]),e(Rt,[2,273],{96:435}),{13:l,16:d,60:436,312:f},e(G,[2,52]),e([6,45,132,133,135,191],[2,68]),e(Qe,[2,318]),{13:l,16:d,34:[1,438],60:439,147:437,312:f},e(Qe,[2,70]),e(S,[2,328],{48:Ct,119:Ct}),{46:W,62:440},e(X,[2,301]),e(g,[2,308],{136:441,320:[1,442]}),{46:W,62:443},e(X,[2,307]),e(vt,[2,23]),e(vt,[2,260]),{87:[1,444]},{87:[1,445]},{13:l,16:d,34:At,35:_e,60:274,72:272,73:273,79:446,80:447,81:Dt,82:271,83:kt,84:450,274:231,275:Ie,276:Se,277:Re,279:Ce,280:236,281:Ae,282:De,283:239,284:ke,285:je,288:Le,290:Pe,312:f,340:Fe,341:Me,342:Ue,343:Ve,344:Be,345:qe},e(gt,[2,264]),e(jt,[2,71]),e(jt,[2,72]),e(Q,z,{64:154,74:155,21:452,75:J}),e(Y,K,{63:162,67:163,24:453,68:Z}),{46:[2,343],48:[2,73],89:463,90:o,119:[1,459],158:454,159:455,166:456,167:[1,457],168:[1,458],170:[1,460],173:[1,461],174:[1,462]},e(bt,[2,341],{165:464,328:[1,465]}),e(Lt,Pt,{202:466,205:467,210:468,211:470,34:Ft}),e(Mt,[2,377],{205:467,210:468,211:470,204:471,202:472,13:Pt,16:Pt,35:Pt,195:Pt,219:Pt,224:Pt,312:Pt,34:Ft}),e(Ut,[2,375]),e(Ut,[2,376]),{13:l,16:d,34:ee,35:wt,39:478,60:178,87:re,93:ne,98:179,200:474,203:476,226:xt,228:473,230:475,231:P,243:477,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(Lt,Pt,{205:467,210:468,211:470,202:479,34:Ft}),e(Y,[2,24],{274:231,280:236,283:239,60:274,72:390,73:391,71:480,13:l,16:d,34:Tt,35:Et,275:Ie,276:Se,277:Re,279:Ce,281:Ae,282:De,284:ke,285:je,288:Le,290:Pe,312:f,340:Fe,341:Me,342:Ue,343:Ve,344:Be,345:qe}),e(Vt,[2,261]),e(Vt,[2,25]),e(Vt,[2,26]),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:481,219:L,273:F,334:M}),e(Vt,[2,29]),e(Y,K,{63:162,67:163,24:482,68:Z}),e([48,119,227,328],[2,97],{190:483,191:[1,484]}),e(Nt,[2,99]),{13:l,16:d,34:ee,35:te,39:304,60:178,87:re,93:ne,98:179,185:302,197:485,226:ae,229:301,231:P,243:303,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(Bt,[2,125]),e(Ot,[2,403]),e(Bt,[2,126]),e(rt,[2,183]),e(D,[2,14]),e(D,[2,15]),e(xe,[2,145]),{13:l,16:d,34:ee,39:487,60:178,87:re,93:ne,98:179,231:P,233:486,243:488,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},{235:[1,489]},{235:[2,418]},{235:[2,419]},e(Te,[2,147]),e(Te,[2,150]),e(Ee,[2,152]),e(Ee,[2,153],{270:328,269:490,26:it,331:ot}),e(Ee,[2,154],{270:328,269:491,26:it,331:ot}),e(Ne,[2,156]),e(at,[2,353],{176:492}),e(at,[2,352]),e([6,13,16,26,34,35,37,38,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,226,231,245,246,250,254,258,273,275,276,277,278,279,281,282,284,285,288,290,295,299,300,301,302,303,304,305,306,307,308,309,310,311,312,328,331,334,335,336,337,338,339,340,341,342,343,344,345],[2,166]),{38:[1,493]},{278:[1,494]},{278:[1,495]},e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:496,219:L,273:F,334:M}),{38:[1,497]},{38:[1,498]},e(ct,[2,176]),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,287:499,36:501,26:[1,500],219:L,273:F,334:M}),e(It,[2,464]),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:502,219:L,273:F,334:M}),e(at,[2,468]),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:503,219:L,273:F,334:M}),e(at,[2,470]),{13:l,16:d,34:[1,505],60:506,238:504,312:f},{13:l,16:d,34:Ye,60:294,193:507,195:Ke,312:f},e(et,[2,426]),e(et,[2,427]),{35:[1,510],48:[1,508],101:509},e(G,[2,63]),{46:[1,511]},{46:[2,319]},{46:[2,320]},e(G,[2,57]),{13:l,16:d,60:512,312:f},e(g,[2,309]),e(G,[2,58]),e(vt,[2,36],{88:[1,513]}),e(vt,[2,37],{86:[1,514]}),e(ze,[2,31],{274:231,280:236,283:239,82:271,72:272,73:273,60:274,84:450,80:515,13:l,16:d,34:At,35:_e,81:Dt,83:kt,275:Ie,276:Se,277:Re,279:Ce,281:Ae,282:De,284:ke,285:je,288:Le,290:Pe,312:f,340:Fe,341:Me,342:Ue,343:Ve,344:Be,345:qe}),e(qt,[2,265]),{35:_e,82:516},{35:_e,82:517},e(qt,[2,34]),e(qt,[2,35]),{31:518,48:[2,227],89:519,90:o},{32:520,48:[2,229],89:521,90:o},e(bt,[2,334]),e(Gt,[2,335],{160:522,328:[1,523]}),{46:W,62:524},{46:W,62:525},{46:W,62:526},{13:l,16:d,34:[1,528],60:529,169:527,312:f},e($t,[2,347],{171:530,321:[1,531]}),{13:l,16:d,35:_e,60:274,72:272,73:273,82:271,84:532,274:231,275:Ie,276:Se,277:Re,279:Ce,280:236,281:Ae,282:De,283:239,284:ke,285:je,288:Le,290:Pe,312:f,340:Fe,341:Me,342:Ue,343:Ve,344:Be,345:qe},{35:[1,533]},e(Ht,[2,84]),e(bt,[2,75]),e(S,[2,340],{46:Xt,48:Xt,90:Xt,119:Xt,167:Xt,168:Xt,170:Xt,173:Xt,174:Xt}),e(Mt,[2,105]),e(S,[2,381],{206:534}),e(S,[2,379]),e(S,[2,380]),e(Lt,[2,389],{212:535,213:536}),e(Mt,[2,106]),e(Mt,[2,378]),{13:l,16:d,34:ee,35:wt,38:[1,537],39:478,60:178,87:re,93:ne,98:179,200:538,203:476,226:xt,230:475,231:P,243:477,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(Ot,[2,404]),e(Qt,[2,131]),e(Qt,[2,132]),e(Qt,[2,408]),e(Qt,[2,409]),{227:[1,539]},e(Vt,[2,262]),{37:[1,541],38:[1,540]},e(s,[2,17]),e(Nt,[2,368]),e(Nt,[2,369],{193:292,60:294,192:542,188:543,13:l,16:d,34:Ye,195:Ke,312:f}),e(Nt,[2,103],{278:[1,544]}),{13:l,16:d,34:Ye,60:294,193:545,195:Ke,312:f},e(et,[2,412]),e(et,[2,413]),e(zt,[2,134]),e(Ne,[2,447]),e(Ne,[2,449]),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:546,219:L,273:F,334:M}),e(ct,[2,169]),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:547,219:L,273:F,334:M}),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:548,219:L,273:F,334:M}),{38:[1,549],278:[1,550]},e(ct,[2,173]),e(ct,[2,175]),{38:[1,551]},{38:[2,465]},{38:[2,466]},{38:[1,552]},{38:[2,471],191:[1,555],292:553,293:554},{46:[1,556]},{46:[2,420]},{46:[2,421]},{13:l,16:d,60:178,87:re,93:ne,98:179,99:558,231:ht,242:557,244:559,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(U,[2,43]),e(Rt,[2,274]),{13:l,16:d,60:350,87:re,97:561,98:351,99:352,100:ft,102:560,231:ht,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(S,$,{152:146,148:562,151:563,48:[2,321]}),e(X,[2,61]),{87:[1,564]},{87:[1,565]},e(qt,[2,266]),e(qt,[2,32]),e(qt,[2,33]),{48:[2,11]},{48:[2,228]},{48:[2,12]},{48:[2,230]},e(S,Je,{163:281,161:566,162:567,46:Jt,48:Jt,90:Jt,119:Jt,167:Jt,168:Jt,170:Jt,173:Jt,174:Jt}),e(Gt,[2,336]),e(Ht,[2,76],{329:[1,568]}),e(Ht,[2,77]),e(Ht,[2,78]),{46:W,62:569},{46:[2,345]},{46:[2,346]},{13:l,16:d,34:[1,571],60:572,172:570,312:f},e($t,[2,348]),e(Ht,[2,81]),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:573,39:574,219:L,231:P,273:F,334:M}),{13:l,16:d,34:ee,35:wt,39:478,60:178,87:re,93:ne,98:179,200:575,203:476,226:xt,230:475,231:P,243:477,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(Ot,[2,110],{330:[1,576]}),e(Wt,[2,396],{214:577,218:578,224:[1,579]}),e(Yt,[2,127]),e(Ot,[2,405]),e(Yt,[2,128]),e(Vt,[2,27]),{34:[1,580]},e(Nt,[2,98]),e(Nt,[2,370]),e(S,[2,372]),{13:l,16:d,34:ee,39:582,60:178,87:re,93:ne,98:179,231:P,234:581,243:583,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},{38:[1,584],278:[1,585]},{38:[1,586]},{278:[1,587]},e(ct,[2,91]),e(at,[2,356]),e(ct,[2,177]),e(ct,[2,178]),{38:[1,588]},{38:[2,472]},{294:[1,589]},{13:l,16:d,60:178,87:re,93:ne,98:179,99:591,231:ht,239:590,244:592,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},{235:[1,593]},{235:[2,428]},{235:[2,429]},{13:l,16:d,38:[1,594],60:350,87:re,97:595,98:351,99:352,100:ft,231:ht,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(Kt,[2,275]),{48:[1,596]},{48:[2,322]},e(vt,[2,38]),e(vt,[2,39]),e(bt,[2,74]),e(bt,[2,338]),{46:[2,344]},e(Ht,[2,79]),{46:W,62:597},{46:[2,349]},{46:[2,350]},{37:[1,598]},{37:[1,599]},e(Zt,[2,383],{207:600,278:[1,601]}),e(Lt,[2,388]),e([13,16,34,35,38,87,93,226,231,245,246,299,300,301,302,303,304,305,306,307,308,309,310,311,312,330],[2,111],{331:[1,602]}),{13:l,16:d,35:[1,608],60:605,195:[1,606],215:603,216:604,219:[1,607],312:f},e(Wt,[2,397]),{38:[1,609]},{48:[1,610]},{48:[2,414]},{48:[2,415]},e(ct,[2,89]),e(at,[2,354]),e(ct,[2,170]),e(k,j,{247:116,251:118,255:119,259:120,267:121,271:122,36:611,219:L,273:F,334:M}),e(ct,[2,179]),{295:[1,612]},{13:l,16:d,34:Ye,60:294,193:613,195:Ke,312:f},e(et,[2,422]),e(et,[2,423]),e(er,[2,136]),e(Rt,[2,48]),e(Kt,[2,276]),e(tr,[2,323],{149:614,328:[1,615]}),e(Ht,[2,80]),{34:[1,616]},{34:[1,617]},e([46,48,90,119,167,168,170,173,174,227,328],[2,107],{208:618,191:[1,619]}),e(S,[2,382]),e(Lt,[2,390]),e(rr,[2,113]),e(rr,[2,394],{217:620,332:621,26:[1,623],333:[1,622],334:[1,624]}),e(nr,[2,114]),e(nr,[2,115]),{13:l,16:d,35:[1,628],60:629,93:[1,627],195:ar,220:625,221:626,224:ir,312:f},e(Lt,Pt,{211:470,210:632}),e(Vt,[2,28]),{235:[1,633]},{38:[1,634]},{296:635,302:le,303:de,304:pe,305:fe},{13:l,16:d,60:178,87:re,93:ne,98:179,99:637,231:ht,240:636,244:638,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},e(S,$,{152:146,150:639,151:640,48:or,119:or}),e(tr,[2,324]),{38:[1,641]},{38:[1,642]},e(Zt,[2,384]),e(Zt,[2,108],{211:470,209:643,210:644,13:Pt,16:Pt,35:Pt,195:Pt,219:Pt,224:Pt,312:Pt,34:[1,645]}),e(rr,[2,112]),e(rr,[2,395]),e(rr,[2,391]),e(rr,[2,392]),e(rr,[2,393]),e(nr,[2,116]),e(nr,[2,118]),e(nr,[2,119]),e(sr,[2,398],{222:646}),e(nr,[2,121]),e(nr,[2,122]),{13:l,16:d,60:647,195:[1,648],312:f},{38:[1,649]},e(zt,[2,133]),e(ct,[2,171]),{38:[2,180]},{48:[1,650]},{48:[2,424]},{48:[2,425]},e(Qe,[2,69]),e(Qe,[2,326]),e(Ht,[2,82]),e(Ht,[2,83]),e(S,[2,373],{198:651,199:652}),e(S,[2,385]),e(S,[2,386]),{13:l,16:d,38:[2,400],60:629,195:ar,221:654,223:653,224:ir,312:f},e(nr,[2,123]),e(nr,[2,124]),e(nr,[2,117]),{235:[1,655]},e(Zt,[2,109]),{13:l,16:d,34:ee,35:wt,39:478,60:178,87:re,93:ne,98:179,200:656,203:476,226:xt,230:475,231:P,243:477,244:177,245:ie,246:oe,263:187,265:188,296:183,299:se,300:ue,301:ce,302:le,303:de,304:pe,305:fe,306:he,307:ye,308:ve,309:ge,310:me,311:be,312:f},{38:[1,657]},{38:[2,401],330:[1,658]},e(er,[2,135]),e(Zt,[2,104],{278:[1,659]}),e(nr,[2,120]),e(sr,[2,399]),e(S,[2,374])],defaultActions:{5:[2,205],6:[2,206],8:[2,204],26:[2,1],27:[2,3],28:[2,216],77:[2,49],86:[2,295],100:[2,252],107:[2,358],220:[2,441],248:[2,462],287:[2,236],288:[2,93],314:[2,410],315:[2,411],407:[2,418],408:[2,419],438:[2,319],439:[2,320],500:[2,465],501:[2,466],505:[2,420],506:[2,421],518:[2,11],519:[2,228],520:[2,12],521:[2,230],528:[2,345],529:[2,346],554:[2,472],558:[2,428],559:[2,429],563:[2,322],568:[2,344],571:[2,349],572:[2,350],582:[2,414],583:[2,415],635:[2,180],637:[2,424],638:[2,425]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],a=[],i=this.table,o="",s=0,u=0,c=0,l=2,d=1,p=a.slice.call(arguments,1),f=Object.create(this.lexer),h={yy:{}};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(h.yy[y]=this.yy[y]);f.setInput(e,h.yy),h.yy.lexer=f,h.yy.parser=this,"undefined"==typeof f.yylloc&&(f.yylloc={});var v=f.yylloc;a.push(v);var g=f.options&&f.options.ranges;"function"===typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;var m,b,w,x,T,E,N,O,_,I=function(){var e;return e=f.lex()||d,"number"!==typeof e&&(e=t.symbols_[e]||e),e},S={};while(1){if(w=r[r.length-1],this.defaultActions[w]?x=this.defaultActions[w]:(null!==m&&"undefined"!=typeof m||(m=I()),x=i[w]&&i[w][m]),"undefined"===typeof x||!x.length||!x[0]){var R="";for(E in _=[],i[w])this.terminals_[E]&&E>l&&_.push("'"+this.terminals_[E]+"'");R=f.showPosition?"Parse error on line "+(s+1)+":\n"+f.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(m==d?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(R,{text:f.match,token:this.terminals_[m]||m,line:f.yylineno,loc:v,expected:_})}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+m);switch(x[0]){case 1:r.push(m),n.push(f.yytext),a.push(f.yylloc),r.push(x[1]),m=null,b?(m=b,b=null):(u=f.yyleng,o=f.yytext,s=f.yylineno,v=f.yylloc,c>0&&c--);break;case 2:if(N=this.productions_[x[1]][1],S.$=n[n.length-N],S._$={first_line:a[a.length-(N||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(N||1)].first_column,last_column:a[a.length-1].last_column},g&&(S._$.range=[a[a.length-(N||1)].range[0],a[a.length-1].range[1]]),T=this.performAction.apply(S,[o,u,s,h.yy,x[1],n,a].concat(p)),"undefined"!==typeof T)return T;N&&(r=r.slice(0,-1*N*2),n=n.slice(0,-1*N),a=a.slice(0,-1*N)),r.push(this.productions_[x[1]][0]),n.push(S.$),a.push(S._$),O=i[r[r.length-2]][r[r.length-1]],r.push(O);break;case 3:return!0}}return!0}},cr=r("51b7").Wildcard,lr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",dr=lr+"type",pr=lr+"first",fr=lr+"rest",hr=lr+"nil",yr="http://www.w3.org/2001/XMLSchema#",vr=yr+"integer",gr=yr+"decimal",mr=yr+"double",br=yr+"boolean",wr="",xr="",Tr="";function Er(e){return e.toLowerCase()}function Nr(e,t){return e.push(t),e}function Or(e,t){return e.push.apply(e,t),e}function _r(e){e||(e={});for(var t,r=1,n=arguments.length;r<n&&(t=arguments[r]||{});r++)for(var a in t)e[a]=t[a];return e}function Ir(){for(var e=[],t=0,r=arguments.length;t<r;t++)e=e.concat.apply(e,arguments[t]);return e}function Sr(e){if("<"===e[0]&&(e=e.substring(1,e.length-1)),/^[a-z]+:/i.test(e))return e;if(!un.base)throw new Error("Cannot resolve relative IRI "+e+" because no base IRI was set.");switch(wr!==un.base&&(wr=un.base,xr=wr.replace(/[^\/:]*$/,""),Tr=wr.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),e[0]){case void 0:return wr;case"#":return wr+e;case"?":return wr.replace(/(?:\?.*)?$/,e);case"/":return Tr+e;default:return xr+e}}function Rr(e){if(e){var t=e[0];if("?"===t||"$"===t)return un.factory.variable(e.substr(1))}return e}function Cr(e,t){return{type:"operation",operator:e,args:t||[]}}function Ar(e,t){var r={expression:"*"===e?new cr:e};if(t)for(var n in t)r[n]=t[n];return r}function Dr(e,t){return{type:"path",pathType:e,items:t}}function kr(e,t){for(var r,n=0,a=t.length;n<a&&(r=t[n]);n++)e=Cr(r[0],[e,r[1]]);return e}function jr(e,t){var r,n=[],a=[],i=e.length,o={};if(!i)return null;for(var s=0;s<i&&(r=e[s]);s++)(r.named?a:n).push(r.iri);return o[t||"from"]={default:n,named:a},o}function Lr(e){return parseInt(e,10)}function Pr(e){return"group"===e.type&&1===e.patterns.length?e.patterns[0]:e}function Fr(e,t){return t&&"NamedNode"!==t.termType&&(t=un.factory.namedNode(t)),un.factory.literal(e,t)}function Mr(e,t){return un.factory.literal(e,t)}function Ur(e,t,r){var n={};return null!=e&&(n.subject=e),null!=t&&(n.predicate=t),null!=r&&(n.object=r),n}function Vr(e){return"string"===typeof e?e.startsWith("e_")?un.factory.blankNode(e):un.factory.blankNode("e_"+e):un.factory.blankNode("g_"+Br++)}var Br=0;un._resetBlanks=function(){Br=0};var qr=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Gr={"\\":"\\","'":"'",'"':'"',t:"\t",b:"\b",n:"\n",r:"\r",f:"\f"},$r=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,Hr=String.fromCharCode;function Xr(e,t){e=e.substring(t,e.length-t);try{e=e.replace(qr,(function(e,t,r,n){var a;if(t){if(a=parseInt(t,16),isNaN(a))throw new Error;return Hr(a)}if(r){if(a=parseInt(r,16),isNaN(a))throw new Error;return a<65535?Hr(a):Hr(55296+((a-=65536)>>10),56320+(1023&a))}var i=Gr[n];if(!i)throw new Error;return i}))}catch(r){return""}if($r.exec(e))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+e);return e}function Qr(e){var t=Vr(),r=t,n=[],a=[];e.forEach((function(e){n.push(e.entity),Or(a,e.triples)}));for(var i=0,o=0,s=n.length,u=Array(2*s);i<s;)u[o++]=Ur(r,un.factory.namedNode(pr),n[i]),u[o++]=Ur(r,un.factory.namedNode(fr),r=++i<s?Vr():un.factory.namedNode(hr));return{entity:t,triples:Or(u,a)}}function zr(e){var t=Vr();return{entity:t,triples:e.map((function(e){return _r(Ur(t),e)}))}}function Jr(e,t,r){var n=[],a=[];return t.forEach((function(t){n.push(Ur(null,e,t.entity)),Or(a,t.triples)})),Ir(n,r||[],a)}function Wr(e){return e.variable?e.variable.value:e.value||e.expression.value}function Yr(e){if(!e)return[];if("aggregate"===e.type)return[e];if("operation"===e.type){const t=[];for(const r of e.args)t.push(...Yr(r));return t}return[]}function Kr(e){const t=new Set,r=function(e){e&&("Variable"===e.termType?t.add(e):"operation"===e.type&&e.args.forEach(r))};return r(e),t}function Zr(e,t=1,r=[]){for(const n of e)t>0&&n instanceof Array?Zr(n,t-1,r):r.push(n);return r}function en(e){return"Variable"===e.termType}function tn(e){if(e.triples){const t=[];for(const r of e.triples)en(r.subject)&&t.push(r.subject.value),en(r.predicate)&&t.push(r.predicate.value),en(r.object)&&t.push(r.object.value);return t}if(e.patterns){const t=[];for(const r of e.patterns)t.push(...tn(r));return t}return[]}function rn(e){const t=e.slice().sort(),r=[];for(let n=0;n<t.length-1;n++)t[n+1]==t[n]&&r.push(t[n]);return r}function nn(e){if(!un.sparqlStar)throw new Error("SPARQL* support is not enabled");return e}function an(e){for(const t of e){if("graph"===t.type&&"Variable"===t.name.termType)throw new Error("Detected illegal variable in GRAPH");if("bgp"===t.type||"graph"===t.type)for(const e of t.triples)if("Variable"===e.subject.termType||"Variable"===e.predicate.termType||"Variable"===e.object.termType)throw new Error("Detected illegal variable in BGP")}return e}function on(e){for(const t of e)if("bgp"===t.type)for(const e of t.triples)if("BlankNode"===e.subject.termType||"BlankNode"===e.predicate.termType||"BlankNode"===e.object.termType)throw new Error("Detected illegal blank node in BGP");return e}var sn=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var a=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,a;if(this.options.backtrack_lexer&&(a={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(a.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var i in a)this[i]=a[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),i=0;i<a.length;i++)if(r=this._input.match(this.rules[a[i]]),r&&(!t||r[0].length>t[0].length)){if(t=r,n=i,this.options.backtrack_lexer){if(e=this.test_match(r,a[i]),!1!==e)return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?(e=this.test_match(t,a[n]),!1!==e&&e):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions["INITIAL"].rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 12;case 2:return 15;case 3:return 28;case 4:return 316;case 5:return 317;case 6:return 35;case 7:return 37;case 8:return 38;case 9:return 26;case 10:return 41;case 11:return 45;case 12:return 46;case 13:return 48;case 14:return 50;case 15:return 55;case 16:return 58;case 17:return 320;case 18:return 68;case 19:return 69;case 20:return 75;case 21:return 78;case 22:return 81;case 23:return 83;case 24:return 86;case 25:return 88;case 26:return 90;case 27:return 191;case 28:return 107;case 29:return 321;case 30:return 140;case 31:return 322;case 32:return 323;case 33:return 117;case 34:return 324;case 35:return 116;case 36:return 325;case 37:return 326;case 38:return 120;case 39:return 122;case 40:return 123;case 41:return 138;case 42:return 132;case 43:return 133;case 44:return 135;case 45:return 141;case 46:return 119;case 47:return 327;case 48:return 328;case 49:return 167;case 50:return 170;case 51:return 174;case 52:return 100;case 53:return 168;case 54:return 329;case 55:return 173;case 56:return 231;case 57:return 235;case 58:return 278;case 59:return 195;case 60:return 330;case 61:return 331;case 62:return 224;case 63:return 333;case 64:return 334;case 65:return 219;case 66:return 226;case 67:return 227;case 68:return 250;case 69:return 254;case 70:return 295;case 71:return 335;case 72:return 336;case 73:return 337;case 74:return 338;case 75:return 339;case 76:return 258;case 77:return 340;case 78:return 273;case 79:return 281;case 80:return 282;case 81:return 275;case 82:return 276;case 83:return 277;case 84:return 341;case 85:return 342;case 86:return 279;case 87:return 344;case 88:return 343;case 89:return 345;case 90:return 284;case 91:return 285;case 92:return 288;case 93:return 290;case 94:return 294;case 95:return 298;case 96:return 301;case 97:return 13;case 98:return 16;case 99:return 312;case 100:return 245;case 101:return 34;case 102:return 297;case 103:return 87;case 104:return 299;case 105:return 300;case 106:return 306;case 107:return 307;case 108:return 308;case 109:return 309;case 110:return 310;case 111:return 311;case 112:return"EXPONENT";case 113:return 302;case 114:return 303;case 115:return 304;case 116:return 305;case 117:return 93;case 118:return 246;case 119:return 6;case 120:return"INVALID";case 121:console.log(t.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121],inclusive:!0}}};return e}();function un(){this.yy={}}return ur.lexer=sn,un.prototype=ur,ur.Parser=un,new un}();t.parser=a,t.Parser=a.Parser,t.parse=function(){return a.parse.apply(a,arguments)},t.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1));var a=r(24).readFileSync(r(25).normalize(n[1]),"utf8");return t.parser.parse(a)},r.c[r.s]===n&&t.main(e.argv.slice(1))}).call(this,r("4362"),r("62e4")(e))},f060:function(e,t,r){"use strict";const n=r("29308"),a={};e.exports=a,a.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},a.parse=(e,t)=>{const r={},n=a.parsers[t||"full"],i=n.regex.exec(e);let o=n.keys.length;while(o--)r[n.keys[o]]=void 0===i[o]?null:i[o];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=a.removeDotSegments(r.path),r},a.prependBase=(e,t)=>{if(null===e)return t;if(a.isAbsolute(t))return t;e&&!n.isString(e)||(e=a.parse(e||""));const r=a.parse(t),i={protocol:e.protocol||""};if(null!==r.authority)i.authority=r.authority,i.path=r.path,i.query=r.query;else if(i.authority=e.authority,""===r.path)i.path=e.path,null!==r.query?i.query=r.query:i.query=e.query;else{if(0===r.path.indexOf("/"))i.path=r.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=r.path,i.path=t}i.query=r.query}""!==r.path&&(i.path=a.removeDotSegments(i.path));let o=i.protocol;return null!==i.authority&&(o+="//"+i.authority),o+=i.path,null!==i.query&&(o+="?"+i.query),null!==r.fragment&&(o+="#"+r.fragment),""===o&&(o="./"),o},a.removeBase=(e,t)=>{if(null===e)return t;e&&!n.isString(e)||(e=a.parse(e||""));let r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;const i=a.parse(t.substr(r.length)),o=e.normalizedPath.split("/"),s=i.normalizedPath.split("/"),u=i.fragment||i.query?0:1;while(o.length>0&&s.length>u){if(o[0]!==s[0])break;o.shift(),s.shift()}let c="";if(o.length>0){o.pop();for(let e=0;e<o.length;++e)c+="../"}return c+=s.join("/"),null!==i.query&&(c+="?"+i.query),null!==i.fragment&&(c+="#"+i.fragment),""===c&&(c="./"),c},a.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),r=[];while(t.length>0){const e=t.shift(),n=0===t.length;"."!==e?".."!==e?r.push(e):(r.pop(),n&&r.push("")):n&&r.push("")}return"/"===e[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};const i=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;a.isAbsolute=e=>n.isString(e)&&i.test(e),a.isRelative=e=>n.isString(e)},f499:function(e,t,r){"use strict";const n=r("a2c2"),{isArray:a,isObject:i,isEmptyObject:o,isString:s,isUndefined:u}=r("29308"),{isList:c,isValue:l,isGraph:d,isSubject:p}=r("4192"),{expandIri:f,getContextValue:h,isKeyword:y,process:v,processingMode:g}=r("5749"),{isAbsolute:m}=r("f060"),{addValue:b,asArray:w,getValues:x,validateTypeValue:T}=r("14b4"),E={};e.exports=E;const N=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;async function O({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:d,expandedParent:x,options:_={},insideList:R,typeKey:C,typeScopedContext:A,expansionMap:D}){const k=Object.keys(d).sort(),j=[];let L;const P=d[C]&&"@json"===f(e,a(d[C])?d[C][0]:d[C],{vocab:!0},_);for(const O of k){let C,k=d[O];if("@context"===O)continue;let F=f(e,O,{vocab:!0},_);if((null===F||!m(F)&&!y(F))&&(F=D({unmappedProperty:O,activeCtx:e,activeProperty:t,parent:d,options:_,insideList:R,value:k,expandedParent:x}),void 0===F))continue;if(y(F)){if("@reverse"===r)throw new n("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:k});if(F in x&&"@included"!==F&&"@type"!==F)throw new n("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:F})}if("@id"===F){if(!s(k)){if(!_.isFrame)throw new n('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:k});if(i(k)){if(!o(k))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:k})}else{if(!a(k))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:k});if(!k.every(e=>s(e)))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:k})}}b(x,"@id",w(k).map(t=>s(t)?f(e,t,{base:!0},_):t),{propertyIsArray:_.isFrame});continue}if("@type"===F){i(k)&&(k=Object.fromEntries(Object.entries(k).map(([e,t])=>[f(A,e,{vocab:!0}),w(t).map(e=>f(A,e,{base:!0,vocab:!0}))]))),T(k,_.isFrame),b(x,"@type",w(k).map(e=>s(e)?f(A,e,{base:!0,vocab:!0},_):e),{propertyIsArray:_.isFrame});continue}if("@included"===F&&g(e,1.1)){const r=w(await E.expand({activeCtx:e,activeProperty:t,element:k,options:_,expansionMap:D}));if(!r.every(e=>p(e)))throw new n("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:k});b(x,"@included",r,{propertyIsArray:!0});continue}if("@graph"===F&&!i(k)&&!a(k))throw new n('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:k});if("@value"===F){L=k,P&&g(e,1.1)?x["@value"]=k:b(x,"@value",k,{propertyIsArray:_.isFrame});continue}if("@language"===F){if(null===k)continue;if(!s(k)&&!_.isFrame)throw new n('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:k});k=w(k).map(e=>s(e)?e.toLowerCase():e);for(const e of k)s(e)&&!e.match(N)&&console.warn("@language must be valid BCP47: "+e);b(x,"@language",k,{propertyIsArray:_.isFrame});continue}if("@direction"===F){if(!s(k)&&!_.isFrame)throw new n('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:k});k=w(k);for(const e of k)if(s(e)&&"ltr"!==e&&"rtl"!==e)throw new n('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:k});b(x,"@direction",k,{propertyIsArray:_.isFrame});continue}if("@index"===F){if(!s(k))throw new n('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:k});b(x,"@index",k);continue}if("@reverse"===F){if(!i(k))throw new n('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:k});if(C=await E.expand({activeCtx:e,activeProperty:"@reverse",element:k,options:_,expansionMap:D}),"@reverse"in C)for(const e in C["@reverse"])b(x,e,C["@reverse"][e],{propertyIsArray:!0});let t=x["@reverse"]||null;for(const e in C){if("@reverse"===e)continue;null===t&&(t=x["@reverse"]={}),b(t,e,[],{propertyIsArray:!0});const r=C[e];for(let a=0;a<r.length;++a){const i=r[a];if(l(i)||c(i))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:C});b(t,e,i,{propertyIsArray:!0})}}continue}if("@nest"===F){j.push(O);continue}let M=e;const U=h(e,O,"@context");u(U)||(M=await v({activeCtx:e,localCtx:U,propagate:!0,overrideProtected:!0,options:_}));const V=h(M,O,"@container")||[];if(V.includes("@language")&&i(k)){const e=h(M,O,"@direction");C=I(M,k,e,_)}else if(V.includes("@index")&&i(k)){const t=V.includes("@graph"),r=h(M,O,"@index")||"@index",n="@index"!==r&&f(e,r,{vocab:!0},_);C=await S({activeCtx:M,options:_,activeProperty:O,value:k,expansionMap:D,asGraph:t,indexKey:r,propertyIndex:n})}else if(V.includes("@id")&&i(k)){const e=V.includes("@graph");C=await S({activeCtx:M,options:_,activeProperty:O,value:k,expansionMap:D,asGraph:e,indexKey:"@id"})}else if(V.includes("@type")&&i(k))C=await S({activeCtx:M.revertToPreviousContext(),options:_,activeProperty:O,value:k,expansionMap:D,asGraph:!1,indexKey:"@type"});else{const n="@list"===F;if(n||"@set"===F){let e=t;n&&"@graph"===r&&(e=null),C=await E.expand({activeCtx:M,activeProperty:e,element:k,options:_,insideList:n,expansionMap:D})}else C="@json"===h(e,O,"@type")?{"@type":"@json","@value":k}:await E.expand({activeCtx:M,activeProperty:O,element:k,options:_,insideList:!1,expansionMap:D})}if(null!==C||"@value"===F||(C=D({unmappedValue:k,expandedProperty:F,activeCtx:M,activeProperty:t,parent:d,options:_,insideList:R,key:O,expandedParent:x}),void 0!==C))if("@list"!==F&&!c(C)&&V.includes("@list")&&(C={"@list":w(C)}),V.includes("@graph")&&!V.some(e=>"@id"===e||"@index"===e)&&(C=w(C).map(e=>({"@graph":w(e)}))),M.mappings.has(O)&&M.mappings.get(O).reverse){const e=x["@reverse"]=x["@reverse"]||{};C=w(C);for(let t=0;t<C.length;++t){const r=C[t];if(l(r)||c(r))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:C});b(e,F,r,{propertyIsArray:!0})}}else b(x,F,C,{propertyIsArray:!0})}if("@value"in x)if("@json"===x["@type"]&&g(e,1.1));else if((i(L)||a(L))&&!_.isFrame)throw new n('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:L});for(const o of j){const s=a(d[o])?d[o]:[d[o]];for(const a of s){if(!i(a)||Object.keys(a).some(t=>"@value"===f(e,t,{vocab:!0},_)))throw new n("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:a});await O({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:a,expandedParent:x,options:_,insideList:R,typeScopedContext:A,typeKey:C,expansionMap:D})}}}function _({activeCtx:e,activeProperty:t,value:r,options:n}){if(null===r||void 0===r)return null;const a=f(e,t,{vocab:!0},n);if("@id"===a)return f(e,r,{base:!0},n);if("@type"===a)return f(e,r,{vocab:!0,base:!0},n);const i=h(e,t,"@type");if(("@id"===i||"@graph"===a)&&s(r))return{"@id":f(e,r,{base:!0},n)};if("@vocab"===i&&s(r))return{"@id":f(e,r,{vocab:!0,base:!0},n)};if(y(a))return r;const o={};if(i&&!["@id","@vocab","@none"].includes(i))o["@type"]=i;else if(s(r)){const r=h(e,t,"@language");null!==r&&(o["@language"]=r);const n=h(e,t,"@direction");null!==n&&(o["@direction"]=n)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),o["@value"]=r,o}function I(e,t,r,i){const o=[],u=Object.keys(t).sort();for(const c of u){const u=f(e,c,{vocab:!0},i);let l=t[c];a(l)||(l=[l]);for(const e of l){if(null===e)continue;if(!s(e))throw new n("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const a={"@value":e};"@none"!==u&&(a["@language"]=c.toLowerCase()),r&&(a["@direction"]=r),o.push(a)}}return o}async function S({activeCtx:e,options:t,activeProperty:r,value:i,expansionMap:o,asGraph:s,indexKey:c,propertyIndex:p}){const y=[],g=Object.keys(i).sort(),m="@type"===c;for(let w of g){if(m){const r=h(e,w,"@context");u(r)||(e=await v({activeCtx:e,localCtx:r,propagate:!1,options:t}))}let g,x=i[w];a(x)||(x=[x]),x=await E.expand({activeCtx:e,activeProperty:r,element:x,options:t,insideList:!1,insideIndex:!0,expansionMap:o}),g=p?"@none"===w?"@none":_({activeCtx:e,activeProperty:c,value:w,options:t}):f(e,w,{vocab:!0},t),"@id"===c?w=f(e,w,{base:!0},t):m&&(w=g);for(let e of x){if(s&&!d(e)&&(e={"@graph":[e]}),"@type"===c)"@none"===g||(e["@type"]?e["@type"]=[w].concat(e["@type"]):e["@type"]=[w]);else{if(l(e)&&!["@language","@type","@index"].includes(c))throw new n(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${c}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});p?"@none"!==g&&b(e,p,g,{propertyIsArray:!0,prependValue:!0}):"@none"===g||c in e||(e[c]=w)}y.push(e)}}return y}E.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:c={},insideList:l=!1,insideIndex:d=!1,typeScopedContext:p=null,expansionMap:y=(()=>{})})=>{if(null===r||void 0===r)return null;if("@default"===t&&(c=Object.assign({},c,{isFrame:!1})),!a(r)&&!i(r)){if(!l&&(null===t||"@graph"===f(e,t,{vocab:!0},c))){const n=await y({unmappedValue:r,activeCtx:e,activeProperty:t,options:c,insideList:l});return void 0===n?null:n}return _({activeCtx:e,activeProperty:t,value:r,options:c})}if(a(r)){let n=[];const i=h(e,t,"@container")||[];l=l||i.includes("@list");for(let o=0;o<r.length;++o){let i=await E.expand({activeCtx:e,activeProperty:t,element:r[o],options:c,expansionMap:y,insideIndex:d,typeScopedContext:p});l&&a(i)&&(i={"@list":i}),null===i&&(i=await y({unmappedValue:r[o],activeCtx:e,activeProperty:t,parent:r,index:o,options:c,expandedParent:n,insideList:l}),void 0===i)||(a(i)?n=n.concat(i):n.push(i))}return n}const b=f(e,t,{vocab:!0},c),T=h(e,t,"@context");p=p||(e.previousContext?e:null);let N=Object.keys(r).sort(),I=!d;if(I&&p&&N.length<=2&&!N.includes("@context"))for(const n of N){const t=f(p,n,{vocab:!0},c);if("@value"===t){I=!1,e=p;break}if("@id"===t&&1===N.length){I=!1;break}}I&&(e=e.revertToPreviousContext()),u(T)||(e=await v({activeCtx:e,localCtx:T,propagate:!0,overrideProtected:!0,options:c})),"@context"in r&&(e=await v({activeCtx:e,localCtx:r["@context"],options:c})),p=e;let S=null;for(const n of N){const t=f(e,n,{vocab:!0},c);if("@type"===t){S=S||n;const t=r[n],a=Array.isArray(t)?t.length>1?t.slice().sort():t:[t];for(const r of a){const t=h(p,r,"@context");u(t)||(e=await v({activeCtx:e,localCtx:t,options:c,propagate:!1}))}}}let R={};await O({activeCtx:e,activeProperty:t,expandedActiveProperty:b,element:r,expandedParent:R,options:c,insideList:l,typeKey:S,typeScopedContext:p,expansionMap:y}),N=Object.keys(R);let C=N.length;if("@value"in R){if("@type"in R&&("@language"in R||"@direction"in R))throw new n('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:R});let a=C-1;if("@type"in R&&(a-=1),"@index"in R&&(a-=1),"@language"in R&&(a-=1),"@direction"in R&&(a-=1),0!==a)throw new n('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:R});const i=null===R["@value"]?[]:w(R["@value"]),u=x(R,"@type");if(g(e,1.1)&&u.includes("@json")&&1===u.length);else if(0===i.length){const n=await y({unmappedValue:R,activeCtx:e,activeProperty:t,element:r,options:c,insideList:l});R=void 0!==n?n:null}else{if(!i.every(e=>s(e)||o(e))&&"@language"in R)throw new n("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:R});if(!u.every(e=>m(e)&&!(s(e)&&0===e.indexOf("_:"))||o(e)))throw new n('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:R})}}else if("@type"in R&&!a(R["@type"]))R["@type"]=[R["@type"]];else if("@set"in R||"@list"in R){if(C>1&&(2!==C||!("@index"in R)))throw new n('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:R});"@set"in R&&(R=R["@set"],N=Object.keys(R),C=N.length)}else if(1===C&&"@language"in R){const n=await y(R,{unmappedValue:R,activeCtx:e,activeProperty:t,element:r,options:c,insideList:l});R=void 0!==n?n:null}if(i(R)&&!c.keepFreeFloatingNodes&&!l&&(null===t||"@graph"===b)&&(0===C||"@value"in R||"@list"in R||1===C&&"@id"in R)){const n=await y({unmappedValue:R,activeCtx:e,activeProperty:t,element:r,options:c,insideList:l});R=void 0!==n?n:null}return R}},f4a4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("2c03"),a=r("9659"),i=r("ef12"),o=r("694b"),s=r("5189"),u=r("b4c9").Parser,c=n.types;let l,d=new Set,p=0,f=!1;function h(e,t){if(t=t||{},l=new a.default(t.dataFactory),v(e)){let r=new u(t);r._resetBlanks(),e=r.parse(e)}return y(e,t.quads,t.blankToVariable)}function y(e,t,r){if(d=new Set,p=0,f=t,!e.type)return l.createProject(l.createBgp([]),[]);if("query"!==e.type&&"update"!==e.type)throw new Error("Translate only works on complete query or update objects.");let n,a=new Set(Object.keys(b(e)).map(l.createTerm.bind(l)));if("query"===e.type){let t={type:"group",patterns:e.where||[]};n=w(t),n=j(e,n,a)}else"update"===e.type&&(n=F(e));return r&&(n=$(n,a)),n}function v(e){return"string"===typeof e}function g(e){return null!==e&&"object"===typeof e}function m(e){return e&&"Variable"===e.termType}function b(e){let t={};if(m(e))t[s.termToString(e)]=!0,d.add(e);else if(g(e))if("bind"===e.type)b(e.expression),Object.assign(t,b(e.variable));else if("SELECT"===e.queryType){let r=b(e.where);for(let n of e.variables)i.default.isWildcard(n)?Object.assign(t,r):n.variable?Object.assign(t,b(n.variable)):Object.assign(t,b(n));if(e.group)for(let n of e.group)Object.assign(t,b(n))}else for(let r of Object.keys(e))Object.assign(t,b(e[r]));return t}function w(e){let t,r=[],n=[];if(e.patterns)for(let a of e.patterns)("filter"===a.type?r:n).push(a);if("bgp"===e.type)return T(e);if("union"===e.type)t=n.map(e=>("group"!==e.type&&(e={type:"group",patterns:[e]}),w(e))).reduce((e,t)=>l.createUnion(e,t));else{if("graph"===e.type)return S(e);if("group"===e.type)t=n.reduce(A,l.createBgp([]));else if("values"===e.type)t=k(e);else{if("query"!==e.type)throw new Error("Unexpected type: "+e.type);t=y(e,f,!1)}}if(r.length>0){let e=r.map(e=>x(e.expression));e.length>0&&(t=l.createFilter(t,e.reduce((e,t)=>l.createOperatorExpression("&&",[e,t]))))}return t}function x(e){if(i.default.isTerm(e)||"Quad"===e.termType)return l.createTermExpression(e);if(i.default.isWildcard(e))return l.createWildcardExpression();if(e.aggregation)return l.createAggregateExpression(e.aggregation,x(e.expression),e.distinct,e.separator);if(e.function)return l.createNamedExpression(e.function,e.args.map(x));if(e.operator)return"exists"===e.operator||"notexists"===e.operator?l.createExistenceExpression("notexists"===e.operator,w(e.args[0])):("in"!==e.operator&&"notin"!==e.operator||(e.args=[e.args[0]].concat(e.args[1])),l.createOperatorExpression(e.operator,e.args.map(x)));throw new Error("Unknown expression: "+JSON.stringify(e))}function T(e){let t=[],r=[];for(let n of e.triples)if("path"===n.predicate.type){let e=E(n);for(let n of e)n.type===c.PATH?(t.length>0&&r.push(l.createBgp(t)),t=[],r.push(n)):t.push(n)}else t.push(I(n));return t.length>0&&r.push(l.createBgp(t)),1===r.length?r[0]:r.reduce((e,t)=>l.createJoin(e,t))}function E(e){let t=e.subject,r=N(e.predicate),n=e.object;return O(t,r,n)}function N(e){if(i.default.isTerm(e)&&"NamedNode"===e.termType)return l.createLink(e);if("^"===e.pathType)return l.createInv(N(e.items[0]));if("!"===e.pathType){let t,r=[],n=[];t="path"===e.items[0].type&&"|"===e.items[0].pathType?e.items[0].items:e.items;for(let e of t)if(i.default.isTerm(e))r.push(e);else{if("^"!==e.pathType)throw new Error("Unexpected item: "+JSON.stringify(e));n.push(e.items[0])}let a=l.createNps(r),o=l.createInv(l.createNps(n));return 0===n.length?a:0===r.length?o:l.createAlt(a,o)}if("/"===e.pathType)return e.items.map(N).reduce((e,t)=>l.createSeq(e,t));if("|"===e.pathType)return e.items.map(N).reduce((e,t)=>l.createAlt(e,t));if("*"===e.pathType)return l.createZeroOrMorePath(N(e.items[0]));if("+"===e.pathType)return l.createOneOrMorePath(N(e.items[0]));if("?"===e.pathType)return l.createZeroOrOnePath(N(e.items[0]));throw new Error("Unable to translate path expression "+JSON.stringify(e))}function O(e,t,r){if(t.type===c.LINK)return[l.createPattern(e,t.iri,r)];if(t.type===c.INV)return O(r,t.path,e);if(t.type===c.SEQ){let n=_(),a=O(e,t.left,n),i=O(n,t.right,r);return a.concat(i)}return[l.createPath(e,t,r)]}function _(){let e="?var"+p++;return d.has(e)?_():(d.add(e),l.createTerm(e))}function I(e){return l.createPattern(e.subject,e.predicate,e.object,e.graph)}function S(e){e.type="group";let t=w(e);return t=f?C(t,e.name):l.createGraph(t,e.name),t}t.default=h;let R=Object.keys(c).map(e=>c[e]);function C(e,t,r){if(e.type===c.GRAPH){if(r)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");const t=e;e=C(t.input,t.name)}else if(e.type===c.BGP)e.patterns=e.patterns.map(e=>(r&&(e.subject.equals(t)&&(e.subject=r),e.predicate.equals(t)&&(e.predicate=r),e.object.equals(t)&&(e.object=r)),"DefaultGraph"===e.graph.termType&&(e.graph=t),e));else if(e.type===c.PATH){const n=e;r&&(n.subject.equals(t)&&(n.subject=r),n.object.equals(t)&&(n.object=r)),"DefaultGraph"===e.graph.termType&&(e.graph=t)}else if(e.type!==c.PROJECT||r)if(e.type!==c.EXTEND||r)for(let n of Object.keys(e))Array.isArray(e[n])?e[n]=e[n].map(e=>C(e,t,r)):R.indexOf(e[n].type)>=0?e[n]=C(e[n],t,r):r&&m(e[n])&&e[n].equals(t)&&(e[n]=r);else{const n=e;n.variable.equals(t)&&(r=_()),n.input=C(n.input,t,r)}else{const n=e;n.variables.some(e=>e.equals(t))||(r=_()),n.input=C(n.input,t,r)}return e}function A(e,t){if("optional"===t.type){let r=w({type:"group",patterns:t.patterns});if(r.type===c.FILTER){let t=r;e=l.createLeftJoin(e,t.input,t.expression)}else e=l.createLeftJoin(e,r)}else if("minus"===t.type){let r=w({type:"group",patterns:t.patterns});e=l.createMinus(e,r)}else if("bind"===t.type)e=l.createExtend(e,t.variable,x(t.expression));else if("service"===t.type){t.type="group";let r=l.createService(w(t),t.name,t.silent);e=D(e,r)}else{let r=w(t);e=D(e,r)}return e}function D(e,t){return e.type===c.BGP&&t.type===c.BGP?e=l.createBgp([].concat(e.patterns,t.patterns)):e.type===c.BGP&&0===e.patterns.length?e=t:t.type===c.BGP&&0===t.patterns.length||(e=l.createJoin(e,t)),e}function k(e){let t=(0===e.values.length?[]:Object.keys(e.values[0])).map(l.createTerm.bind(l)),r=e.values.map(e=>{let t=Object.keys(e);t=t.filter(t=>void 0!==e[t]);let r={};for(let n of t)r[n]=e[n];return r});return l.createValues(t,r)}function j(e,t,r){let n=[],a={};if(e.variables=L(e.variables,a),e.having=L(e.having,a),e.order=L(e.order,a),e.group||Object.keys(a).length>0){let r=Object.keys(a).map(e=>P(a[e],l.createTerm(e))),n=[];if(e.group)for(let a of e.group)if(a.expression.type){const e=a.variable?a.variable:_();t=l.createExtend(t,e,x(a.expression)),n.push(e)}else n.push(a.expression);t=l.createGroup(t,n,r)}if(e.having)for(let i of e.having)t=l.createFilter(t,x(i));e.values&&(t=l.createJoin(t,k(e)));let o=new Set;if("SELECT"===e.queryType||"DESCRIBE"===e.queryType)if(e.variables.some(e=>e&&i.default.isWildcard(e)))o=r;else for(let i of e.variables)m(i)||!i.variable?o.add(i):i.variable&&(o.add(i.variable),n.push(i));for(let i of n)t=l.createExtend(t,i.variable,x(i.expression));return e.order&&(t=l.createOrderBy(t,e.order.map(e=>{let t=x(e.expression);return e.descending&&(t=l.createOperatorExpression(c.DESC,[t])),t}))),"SELECT"===e.queryType&&(t=l.createProject(t,Array.from(o))),e.distinct&&(t=l.createDistinct(t)),e.reduced&&(t=l.createReduced(t)),"CONSTRUCT"===e.queryType?t=l.createConstruct(t,e.template.map(I)):"ASK"===e.queryType?t=l.createAsk(t):"DESCRIBE"===e.queryType&&(t=l.createDescribe(t,Array.from(o))),(e.offset||e.limit)&&(t=l.createSlice(t,e.offset,e.limit)),e.from&&(t=l.createFrom(t,e.from.default,e.from.named)),t}function L(e,t){if(!e)return e;if("aggregate"===e.type){let r,n=!1;for(let a of Object.keys(t))if(o(t[a],e)){r=l.createTerm(a),n=!0;break}return n||(r=_(),t[s.termToString(r)]=e),r}return e.expression?e.expression=L(e.expression,t):e.args?L(e.args,t):Array.isArray(e)&&e.forEach((r,n)=>e[n]=L(r,t)),e}function P(e,t){if("aggregate"!==e.type||!e.aggregation)throw new Error("Unexpected input: "+JSON.stringify(e));let r=x(e);return r.variable=t,r}function F(e){return 1===e.updates.length?M(e.updates[0]):l.createCompositeUpdate(e.updates.map(M))}function M(e){if("insertdelete"===e.updateType||"deletewhere"===e.updateType||"delete"===e.updateType||"insert"===e.updateType)return U(e);if("load"===e.type)return q(e);if("clear"===e.type||"create"===e.type||"drop"===e.type)return B(e);if("add"===e.type||"copy"===e.type||"move"===e.type)return G(e);throw new Error("Unknown update type "+e.updateType)}function U(e){if(!f)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let t,r=[],n=[];return e.delete&&(r=i.default.flatten(e.delete.map(t=>V(t,e.graph)))),e.insert&&(n=i.default.flatten(e.insert.map(t=>V(t,e.graph)))),e.where&&e.where.length>0?(t=w({type:"group",patterns:e.where}),e.using?t=l.createFrom(t,e.using.default,e.using.named):e.graph&&(t=C(t,e.graph))):"deletewhere"===e.updateType&&r.length>0&&(t=l.createBgp(r)),l.createDeleteInsert(r.length>0?r:void 0,n.length>0?n:void 0,t)}function V(e,t){let r=t;"graph"===e.type&&(r=e.name);let n=e.triples;return r&&(n=n.map(e=>Object.assign(e,{graph:r}))),n.map(I)}function B(e){let t;switch(t=e.graph.all?"ALL":e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.name,e.type){case"clear":return l.createClear(t,e.silent);case"create":return l.createCreate(t,e.silent);case"drop":return l.createDrop(t,e.silent)}}function q(e){return l.createLoad(e.source,e.destination,e.silent)}function G(e){const t=e.source.default?"DEFAULT":e.source.name,r=e.destination.default?"DEFAULT":e.destination.name;switch(e.type){case"copy":return l.createCopy(t,r,e.silent);case"move":return l.createMove(t,r,e.silent);case"add":return l.createAdd(t,r,e.silent)}}function $(e,t){const r={},n=Array.from(t).reduce((e,t)=>(e[t.value]=!0,e),{});return i.default.mapOperation(e,{deleteinsert:e=>({result:e,recurse:!1}),path:(e,t)=>({result:t.createPath(a(e.subject),e.predicate,a(e.object),a(e.graph)),recurse:!1}),pattern:(e,t)=>({result:t.createPattern(a(e.subject),a(e.predicate),a(e.object),a(e.graph)),recurse:!1}),construct:e=>({result:l.createConstruct($(e.input,t),e.template),recurse:!1})});function a(e){if("BlankNode"===e.termType){let t=r[e.value];return t||(t=i.default.createUniqueVariable(e.value,n,l.dataFactory),n[t.value]=!0,r[e.value]=t),t}return e}}},f51a:function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.parseRDFaDOM=t.default=void 0;var i=a(r("970b")),o=a(r("5bc3")),s=a(r("43f6")),u=a(r("085a")),c=a(r("606c")),l=n(r("3897")),d=n(r("4b68")),p=a(r("8fd3"));if("undefined"===typeof f)var f={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var h=function(){function e(t,r){(0,i.default)(this,e),this.options=r||{},this.kb=t,this.target=r.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return(0,o.default)(e,[{key:"addTriple",value:function(e,t,r,n){var a,i,o,s;a="undefined"===typeof t?p.default.namedNode(this.options.base):this.toRDFNodeObject(t),o=this.toRDFNodeObject(r),i=this.toRDFNodeObject(n),s=p.default.namedNode(this.options.base),this.kb.add(a,o,i,s)}},{key:"ancestorPath",value:function(e){var t="";while(e&&e.nodeType!==f.DOCUMENT_NODE)t="/"+e.localName+t,e=e.parentNode;return t}},{key:"copyMappings",value:function(e){var t={};for(var r in e)t[r]=e[r];return t}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(t){for(var r=0;r<e.dateTimeTypes.length;r++){var n=e.dateTimeTypes[r].pattern.exec(t);if(n&&n[0].length===t.length)return e.dateTimeTypes[r].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return this.blankCounter++,"_:"+this.blankCounter}},{key:"newSubjectOrigin",value:function(e,t){}},{key:"parseCURIE",value:function(t,r,n){var a,i=t.indexOf(":");if(i>=0){var o=t.substring(0,i);if(""===o)return a=r[""],a?a+t.substring(i+1):null;if("_"===o)return"_:"+t.substring(i+1);if(e.NCNAME.test(o)&&(a=r[o],a))return a+t.substring(i+1)}return null}},{key:"parseCURIEOrURI",value:function(e,t,r){var n=this.parseCURIE(e,t,r);return n||this.resolveAndNormalize(r,e)}},{key:"parsePredicate",value:function(e,t,r,n,a,i){if(""===e)return null;var o=this.parseTermOrCURIEOrAbsURI(e,t,i?null:r,n,a);return o&&0===o.indexOf("_:")?null:o}},{key:"parsePrefixMappings",value:function(e,t){for(var r=this.tokenize(e),n=null,a=0;a<r.length;a++)":"===r[a][r[a].length-1]?n=r[a].substring(0,r[a].length-1):n&&(t[n]=this.options.base?l.join(r[a],this.options.base):r[a],n=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(e,t,r){return e=this.trim(e),"["===e.charAt(0)&&"]"===e.charAt(e.length-1)?(e=e.substring(1,e.length-1),e=e.trim(e),0===e.length?null:"_:"===e?this.theOne:this.parseCURIE(e,t,r)):this.parseCURIEOrURI(e,t,r)}},{key:"parseTermOrCURIEOrAbsURI",value:function(e,t,r,n,a){e=this.trim(e);var i=this.parseCURIE(e,n,a);if(i)return i;if(r){if(t&&!this.absURIRE.exec(e))return t+e;var o=r[e];if(o)return o;var s=e.toLowerCase();if(o=r[s],o)return o}return this.absURIRE.exec(e)?this.resolveAndNormalize(a,e):null}},{key:"parseTermOrCURIEOrURI",value:function(e,t,r,n,a){e=this.trim(e);var i=this.parseCURIE(e,n,a);if(i)return i;var o=r[e];if(o)return o;var s=e.toLowerCase();return o=r[s],o||(t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(a,e))}},{key:"parseURI",value:function(e){return e}},{key:"process",value:function(t,r){var n;r=r||{},t.nodeType===f.DOCUMENT_NODE?(t.baseURI&&!r.baseURI&&(r.baseURI=t.baseURI),n=t.baseURI,t=t.documentElement,t.baseURI||(t.baseURI=n),this.setContext(t)):t.parentNode.nodeType===f.DOCUMENT_NODE&&this.setContext(t);var a=[],i=function(e){if(!e&&r&&r.baseURI)return r.baseURI;var t=e.indexOf("#");return t>=0&&(e=e.substring(0,t)),r&&r.baseURIMap&&(e=r.baseURIMap(e)),e};a.push({current:t,context:this.push(null,i(t.baseURI))});while(a.length>0){var o=a.shift();if(o.parent){if(o.context.parent&&o.context.parent.listMapping===o.listMapping)continue;for(var s in o.listMapping){var u=o.listMapping[s];if(0!==u.length){for(var c=[],d=0;d<u.length;d++)c.push(this.newBlankNode());for(var p=0;p<c.length;p++)this.addTriple(o.parent,c[p],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",u[p]),this.addTriple(o.parent,c[p],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:e.objectURI,value:p+1<c.length?c[p+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(o.parent,o.subject,s,{type:e.objectURI,value:c[0]})}else this.addTriple(o.parent,o.subject,s,{type:e.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var h=o.current,y=o.context,v=!1,g=null,m=null,b=null,w=y.prefixes,x=!1,T=[],E=y.listMapping,N=!y.parent,O=y.language,_=y.vocabulary;n=this.parseURI(i(h.baseURI)),h.item=null;var I=h.getAttributeNode("vocab");if(I){var S=this.trim(I.value);if(S.length>0){_=S;var R=n.spec;this.addTriple(h,R,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:e.objectURI,value:_})}else _=this.vocabulary}for(var C=0;C<h.attributes.length;C++){var A=h.attributes[C];if("x"===A.nodeName.charAt(0)&&0===A.nodeName.indexOf("xmlns:")){x||(w=this.copyMappings(w),x=!0);var D=A.nodeName.substring(6),k=e.trim(A.value);w[D]=this.options.base?l.join(k,this.options.base):k}}var j=h.getAttributeNode("prefix");j&&(x||(w=this.copyMappings(w),x=!0),this.parsePrefixMappings(j.value,w));for(var L=null,P=0;!L&&P<this.langAttributes.length;P++)L=h.getAttributeNodeNS(this.langAttributes[P].namespaceURI,this.langAttributes[P].localName);if(L){var F=e.trim(L.value);O=F.length>0?F:null}var M,U,V=h.getAttributeNode("rel"),B=h.getAttributeNode("rev"),q=h.getAttributeNode("typeof"),G=h.getAttributeNode("property"),$=h.getAttributeNode("datatype"),H=this.inHTMLMode?h.getAttributeNode("datetime"):null,X=h.getAttributeNode("content"),Q=h.getAttributeNode("about"),z=h.getAttributeNode("src"),J=h.getAttributeNode("resource"),W=h.getAttributeNode("href"),Y=h.getAttributeNode("inlist"),K=[];if(V){U=this.tokenize(V.value);for(var Z=0;Z<U.length;Z++)M=this.parsePredicate(U[Z],_,y.terms,w,n,this.inHTMLMode&&null!==G),M&&K.push(M)}var ee=[];if(B){U=this.tokenize(B.value);for(var te=0;te<U.length;te++)M=this.parsePredicate(U[te],_,y.terms,w,n,this.inHTMLMode&&G),M&&ee.push(M)}if(this.inHTMLMode&&(V||B)&&G&&(0===K.length&&(V=null),0===ee.length&&(B=null)),V||B?(Q&&(g=this.parseSafeCURIEOrCURIEOrURI(Q.value,w,n)),q&&(b=g),g||(h.parentNode.nodeType===f.DOCUMENT_NODE?g=i(h.baseURI):y.parentObject&&(g=i(h.parentNode.baseURI)===y.parentObject?i(h.baseURI):y.parentObject)),J&&(m=this.parseSafeCURIEOrCURIEOrURI(J.value,w,n)),m||(W?m=this.resolveAndNormalize(n,encodeURI(W.value)):z?m=this.resolveAndNormalize(n,encodeURI(z.value)):!q||Q||this.inXHTMLMode&&("head"===h.localName||"body"===h.localName)||(m=this.newBlankNode())),!q||Q||!this.inXHTMLMode||"head"!==h.localName&&"body"!==h.localName?q&&!Q&&(b=m):b=g):!G||X||$?(Q&&(g=this.parseSafeCURIEOrCURIEOrURI(Q.value,w,n)),!g&&J&&(g=this.parseSafeCURIEOrCURIEOrURI(J.value,w,n)),!g&&W&&(g=this.resolveAndNormalize(n,encodeURI(W.value))),!g&&z&&(g=this.resolveAndNormalize(n,encodeURI(z.value))),g||(h.parentNode.nodeType===f.DOCUMENT_NODE?g=i(h.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!==h.localName&&"body"!==h.localName?q?g=this.newBlankNode():y.parentObject&&(g=i(h.parentNode.baseURI)===y.parentObject?i(h.baseURI):y.parentObject,G||(v=!0)):g=i(h.parentNode.baseURI)===y.parentObject?i(h.baseURI):y.parentObject),q&&(b=g)):(Q&&(g=this.parseSafeCURIEOrCURIEOrURI(Q.value,w,n),q&&(b=g)),g||h.parentNode.nodeType!==f.DOCUMENT_NODE?!g&&y.parentObject&&(g=i(h.parentNode.baseURI)===y.parentObject?i(h.baseURI):y.parentObject):(g=i(h.baseURI),q&&(b=g)),q&&!b&&(J&&(b=this.parseSafeCURIEOrCURIEOrURI(J.value,w,n)),!b&&W&&(b=this.resolveAndNormalize(n,encodeURI(W.value))),!b&&z&&(b=this.resolveAndNormalize(n,encodeURI(z.value))),b||!this.inXHTMLMode&&!this.inHTMLMode||"head"!==h.localName&&"body"!==h.localName||(b=g),b||(b=this.newBlankNode()),m=b)),g&&(Q||J||b)){var re=g;q&&!Q&&!J&&m&&(re=m),this.newSubjectOrigin(h,re)}if(b){U=this.tokenize(q.value);for(var ne=0;ne<U.length;ne++){var ae=this.parseTermOrCURIEOrAbsURI(U[ne],_,y.terms,w,n);ae&&this.addTriple(h,b,e.typeURI,{type:e.objectURI,value:ae})}}if(g&&g!==y.parentObject&&(E={},N=!0),m){if(V&&Y)for(var ie=0;ie<K.length;ie++){var oe=E[K[ie]];oe||(oe=[],E[K[ie]]=oe),oe.push({type:e.objectURI,value:m})}else if(V)for(var se=0;se<K.length;se++)this.addTriple(h,g,K[se],{type:e.objectURI,value:m});if(B)for(var ue=0;ue<ee.length;ue++)this.addTriple(h,m,ee[ue],{type:e.objectURI,value:g})}else{if(g&&!m&&(V||B)&&(m=this.newBlankNode()),V&&Y)for(var ce=0;ce<K.length;ce++){var le=E[K[ce]];le||(le=[],E[M]=le),T.push({predicate:K[ce],list:le})}else if(V)for(var de=0;de<K.length;de++)T.push({predicate:K[de],forward:!0});if(B)for(var pe=0;pe<ee.length;pe++)T.push({predicate:ee[pe],forward:!1})}if(G){var fe=null,he=null;$?(fe=""===$.value?e.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI($.value,_,y.terms,w,n),he=H&&!X?H.value:fe===e.XMLLiteralURI||fe===e.HTMLLiteralURI?null:X?X.value:h.textContent):X?(fe=e.PlainLiteralURI,he=X.value):H?(he=H.value,fe=e.deriveDateTimeType(he),fe||(fe=e.PlainLiteralURI)):V||B||(J&&(he=this.parseSafeCURIEOrCURIEOrURI(J.value,w,n)),!he&&W?he=this.resolveAndNormalize(n,encodeURI(W.value)):!he&&z&&(he=this.resolveAndNormalize(n,encodeURI(z.value))),he&&(fe=e.objectURI)),fe||(q&&!Q?(fe=e.objectURI,he=b):(he=h.textContent,this.inHTMLMode&&"time"===h.localName&&(fe=e.deriveDateTimeType(he)),fe||(fe=e.PlainLiteralURI))),U=this.tokenize(G.value);for(var ye=0;ye<U.length;ye++){var ve=this.parsePredicate(U[ye],_,y.terms,w,n);if(ve)if(Y){var ge=E[ve];ge||(ge=[],E[ve]=ge),ge.push(fe===e.XMLLiteralURI||fe===e.HTMLLiteralURI?{type:fe,value:h.childNodes}:{type:fe||e.PlainLiteralURI,value:he,language:O})}else fe===e.XMLLiteralURI||fe===e.HTMLLiteralURI?this.addTriple(h,g,ve,{type:fe,value:h.childNodes}):this.addTriple(h,g,ve,{type:fe||e.PlainLiteralURI,value:he,language:O})}}if(g&&!v)for(var me=0;me<y.incomplete.length;me++)y.incomplete[me].list?y.incomplete[me].list.push({type:e.objectURI,value:g}):y.incomplete[me].forward?this.addTriple(h,y.subject,y.incomplete[me].predicate,{type:e.objectURI,value:g}):this.addTriple(h,g,y.incomplete[me].predicate,{type:e.objectURI,value:y.subject});var be=null,we=g;v?(be=this.push(y,y.subject),be.parentObject=i(h.parentNode.baseURI)===y.parentObject?i(h.baseURI):y.parentObject,be.incomplete=y.incomplete,be.language=O,be.prefixes=w,be.vocabulary=_):(be=this.push(y,g),be.parentObject=m||g||y.subject,be.prefixes=w,be.incomplete=T,m&&(we=m,E={},N=!0),be.listMapping=E,be.language=O,be.vocabulary=_),N&&a.unshift({parent:h,context:y,subject:we,listMapping:E});for(var xe=h.lastChild;xe;xe=xe.previousSibling)xe.nodeType===f.ELEMENT_NODE&&a.unshift({current:xe,context:be})}}this.inHTMLMode&&this.copyProperties();for(var Te=0;Te<this.finishedHandlers.length;Te++)this.finishedHandlers[Te](t)}},{key:"push",value:function(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(e,t){return l.join(t,e)}},{key:"setContext",value:function(e){"html"===e.localName&&"XHTML+RDFa 1.1"===e.getAttribute("version")?this.setXHTMLContext():"html"===e.localName||"http://www.w3.org/1999/xhtml"===e.namespaceURI?"undefined"!==typeof document&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"===document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms["alternate"]="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms["appendix"]="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms["bookmark"]="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms["cite"]="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms["chapter"]="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms["contents"]="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms["copyright"]="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms["first"]="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms["glossary"]="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms["help"]="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms["icon"]="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms["index"]="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms["last"]="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms["license"]="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms["meta"]="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms["next"]="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms["prev"]="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms["previous"]="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms["section"]="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms["stylesheet"]="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms["subsection"]="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms["start"]="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms["top"]="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms["up"]="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms["p3pv1"]="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms["related"]="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms["role"]="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms["transformation"]="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"toRDFNodeObject",value:function(t){if("undefined"!==typeof t){if("string"===typeof t)return"_:"===t.substring(0,2)?("undefined"===typeof this.blankNodes[t.substring(2)]&&(this.blankNodes[t.substring(2)]=new s.default(t.substring(2))),this.blankNodes[t.substring(2)]):p.default.namedNode(t);switch(t.type){case e.objectURI:return"_:"===t.value.substring(0,2)?("undefined"===typeof this.blankNodes[t.value.substring(2)]&&(this.blankNodes[t.value.substring(2)]=new s.default(t.value.substring(2))),this.blankNodes[t.value.substring(2)]):p.default.namedNode(t.value);case e.PlainLiteralURI:return new u.default(t.value,t.language||"");case e.XMLLiteralURI:case e.HTMLLiteralURI:var r="";return Object.keys(t.value).forEach((function(e){r+=d.domToString(t.value[e],this.htmlOptions)})),new u.default(r,"",new c.default(t.type));default:return new u.default(t.value,"",new c.default(t.type))}}}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(t,r,n){var a=new e(r,{base:n});t.baseURI||(t.baseURI=n),a.process(t,{baseURI:n})}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}]),e}();t.default=h,h.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",h.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",h.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",h.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",h.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",h.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",h.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",h.NCNAME=new RegExp("^"+h.nameStartChar+h.nameChar+"*$"),h.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var y=h.parseRDFaDOM;t.parseRDFaDOM=y},f628:function(e,t,r){"use strict";const n=r("f81b"),a=10;e.exports=class{constructor({document:e}){this.document=e,this.cache=new n({max:a})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},f62b:function(e,t,r){"use strict";r.r(t);var n=r("851f");class a{constructor(e){this._defaultStore=this.readSources(e),this._defaultStore.catch(()=>null)}async*execute(e,t){/^\s*(?:INSERT|DELETE)/i.test(e)&&(yield*this.executeUpdate(e,t));const r=Object(n["SPARQLToQuery"])(e,!0,Object(n["graph"])()),a=await(t?this.readSources(t):this._defaultStore);a.fetcher=null;const i=[];await new Promise((e,t)=>{a.query(r,e=>i.push(e),null,r=>r?t(r):e(i))});const o=new Set(r.vars.map(e=>"?"+e.value));for(const n of i){const e=Object.entries(n).filter(([e])=>o.has(e));yield new Map(e)}}async*executeUpdate(e,t){throw new Error("SPARQL UPDATE queries are unsupported, received: "+e)}async readSources(e,t=Object(n["graph"])()){let r=await e;if(r)if(r instanceof URL?r=r.href:"NamedNode"===r.termType&&(r=r.value),"string"===typeof r){const e=r.replace(/#.*/,""),a=new n["Fetcher"](t);await a.load(e)}else if(Array.isArray(r))await Promise.all(r.map(e=>this.readSources(e,t)));else{if("function"!==typeof r.match)throw new Error("Unsupported source: "+r);{const e=r.match(null,null,null,null);await new Promise((r,n)=>{function a(e){try{t.add(e.subject,e.predicate,e.object,e.graph)}catch(r){i(r)}}function i(t){return e.removeListener("data",a),e.removeListener("end",i),e.removeListener("error",i),t?n(t):r(null)}e.on("data",a),e.on("end",i),e.on("error",i)})}}return t}async clearCache(e){}}t["default"]=a},f6d5:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=n(r("9523")),o=n(r("b1e9")),s=n(r("8fd3")),u=r("43f5"),c=r("037b"),l=r("ab32"),d=n(r("089a"));function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=f(f({},s.default),{},{supports:(a={},(0,i.default)(a,c.Feature.collections,!0),(0,i.default)(a,c.Feature.defaultGraphType,!1),(0,i.default)(a,c.Feature.equalsMethod,!0),(0,i.default)(a,c.Feature.identity,!1),(0,i.default)(a,c.Feature.id,!0),(0,i.default)(a,c.Feature.reversibleId,!1),(0,i.default)(a,c.Feature.variableType,!0),a),collection:function(e){return new o.default(e)},id:function(e){var t=this;return(0,l.isCollection)(e)?"( ".concat(e.elements.map((function(e){return t.id(e)})).join(", ")," )"):(0,l.isVariable)(e)?d.default.toString(e):s.default.id(e)},termToNQ:function(e){return e.termType===u.CollectionTermType?o.default.toNT(e):s.default.termToNQ(e)}}),y=h;t.default=y},f703:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("00e8")),a=r("f947");function i(e){return e&&e.__esModule?e:{default:e}}class o{constructor(e,t){this._source=this.getUpdateSource(e),this._source.catch(()=>null),this._engine=t}async*execute(e,t){yield*/^\s*(?:INSERT|DELETE)/i.test(e)?this.executeUpdate(e,t):this._engine.execute(e,t)}executeUpdate(e,t){let r=!1;const i=async()=>{if(r)return{done:r};r=!0;const i=await(t?this.getUpdateSource(t):this._source),{ok:o,status:s,statusText:u}=await n.default.fetch(i,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:e});if(!o)throw new Error("Update query failed (".concat(s,"): ").concat(u));return await this.clearCache(i),{value:(0,a.asList)({ok:o})}};return{next:i,return:s,throw:s,[Symbol.asyncIterator](){return this}}}async getUpdateSource(e){let t=await e;if(t instanceof URL?t=t.href:t&&"string"===typeof t.value&&(t=t.value),"string"===typeof t){if(!/^https?:\/\//.test(t))throw new Error("Can only update an HTTP(S) document.");return t.replace(/#.*/,"")}if(Array.isArray(t)){if(t=await Promise.all(t.map(e=>this.getUpdateSource(e))),t=[].concat(...t).filter(e=>!!e),1!==t.length)throw new Error("Can only update a single source.");return t[0]}throw new Error("Unsupported source: ".concat(t))}clearCache(e){return this._engine.clearCache(e)}}function s(){}t.default=o},f7ae:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),o=n(r("3c96")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("21b4")),p=n(r("b1e9")),f=n(r("8fd3")),h=n(r("3c962")),y=n(r("491a")),v=n(r("33e3")),g=n(r("b80f")),m=r("43f5"),b=r("ab32"),w=n(r("089a")),x=r("1079"),T=n(r("606c"));function E(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=N(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw i}}}}function N(e,t){if(e){if("string"===typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e){var t=I();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var S=function(e){(0,s.default)(r,e);var t=_(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,a.default)(this,r),e=t.call(this,""),e.statements=n,e.constraints=i,e.initBindings=s,e.optional=u,(0,l.default)((0,o.default)(e),"termType",m.GraphTermType),(0,l.default)((0,o.default)(e),"classOrder",d.default.Graph),(0,l.default)((0,o.default)(e),"fetcher",void 0),(0,l.default)((0,o.default)(e),"isVar",0),(0,l.default)((0,o.default)(e),"ns",y.default),(0,l.default)((0,o.default)(e),"rdfFactory",void 0),e.rdfFactory=c&&c.rdfFactory||f.default;var p,h=E(x.appliedFactoryMethods);try{var v=function(){var t=p.value;e[t]=function(){var r;return(r=e.rdfFactory)[t].apply(r,arguments)}};for(h.s();!(p=h.n()).done;)v()}catch(g){h.e(g)}finally{h.f()}return e}return(0,i.default)(r,[{key:"add",value:function(e,t,r,n){var a=this;return 1===arguments.length&&e.forEach((function(e){return a.add(e.subject,e.predicate,e.object,e.graph)})),this.statements.push(this.rdfFactory.quad(e,t,r,n))}},{key:"addStatement",value:function(e){return this.add(e)}},{key:"bnode",value:function(e){return this.rdfFactory.blankNode(e)}},{key:"addAll",value:function(e){var t=this;e.forEach((function(e){t.add(e.subject,e.predicate,e.object,e.graph)}))}},{key:"any",value:function(e,t,r,n){var a=this.anyStatementMatching(e,t,r,n);return null==a?null:null==e?a.subject:null==t?a.predicate:null==r?a.object:null}},{key:"anyValue",value:function(e,t,r,n){var a=this.any(e,t,r,n);return a?a.value:void 0}},{key:"anyJS",value:function(e,t,r,n){var a=this.any(e,t,r,n);return a?v.default.toJS(a):void 0}},{key:"anyStatementMatching",value:function(e,t,r,n){var a=this.statementsMatching(e,t,r,n,!0);if(a&&0!==a.length)return a[0]}},{key:"id",value:function(e){return this.rdfFactory.id(e)}},{key:"statementsMatching",value:function(e,t,r,n,a){var i=this.statements.filter((function(a){return(!e||e.equals(a.subject))&&(!t||t.equals(a.predicate))&&(!r||r.equals(a.object))&&(!n||n.equals(a.subject))}));return a?0===i.length?[]:[i[0]]:i}},{key:"bottomTypeURIs",value:function(e){var t,r,n,a,i,o,s,u;for(var c in t=[],e)if(e.hasOwnProperty(c)){for(u=e[c],s=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(c)),r=!0,a=0,i=s.length;a<i;a++)if(n=s[a],o=n.uri,o in e){r=!1;break}r&&(t[c]=u)}return t}},{key:"collection",value:function(){return new p.default}},{key:"each",value:function(e,t,r,n){var a=[],i=this.statementsMatching(e,t,r,n,!1);if(null==e)for(var o=0,s=i.length;o<s;o++)a.push(i[o].subject);else if(null==t)for(var u=0,c=i.length;u<c;u++)a.push(i[u].predicate);else if(null==r)for(var l=0,d=i.length;l<d;l++)a.push(i[l].object);else if(null==n)for(var p=0,f=i.length;p<f;p++)a.push(new T.default(i[p].graph.value));return a}},{key:"equals",value:function(e){return!!e&&this.hashString()===e.hashString()}},{key:"findMembersNT",value:function(e){var t,r,n,a,i,o,s,u,c,l,d,p,f,h;for(var y in p={},p[e.toNT()]=!0,a={},o=this.transitiveClosure(p,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0),o)if(o.hasOwnProperty(y)){s=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(y));for(var v=0,g=s.length;v<g;v++)f=s[v],a[f.subject.toNT()]=f;u=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(y));for(var m=0,b=u.length;m<b;m++)for(i=u[m],c=this.statementsMatching(void 0,i),n=0,t=c.length;n<t;n++)f=c[n],a[f.subject.toNT()]=f;l=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(y));for(var w=0,x=l.length;w<x;w++)for(i=l[w],d=this.statementsMatching(void 0,i),h=0,r=d.length;h<r;h++)f=d[h],a[f.object.toNT()]=f}return a}},{key:"findMemberURIs",value:function(e){return this.NTtoURI(this.findMembersNT(e))}},{key:"findSubClassesNT",value:function(e){var t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(e){var t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(e){var t,r,n,a,i,o,s,u,c;n="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",c=[],a=this.statementsMatching(e,void 0,void 0);for(var l=0,d=a.length;l<d;l++)if(u=a[l],u.predicate.uri===n)c[u.object.toNT()]=u;else{i=this.each(u.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"));for(var p=0,f=i.length;p<f;p++)r=i[p],c[r.toNT()]=u}o=this.statementsMatching(void 0,void 0,e);for(var h=0,y=o.length;h<y;h++){u=o[h],s=this.each(u.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"));for(var v=0,g=s.length;v<g;v++)t=s[v],c[t.toNT()]=u}return this.transitiveClosure(c,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(e){return this.NTtoURI(this.findTypesNT(e))}},{key:"connectedStatements",value:function(e,t,r){r=r||[];var n=[e],a={},i={},o=[],s=this,u=function(e){var u=function(e){"BlankNode"!==e.termType||a[e.value]||(a[e.value]=!0,n.push(e))},c=s.statementsMatching(null,null,e,t).concat(s.statementsMatching(e,null,null,t));c=c.filter((function(e){if(r[e.predicate.value])return!1;var t=e.toNT();return!i[t]&&(i[t]=!0,!0)})),c.forEach((function(e){u(e.subject),u(e.object)})),o=o.concat(c)};while(n.length)u(n.shift());return o}},{key:"formula",value:function(e){return new r}},{key:"fromNT",value:function(e){var t,r,n;switch(e[0]){case"<":return this.sym(e.slice(1,-1));case'"':if(n=void 0,t=void 0,r=e.lastIndexOf('"'),r<e.length-1)if("@"===e[r+1])n=e.slice(r+2);else{if("^^"!==e.slice(r+1,r+3))throw new Error("Can't convert string from NT: "+e);t=this.fromNT(e.slice(r+3))}return e=e.slice(1,r),e=e.replace(/\\"/g,'"'),e=e.replace(/\\n/g,"\n"),e=e.replace(/\\\\/g,"\\"),this.rdfFactory.literal(e,n||t);case"_":return this.rdfFactory.blankNode(e.slice(2));case"?":return new w.default(e.slice(1))}throw new Error("Can't convert from NT: "+e)}},{key:"holds",value:function(e,t,r,n){var a;if(1===arguments.length){if(!e)return!0;if(e instanceof Array){for(a=0;a<e.length;a++)if(!this.holds(e[a]))return!1;return!0}if((0,b.isStatement)(e))return this.holds(e.subject,e.predicate,e.object,e.graph);if(e.statements)return this.holds(e.statements)}var i=this.anyStatementMatching(e,t,r,n);return null!=i}},{key:"holdsStatement",value:function(e){return this.holds(e.subject,e.predicate,e.object,e.graph)}},{key:"list",value:function(e,t){if(t.rdfFactory.supports["COLLECTIONS"]){var r=t.rdfFactory.collection();return e.forEach((function(e){r.append(e)})),r}var n=t.rdfFactory.blankNode(),a=(0,x.arrayToStatements)(t.rdfFactory,n,e);return t.addAll(a),n}},{key:"NTtoURI",value:function(e){var t,r,n={};for(t in e)e.hasOwnProperty(t)&&(r=e[t],"<"===t[0]&&(n[t.slice(1,-1)]=r));return n}},{key:"serialize",value:function(e,t,r){var n,a,i;switch(i=(0,g.default)(this),i.suggestNamespaces(this.ns),i.setBase(e),a=r?this.statementsMatching(void 0,void 0,void 0,r):this.statements,null!=t?t:"text/n3"){case"application/rdf+xml":n=i.statementsToXML(a);break;case"text/n3":case"text/turtle":n=i.statementsToN3(a);break;default:throw new Error("serialize: Content-type "+t+" not supported.")}return n}},{key:"substitute",value:function(e){var t=this.statements.map((function(t){return t.substitute(e)}));console.log("Formula subs statmnts:"+t);var n=new r;return n.addAll(t),console.log("indexed-form subs formula:"+n),n}},{key:"sym",value:function(e,t){if(t)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(e)}},{key:"the",value:function(e,t,r,n){var a=this.any(e,t,r,n);return null==a&&h.default.error("No value found for the() {"+e+" "+t+" "+r+"}."),a}},{key:"transitiveClosure",value:function(e,t,r){var n,a,i,o,s,u,c={};Object.assign(c,e);var l={};while(1){if(u=function(){for(var e in c)if(c.hasOwnProperty(e))return e}(),null==u)return l;for(s=r?this.each(void 0,t,this.fromNT(u)):this.each(this.fromNT(u),t),a=0,i=s.length;a<i;a++)n=s[a],o=n.toNT(),o in l||o in c||(c[o]=c[u]);l[u]=c[u],delete c[u]}}},{key:"topTypeURIs",value:function(e){var t,r,n,a,i,o,s,u;for(n in s=[],e)if(e.hasOwnProperty(n)){for(u=e[n],i=0,o=this.each(this.rdfFactory.namedNode(n),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf")),t=0,a=o.length;t<a;t++)if(r=o[t],"http://www.w3.org/2000/01/rdf-schema#Resource"!==r.uri){i++;break}i||(s[n]=u)}return s["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete s["http://www.w3.org/2000/01/rdf-schema#Resource"],s["http://www.w3.org/2002/07/owl#Thing"]&&delete s["http://www.w3.org/2002/07/owl#Thing"],s}},{key:"toString",value:function(){return"{"+this.statements.join("\n")+"}"}},{key:"variable",value:function(e){return new w.default(e)}},{key:"whether",value:function(e,t,r,n){return this.statementsMatching(e,t,r,n,!1).length}}]),r}(v.default);t.default=S},f81b:function(e,t,r){"use strict";const n=r("eadf"),a=Symbol("max"),i=Symbol("length"),o=Symbol("lengthCalculator"),s=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),d=Symbol("lruList"),p=Symbol("cache"),f=Symbol("updateAgeOnGet"),h=()=>1;class y{constructor(e){if("number"===typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!==typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[a]=e.max||1/0;const t=e.length||h;if(this[o]="function"!==typeof t?h:t,this[s]=e.stale||!1,e.maxAge&&"number"!==typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[a]=e||1/0,m(this)}get max(){return this[a]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,m(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!==typeof e&&(e=h),e!==this[o]&&(this[o]=e,this[i]=0,this[d].forEach(e=>{e.length=this[o](e.value,e.key),this[i]+=e.length})),m(this)}get lengthCalculator(){return this[o]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){const n=r.prev;x(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){const n=r.next;x(this,e,r,t),r=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[p]=new Map,this[d]=new n,this[i]=0}dump(){return this[d].map(e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,r){if(r=r||this[u],r&&"number"!==typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[o](t,e);if(this[p].has(e)){if(s>this[a])return b(this,this[p].get(e)),!1;const o=this[p].get(e),u=o.value;return this[c]&&(this[l]||this[c](e,u.value)),u.now=n,u.maxAge=r,u.value=t,this[i]+=s-u.length,u.length=s,this.get(e),m(this),!0}const f=new w(e,t,s,n,r);return f.length>this[a]?(this[c]&&this[c](e,t),!1):(this[i]+=f.length,this[d].unshift(f),this[p].set(e,this[d].head),m(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!g(this,t)}get(e){return v(this,e,!0)}peek(e){return v(this,e,!1)}pop(){const e=this[d].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],a=n.e||0;if(0===a)this.set(n.k,n.v);else{const e=a-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach((e,t)=>v(this,t,!1))}}const v=(e,t,r)=>{const n=e[p].get(t);if(n){const t=n.value;if(g(e,t)){if(b(e,n),!e[s])return}else r&&(e[f]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},m=e=>{if(e[i]>e[a])for(let t=e[d].tail;e[i]>e[a]&&null!==t;){const r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){const r=t.value;e[c]&&e[c](r.key,r.value),e[i]-=r.length,e[p].delete(r.key),e[d].removeNode(t)}};class w{constructor(e,t,r,n,a){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=a||0}}const x=(e,t,r,n)=>{let a=r.value;g(e,a)&&(b(e,r),e[s]||(a=void 0)),a&&t.call(n,a.value,a.key,e)};e.exports=y},f947:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceVariables=i,t.asList=o,t.termToString=void 0;var n=r("600b");const{termToString:a}=n.SparqlHandler.prototype;function i(e,t){for(const r in t)e=e.replace(new RegExp("_:".concat(r),"g"),a(t[r]));return e}function o(...e){return{size:e.length,values:()=>({next:()=>({value:e.shift()})})}}t.termToString=a},fb42:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchDocumentLoader=void 0,r("7274");const n=r("56af"),a=r("c7e2"),i=r("e43f");class o{constructor(e){this.fetcher=e}async load(e){const t=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(t.ok&&t.headers){let r=t.headers.get("Content-Type");if(r){const e=r.indexOf(";");e>0&&(r=r.substr(0,e))}if("application/ld+json"===r)return await t.json();if(t.headers.has("Link")){let r;if(t.headers.forEach((t,n)=>{if("link"===n){const n=a.parse(t);for(const t of n.get("type","application/ld+json"))if("alternate"===t.rel){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+e);r=i.resolve(t.uri,e)}}}),r)return this.load(r)}throw new n.ErrorCoded("Unsupported JSON-LD media type "+r,n.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(t.statusText||"Status code: "+t.status)}}t.FetchDocumentLoader=o},fd4e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){return{parseJSON:function(e,t,r){var n,a,i,o={},s=r.sym(t);for(var u in e){0===u.indexOf("_:")?o[u]?n=o[u]:(n=r.bnode(u),o[u]=n):n=r.sym(u);var c=e[u];for(var l in c){var d=c[l];for(var p in a=r.sym(l),d){var f=d[p];if("uri"===f.type)i=r.sym(f.value),r.add(n,a,i,s);else if("BlankNode"===f.type)o[f.value]?i=o[f.value]:(i=r.bnode(f.value),o[f.value]=i),r.add(n,a,i,s);else{if("Literal"!==f.type)throw new Error("error: unexpected termtype: "+p.type);i=f.datatype?r.literal(f.value,void 0,r.sym(f.datatype)):f.lang?r.literal(f.value,f.lang):r.literal(f.value),r.add(n,a,i,s)}}}}}}}();t.default=n}}]);
//# sourceMappingURL=chunk-56ba6d26.5e8d1022.js.map