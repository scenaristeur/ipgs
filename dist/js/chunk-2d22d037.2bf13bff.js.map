{"version":3,"sources":["webpack:///./src/components/network/ImportModal.vue?edc5","webpack:///src/components/network/ImportModal.vue","webpack:///./src/components/network/ImportModal.vue?a41a","webpack:///./src/components/network/ImportModal.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","staticClass","on","$event","importToGraph","_v","showimport","proxy","model","value","callback","$$v","expression","files","type","indexOf","_k","keyCode","load","url","staticRenderFns","name","data","methods","console","log","network","nodes","edges","i","length","fichier","extension","split","pop","reader","FileReader","addEventListener","result","readAsText","computed","get","set","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACE,MAAM,CAAC,GAAK,gBAAgBC,YAAYP,EAAIQ,GAAG,CAAC,CAACC,IAAI,eAAeC,GAAG,WAAW,MAAO,CAACN,EAAG,MAAM,CAACO,YAAY,SAAS,CAACP,EAAG,WAAW,CAACO,YAAY,cAAcL,MAAM,CAAC,QAAU,UAAU,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIc,eAAc,MAAS,CAACd,EAAIe,GAAG,WAAWX,EAAG,WAAW,CAACO,YAAY,cAAcL,MAAM,CAAC,QAAU,UAAU,KAAO,MAAMM,GAAG,CAAC,MAAQZ,EAAIc,gBAAgB,CAACd,EAAIe,GAAG,4BAA4BX,EAAG,WAAW,CAACO,YAAY,cAAcL,MAAM,CAAC,QAAU,UAAU,KAAO,MAAMM,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAIgB,YAAW,KAAS,CAAChB,EAAIe,GAAG,cAAc,KAAKE,OAAM,KAAQC,MAAM,CAACC,MAAOnB,EAAc,WAAEoB,SAAS,SAAUC,GAAMrB,EAAIgB,WAAWK,GAAKC,WAAW,eAAe,CAAClB,EAAG,cAAc,CAACE,MAAM,CAAC,SAAW,GAAG,YAAc,mCAAmC,mBAAmB,qBAAqBY,MAAM,CAACC,MAAOnB,EAAS,MAAEoB,SAAS,SAAUC,GAAMrB,EAAIuB,MAAMF,GAAKC,WAAW,WAAWlB,EAAG,gBAAgB,CAACE,MAAM,CAAC,KAAO,KAAK,QAAU,QAAQ,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,UAAY,IAAIM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOW,KAAKC,QAAQ,QAAQzB,EAAI0B,GAAGb,EAAOc,QAAQ,QAAQ,GAAGd,EAAOJ,IAAI,SAAkB,KAAcT,EAAI4B,KAAKf,KAAUK,MAAM,CAACC,MAAOnB,EAAO,IAAEoB,SAAS,SAAUC,GAAMrB,EAAI6B,IAAIR,GAAKC,WAAW,SAASlB,EAAG,WAAW,CAACE,MAAM,CAAC,QAAU,cAAc,CAACN,EAAIe,GAAG,eAAe,IAAI,IACl6Ce,EAAkB,G,YCiDtB,G,8BAAA,CACEC,KAAM,cACNC,KAFF,WAGI,MAAO,CACLT,MAAO,GACPP,YAAY,EACZa,IAAK,KAITI,QAAS,CACPL,KADJ,WAEMM,QAAQC,IAAIlC,KAAK4B,MAEnBf,cAJJ,WAIA,8DACA,OACQb,KAAKmC,QAAQC,MAAQ,GACrBpC,KAAKmC,QAAQE,MAAQ,IAIvB,IAFA,IAAN,OAEeC,EAAI,EAAGA,EAAItC,KAAKsB,MAAMiB,OAAQD,IAAK,CAC1C,IAAIE,EAAUxC,KAAKsB,MAAMgB,GACrBG,EAAYD,EAAQV,KAAKY,MAAM,KAAKC,MACpCC,EAAS,IAAIC,WACjBD,EAAOE,iBAAiB,QAAQ,WAC9B,IAAIC,EAASH,EAAOG,OAEpB,OADAd,QAAQC,IAAI,OAAtB,OAAsB,CAAtB,MACkBO,GACN,IAAK,OACjB,oBACA,oBACA,aACA,wBACA,yBAUA,MACY,IAAK,MACL,IAAK,MACL,IAAK,KACL,IAAK,MACL,IAAK,MACjB,qBAkBA,MACY,QACZ,8CAGQG,EAAOI,WAAWR,GAKpBxC,KAAKe,YAAX,IAGEkC,SAAU,CACRd,QAAJ,CACMe,IADN,WACA,uCACMC,IAFN,iBCpIoW,I,YCOhWC,EAAY,eACd,EACAtD,EACA+B,GACA,EACA,KACA,KACA,MAIa,aAAAuB,E","file":"js/chunk-2d22d037.2bf13bff.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-modal',{attrs:{\"id\":\"import-popup\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(){return [_c('div',{staticClass:\"w-100\"},[_c('b-button',{staticClass:\"float-right\",attrs:{\"variant\":\"primary\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.importToGraph(true)}}},[_vm._v(\" New \")]),_c('b-button',{staticClass:\"float-right\",attrs:{\"variant\":\"primary\",\"size\":\"sm\"},on:{\"click\":_vm.importToGraph}},[_vm._v(\" Add to current graph \")]),_c('b-button',{staticClass:\"float-right\",attrs:{\"variant\":\"primary\",\"size\":\"sm\"},on:{\"click\":function($event){_vm.showimport=false}}},[_vm._v(\" Close \")])],1)]},proxy:true}]),model:{value:(_vm.showimport),callback:function ($$v) {_vm.showimport=$$v},expression:\"showimport\"}},[_c('b-form-file',{attrs:{\"multiple\":\"\",\"placeholder\":\"Choose a file or drop it here...\",\"drop-placeholder\":\"Drop file here...\"},model:{value:(_vm.files),callback:function ($$v) {_vm.files=$$v},expression:\"files\"}}),_c('b-input-group',{attrs:{\"size\":\"sm\",\"prepend\":\"Url\"}},[_c('b-form-input',{attrs:{\"autofocus\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.load($event)}},model:{value:(_vm.url),callback:function ($$v) {_vm.url=$$v},expression:\"url\"}}),_c('b-button',{attrs:{\"variant\":\"secondary\"}},[_vm._v(\"From POD\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-modal id=\"import-popup\" v-model=\"showimport\">\r\n    <b-form-file\r\n    v-model=\"files\"\r\n    multiple\r\n    placeholder=\"Choose a file or drop it here...\"\r\n    drop-placeholder=\"Drop file here...\"\r\n    ></b-form-file>\r\n\r\n    <b-input-group size=\"sm\" prepend=\"Url\">\r\n      <b-form-input v-model=\"url\" autofocus v-on:keyup.enter=\"load\"></b-form-input>\r\n      <b-button variant=\"secondary\">From POD</b-button>\r\n    </b-input-group>\r\n\r\n\r\n\r\n    <template #modal-footer>\r\n      <div class=\"w-100\">\r\n        <b-button\r\n        variant=\"primary\"\r\n        size=\"sm\"\r\n        class=\"float-right\"\r\n        @click=\"importToGraph(true)\"\r\n        >\r\n        New\r\n      </b-button>\r\n      <b-button\r\n      variant=\"primary\"\r\n      size=\"sm\"\r\n      class=\"float-right\"\r\n      @click=\"importToGraph\"\r\n      >\r\n      Add to current graph\r\n    </b-button>\r\n    <b-button\r\n    variant=\"primary\"\r\n    size=\"sm\"\r\n    class=\"float-right\"\r\n    @click=\"showimport=false\"\r\n    >\r\n    Close\r\n  </b-button>\r\n</div>\r\n</template>\r\n\r\n</b-modal>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ImportModal',\r\n  data() {\r\n    return {\r\n      files: [],\r\n      showimport: false,\r\n      url: ''\r\n      //network: {}\r\n    }\r\n  },\r\n  methods: {\r\n    load(){\r\n      console.log(this.url)\r\n    },\r\n    importToGraph(clear = false){\r\n      if(clear == true ){\r\n        this.network.nodes = []\r\n        this.network.edges = []\r\n      }\r\n      let app = this\r\n      // var data = {};\r\n      for (var i = 0; i < this.files.length; i++) {\r\n        var fichier = this.files[i];\r\n        var extension = fichier.name.split('.').pop();\r\n        var reader = new FileReader(); //https://openclassrooms.com/courses/dynamisez-vos-sites-web-avec-javascript/l-api-file\r\n        reader.addEventListener('load', function () {\r\n          var result = reader.result;\r\n          console.log(typeof result, result);\r\n          switch (extension) {\r\n            case 'json':\r\n            var data = JSON.parse(result)\r\n            console.log(data)\r\n            if(data.nodes != undefined){\r\n              app.network.nodes = data.nodes\r\n              app.network.edges = data.edges\r\n            }\r\n            /*  var nodes = res.nodes;\r\n            var edges = res.edges;\r\n            data ={nodes: nodes, edges: edges}*/\r\n            //   callback({data:data,params:params})\r\n            //editor.insert(\"testJK\")\r\n            // var text = JSON.stringify(data, null, 2)\r\n            //   editor.session.setValue(text)\r\n            //  editor.insert(JSON.stringify(data, null, 2))\r\n            break;\r\n            case 'rdf':\r\n            case 'ttl':\r\n            case 'n3':\r\n            case 'n3t':\r\n            case 'owl':\r\n            console.lolg(\"todo\")\r\n            /*  let base = 'https://www.wikidata.org/wiki/Special:EntityData/Q2005.ttl'\r\n            let mimeType = 'text/turtle'*/\r\n            // let doc = $rdf.sym(\"http://smag0.blogspot.fr/spoggy\");\r\n            // let store = $rdf.graph()\r\n            // console.log(store)\r\n            // try {\r\n            //   $rdf.parse(result, store, doc.uri, 'text/turtle');\r\n            // }\r\n            // catch(error) {\r\n            //   alert(error);\r\n            // }\r\n            //\r\n            // /*  $rdf.parse(result, store,base, mimeType)\r\n            // console.log(\"STORE\",store)*/\r\n            // data = statements2vis(store.statements);\r\n            // callback({data:data,params:params})\r\n            // console.log(\"OK\")\r\n            break;\r\n            default:\r\n            alert('Sorry, je ne peux pas traiter ',fichier);\r\n          }\r\n        });\r\n        reader.readAsText(fichier);\r\n      }\r\n      // this.files.forEach((f) => {\r\n      //\r\n      // });\r\n      this.showimport=false\r\n    }\r\n  },\r\n  computed: {\r\n    network:{\r\n      get () { return this.$store.state.ipgs.network},\r\n      set (/*value*/) {  }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImportModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImportModal.vue?vue&type=template&id=8ce8f864&\"\nimport script from \"./ImportModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ImportModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}