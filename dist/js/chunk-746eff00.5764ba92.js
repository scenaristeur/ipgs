(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-746eff00"],{"037b":function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Feature=void 0,t.Feature=n,function(e){e["collections"]="COLLECTIONS",e["defaultGraphType"]="DEFAULT_GRAPH_TYPE",e["equalsMethod"]="EQUALS_METHOD",e["id"]="ID",e["identity"]="IDENTITY",e["reversibleId"]="REVERSIBLE_ID",e["variableType"]="VARIABLE_TYPE"}(n||(t.Feature=n={}))},"03fd":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.isDefaultGraph=m,t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),s=n(r("3c96")),o=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),f=n(r("33e3")),d=r("43f5"),p=r("5c0f");function h(e){var t=y();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,o.default)(r,e);var t=h(r);function r(){var e;return(0,a.default)(this,r),e=t.call(this,""),(0,l.default)((0,s.default)(e),"value",""),(0,l.default)((0,s.default)(e),"termType",d.DefaultGraphTermType),(0,l.default)((0,s.default)(e),"uri",p.defaultGraphURI),e}return(0,i.default)(r,[{key:"toCanonical",value:function(){return this.value}},{key:"toString",value:function(){return"DefaultGraph"}}]),r}(f.default);function m(e){return!!e&&e.termType===d.DefaultGraphTermType}t.default=v},"073a":function(e,t,r){"use strict";function n(e){return"string"===typeof e?e:e.value}Object.defineProperty(t,"__esModule",{value:!0}),t.termValue=n},"085a":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("7037")),i=n(r("970b")),s=n(r("5bc3")),o=n(r("3c96")),u=n(r("ed6d")),c=n(r("6b58")),l=n(r("36c6")),f=n(r("9523")),d=n(r("21b4")),p=n(r("606c")),h=n(r("33e3")),y=r("43f5"),v=r("ab32"),m=n(r("4df7"));function g(e){var t=b();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=function(e){(0,u.default)(r,e);var t=g(r);function r(e,n,a){var s;return(0,i.default)(this,r),s=t.call(this,e),(0,f.default)((0,o.default)(s),"termType",y.LiteralTermType),(0,f.default)((0,o.default)(s),"classOrder",d.default.Literal),(0,f.default)((0,o.default)(s),"datatype",m.default.string),(0,f.default)((0,o.default)(s),"isVar",0),(0,f.default)((0,o.default)(s),"language",""),n?(s.language=n,s.datatype=m.default.langString):s.datatype=a?p.default.fromValue(a):m.default.string,s}return(0,s.default)(r,[{key:"copy",value:function(){return new r(this.value,this.lang,this.datatype)}},{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value&&this.language===e.language&&(!this.datatype&&!e.datatype||this.datatype&&this.datatype.equals(e.datatype)))}},{key:"toNT",value:function(){return r.toNT(this)}},{key:"toString",value:function(){return""+this.value}},{key:"lang",get:function(){return this.language},set:function(e){this.language=e||""}}],[{key:"toNT",value:function(e){if("number"===typeof e.value)return""+e.value;if("string"!==typeof e.value)throw new Error("Value of RDF literal is not string or number: "+e.value);var t=e.value;return t=t.replace(/\\/g,"\\\\"),t=t.replace(/\"/g,'\\"'),t=t.replace(/\n/g,"\\n"),t='"'+t+'"',e.language?t+="@"+e.language:e.datatype.equals(m.default.string)||(t+="^^"+e.datatype.toCanonical()),t}},{key:"fromBoolean",value:function(e){var t=e?"1":"0";return new r(t,null,m.default.boolean)}},{key:"fromDate",value:function(e){if(!(e instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");var t=function(e){return(""+(100+e)).slice(1,3)},n=e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z";return new r(n,null,m.default.dateTime)}},{key:"fromNumber",value:function(e){if("number"!==typeof e)throw new TypeError("Invalid argument to Literal.fromNumber()");var t,n=e.toString();return t=n.indexOf("e")<0&&Math.abs(e)<=Number.MAX_SAFE_INTEGER?Number.isInteger(e)?m.default.integer:m.default.decimal:m.default.double,new r(n,null,t)}},{key:"fromValue",value:function(e){if((0,v.isLiteral)(e))return e;switch((0,a.default)(e)){case"object":if(e instanceof Date)return r.fromDate(e);case"boolean":return r.fromBoolean(e);case"number":return r.fromNumber(e);case"string":return new r(e)}throw new Error("Can't make literal from "+e+" of type "+(0,a.default)(e))}}]),r}(h.default);t.default=w},"089a":function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("970b")),s=a(r("5bc3")),o=a(r("3c96")),u=a(r("ed6d")),c=a(r("6b58")),l=a(r("36c6")),f=a(r("9523")),d=a(r("21b4")),p=a(r("33e3")),h=r("43f5"),y=n(r("3897"));function v(e){var t=m();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var g=function(e){(0,u.default)(r,e);var t=v(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.default)(this,r),e=t.call(this,n),(0,f.default)((0,o.default)(e),"termType",h.VariableTermType),(0,f.default)((0,o.default)(e),"base","varid:"),(0,f.default)((0,o.default)(e),"classOrder",d.default.Variable),(0,f.default)((0,o.default)(e),"isVar",1),(0,f.default)((0,o.default)(e),"uri",void 0),e.base="varid:",e.uri=y.join(n,e.base),e}return(0,s.default)(r,[{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value)}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(e){var t;return null!=(t=e[this.toNT()])?t:this}},{key:"toString",value:function(){return r.toString(this)}}],[{key:"toString",value:function(e){return e.uri.slice(0,e.base.length)===e.base?"?".concat(e.uri.slice(e.base.length)):"?".concat(e.uri)}}]),r}(p.default);t.default=g},"0bc7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"0d60":function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var i=a(r("f6d5")),s=a(r("e1b7")),o=r("dae0"),u=a(r("dfa6")),c=r("f51a"),l=a(r("c2f2")),f=a(r("15a8")),d=n(r("4b68")),p=r("43f5");function h(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text/turtle",a=arguments.length>4?arguments[4]:void 0;n=n||p.TurtleContentType,n=n.split(";")[0];try{if(n===p.N3ContentType||n===p.TurtleContentType){var y=(0,u.default)(t,t,r,r,null,null,"",null);y.loadBuf(e),g()}else if(n===p.RDFXMLContentType){var v=new l.default(t);v.parse(d.parseXML(e),r,t.sym(r)),g()}else if(n===p.XHTMLContentType)(0,c.parseRDFaDOM)(d.parseXML(e,{contentType:p.XHTMLContentType}),t,r),g();else if(n===p.HTMLContentType)(0,c.parseRDFaDOM)(d.parseXML(e,{contentType:p.HTMLContentType}),t,r),g();else if(n===p.SPARQLUpdateContentType)(0,f.default)(e,t,r),g();else if(n===p.JSONLDContentType)(0,s.default)(e,t,r,g);else{if(n!==p.NQuadsContentType&&n!==p.NQuadsAltContentType)throw void 0===n?new Error("contentType is undefined"):new Error("Don't know how to parse "+n+" yet");var m=new o.Parser({factory:i.default});w(null,e)}}catch(E){b(E)}function g(){a&&a(null,t)}function b(e){if(n!==p.JSONLDContentType||n!==p.NQuadsContentType||n!==p.NQuadsAltContentType){if(!a){var i=new Error(e+" while trying to parse <"+r+"> as "+n);throw i.cause=e,i}a(e,t)}}function w(e,r){e&&a(e,t);try{m.parse(r,T)}catch(e){a(e,t)}}function T(e,r){r?t.add(r.subject,r.predicate,r.object,r.graph):a(e,t)}h.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0}}},1079:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.AJAR_handleNewTerm=o,t.arrayToStatements=l,t.ArrayIndexOf=f,t.appliedFactoryMethods=void 0;var a=n(r("3c962")),i=r("3897"),s=r("4b68");function o(e,t,r){var n=null;if("undefined"!==typeof e.fetcher&&(n=e.fetcher,"NamedNode"===t.termType)){var o,u=(0,i.docpart)(t.uri);if(t.uri.indexOf("#")<0){if((0,s.string_startswith)(t.uri,"http://dbpedia.org/resource/Category:"))return;(0,s.string_startswith)(t.uri,"http://purl.org/dc/elements/1.1/")||(0,s.string_startswith)(t.uri,"http://purl.org/dc/terms/")?o="http://dublincore.org/2005/06/13/dcq":(0,s.string_startswith)(t.uri,"http://xmlns.com/wot/0.1/")?o="http://xmlns.com/wot/0.1/index.rdf":(0,s.string_startswith)(t.uri,"http://web.resource.org/cc/")&&(o="http://web.resource.org/cc/schema.rdf")}if(o&&(u=o),!n||"unrequested"===n.getState(u))return o&&a.default.warn("Assuming server still broken, faking redirect of <"+t.uri+"> to <"+u+">"),n.fetch(u,{referringTerm:r})}}var u=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"];t.appliedFactoryMethods=u;var c={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function l(e,t,r){var n=[];return r.reduce((function(t,r,a,i){var s;return n.push(e.quad(t,e.namedNode(c.first),i[a])),a<i.length-1?(s=e.blankNode(),n.push(e.quad(t,e.namedNode(c.rest),s))):n.push(e.quad(t,e.namedNode(c.rest),e.namedNode(c.nil))),s}),t),n}function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.length;for(r<0&&(r=n+r);r<n;r++)if(e[r]===t)return r;return-1}},"10d1":function(e,t,r){"use strict";var n,a=r("da84"),i=r("e2cc"),s=r("f183"),o=r("6d61"),u=r("acac"),c=r("861d"),l=r("69f3").enforce,f=r("7f9a"),d=!a.ActiveXObject&&"ActiveXObject"in a,p=Object.isExtensible,h=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},y=e.exports=o("WeakMap",h,u);if(f&&d){n=u.getConstructor(h,"WeakMap",!0),s.REQUIRED=!0;var v=y.prototype,m=v["delete"],g=v.has,b=v.get,w=v.set;i(v,{delete:function(e){if(c(e)&&!p(e)){var t=l(this);return t.frozen||(t.frozen=new n),m.call(this,e)||t.frozen["delete"](e)}return m.call(this,e)},has:function(e){if(c(e)&&!p(e)){var t=l(this);return t.frozen||(t.frozen=new n),g.call(this,e)||t.frozen.has(e)}return g.call(this,e)},get:function(e){if(c(e)&&!p(e)){var t=l(this);return t.frozen||(t.frozen=new n),g.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(c(e)&&!p(e)){var r=l(this);r.frozen||(r.frozen=new n),g.call(this,e)?w.call(this,e,t):r.frozen.set(e,t)}else w.call(this,e,t);return this}})}},"13f1":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const n=r("7096"),a=r("3e6b"),i=r("8ce0"),s=r("9935"),o=r("8026"),u=r("a22a");let c=0;class l{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${c++}_`}namedNode(e){return new s.NamedNode(e)}blankNode(e){return new n.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,t){return new i.Literal(e,t)}variable(e){return new u.Variable(e)}defaultGraph(){return a.DefaultGraph.INSTANCE}quad(e,t,r,n){return new o.Quad(e,t,r,n||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(i.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}t.DataFactory=l},1456:function(e,t,r){function n(e){this.options=e||{locator:{}}}function a(e,t,r){if(!e){if(t instanceof i)return t;e=t}var n={},a=e instanceof Function;function s(t){var i=e[t];!i&&a&&(i=2==e.length?function(r){e(t,r)}:e),n[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+o(r))}||function(){}}return r=r||{},s("warning"),s("error"),s("fatalError"),n}function i(){this.cdata=!1}function s(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function o(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function u(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function c(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}n.prototype.parseFromString=function(e,t){var r=this.options,n=new f,s=r.domBuilder||new i,o=r.errorHandler,u=r.locator,c=r.xmlns||{},d=/\/x?html?$/.test(t),p=d?l.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&s.setDocumentLocator(u),n.errorHandler=a(o,s,u),n.domBuilder=r.domBuilder||s,d&&(c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e?n.parse(e,c,p):n.errorHandler.error("invalid doc source"),s.doc},i.prototype={startDocument:function(){this.doc=(new d).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var a=this.doc,i=a.createElementNS(e,r||t),o=n.length;c(this,i),this.currentElement=i,this.locator&&s(this.locator,i);for(var u=0;u<o;u++){e=n.getURI(u);var l=n.getValue(u),f=(r=n.getQName(u),a.createAttributeNS(e,r));this.locator&&s(n.getLocator(u),f),f.value=f.nodeValue=l,i.setAttributeNode(f)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&s(this.locator,r),c(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=u.apply(this,arguments),e){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&s(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=u.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&s(this.locator,n),c(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var a=n.createDocumentType(e,t,r);this.locator&&s(this.locator,a),c(this,a)}},warning:function(e){console.warn("[xmldom warning]\t"+e,o(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,o(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,o(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){i.prototype[e]=function(){return null}}));var l=r("d4a2"),f=r("8f7b").XMLReader,d=t.DOMImplementation=r("c1dd").DOMImplementation;t.XMLSerializer=r("c1dd").XMLSerializer,t.DOMParser=n},"15a8":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var a=n(r("dfa6")),i=n(r("491a"));function s(e,t,r){var n,s,o,u=["INSERT","DELETE","WHERE"],c=(0,i.default)("http://www.w3.org/ns/pim/patch#"),l=(0,a.default)(t,t,r,r,null,null,"",null),f={},d=function(e,t,r,n,a){return"Line "+(t+1)+" of <"+e+">: Bad syntax:\n   "+a+'\n   at: "'+r.slice(n,n+30)+'"'};n=0;var p=t.sym(r+"#query");f["query"]=p;while(1){if(s=l.skipSpace(e,n),s<0)return f;if(";"===e[s]){if(n=l.skipSpace(e,s+1),n<0)return f;s=n}var h=!1;for(o=0;o<u.length;o++){var y=u[o];if(e.slice(s,s+y.length)===y){if(n=l.skipSpace(e,s+y.length),n<0)throw d(l._thisDoc,l.lines,e,s+y.length,"found EOF, needed {...} after "+y);if(("INSERT"===y||"DELETE"===y)&&"DATA"===e.slice(n,n+4)){if(s=l.skipSpace(e,n+4),s<0)throw d(l._thisDoc,l.lines,e,n+4,"needed {...} after INSERT DATA "+y);n=s}var v=[];if(s=l.node(e,n,v),s<0)throw d(l._thisDoc,l.lines,e,n,"bad syntax or EOF in {...} after "+y);f[y.toLowerCase()]=v[0],t.add(p,c(y.toLowerCase()),v[0]),h=!0,n=s}}if(!h&&"@prefix"===e.slice(s,s+7)){if(n=l.directive(e,s),n<0)throw d(l._thisDoc,l.lines,e,n,"bad syntax or EOF after @prefix ");n=l.checkDot(e,n),h=!0}if(!h)throw d(l._thisDoc,l.lines,e,s,"Unknown syntax at start of statememt: '"+e.slice(s).slice(0,20)+"'")}}},1912:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b");class a extends n.JSONLDResolver{constructor(e){super(e);const t=this._exposedContext=Object.create(e["@context"]);Object.defineProperty(t,"extend",{value:(...e)=>this.extendContext(...e)}),Object.defineProperty(t,"then",{value:(e,t)=>this._context.then(e=>e.contextRaw).then(e,t)})}handle(){return this._exposedContext}}t.default=a},"19f2":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var n=r("600b"),a=h(r("9c67")),i=h(r("9604")),s=h(r("3432")),o=h(r("3896")),u=h(r("4e8ed")),c=h(r("b474")),l=h(r("bdfe")),f=h(r("4f59")),d=h(r("1912")),p=h(r("e88a"));function h(e){return e&&e.__esModule?e:{default:e}}const{as:y}=a.default["@context"],v=new d.default(a.default),m={...n.defaultHandlers,put:new i.default,delete:new s.default,findActivity:new o.default,likes:(e,t)=>t.findActivity("".concat(y,"Like")),dislikes:(e,t)=>t.findActivity("".concat(y,"Dislike")),follows:(e,t)=>t.findActivity("".concat(y,"Follow")),createActivity:new u.default,like:(e,t)=>()=>t.createActivity("".concat(y,"Like")),dislike:(e,t)=>()=>t.createActivity("".concat(y,"Dislike")),follow:(e,t)=>()=>t.createActivity("".concat(y,"Follow")),deleteActivity:new c.default,unlike:(e,t)=>()=>t.deleteActivity("".concat(y,"Like")),undislike:(e,t)=>()=>t.deleteActivity("".concat(y,"Dislike")),unfollow:(e,t)=>()=>t.deleteActivity("".concat(y,"Follow"))};function g(e){let t=null;const r=new n.PathFactory({handlers:{...m,root:()=>t},resolvers:[v]});return t=new n.PathFactory({handlers:{...n.defaultHandlers,from:new l.default(r),user:new f.default(r),clearCache:({settings:e})=>t=>e.createQueryEngine().clearCache(t),context:v},resolvers:[new p.default(r)],...e}).create(),t}},"21b4":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7},a=n;t.default=a},"21ee":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2321:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.UpdatesVia=t.UpdatesSocket=void 0;var a=n(r("970b")),i=n(r("5bc3")),s=n(r("691a")),o=function(){function e(t,r){(0,a.default)(this,e),this.parent=t,this.via=r,this.connected=!1,this.pending={},this.subscribed={},this.socket={};try{this.socket=new WebSocket(r),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onmessage=this.onMessage,this.socket.onerror=this.onError}catch(n){this.onError(n)}}return(0,i.default)(e,[{key:"_decode",value:function(e){var t,r,n,a,i,s,o;for(r in a={},i=function(){var r,n,a,i;for(a=e.split("&"),i=[],r=0,n=a.length;r<n;r++)t=a[r],i.push(t.split("="));return i}(),i)t=i[r],s=[decodeURIComponent(t[0]),decodeURIComponent(t[1])],n=s[0],o=s[1],null==a[n]&&(a[n]=[]),a[n].push(o);return a}},{key:"_send",value:function(e,t,r){var n,a;return a=[e,t,r].join(" "),"function"===typeof(n=this.socket).send?n.send(a):void 0}},{key:"_subscribe",value:function(e){return this._send("sub",e,""),this.subscribed[e]=!0,this.subscribed[e]}},{key:"onClose",value:function(e){var t;for(t in this.connected=!1,this.subscribed)this.pending[t]=!0;return this.subscribed={},this.subscribed}},{key:"onError",value:function(e){throw new Error("onError"+e)}},{key:"onMessage",value:function(e){var t,r;return r=e.data.split(" "),"ping"===r[0]?"function"===typeof(t=this.socket).send?t.send("pong "+r.slice(1).join(" ")):void 0:"pub"===r[0]?this.parent.onUpdate(r[1],this._decode(r[2])):void 0}},{key:"onOpen",value:function(e){var t,r;for(r in this.connected=!0,t=[],this.pending)delete this.pending[r],t.push(this._subscribe(r));return t}},{key:"subscribe",value:function(e){return this.connected?this._subscribe(e):(this.pending[e]=!0,this.pending[e])}}]),e}();t.UpdatesSocket=o;var u=function(){function e(t){(0,a.default)(this,e),this.fetcher=t,this.graph={},this.via={},this.fetcher.addCallback("headers",this.onHeaders)}return(0,i.default)(e,[{key:"onHeaders",value:function(e){var t,r,n;return null==e.headers||"undefined"===typeof WebSocket||null===WebSocket||(t=e.headers["etag"],n=e.headers["updates-via"],r=e.uri,t&&n&&(this.graph[r]={etag:t,via:n},this.register(n,r))),!0}},{key:"onUpdate",value:function(e,t){return this.fetcher.refresh(s.default.namedNode(e))}},{key:"register",value:function(e,t){return null==this.via[e]&&(this.via[e]=new o(this,e)),this.via[e].subscribe(t)}}]),e}();t.UpdatesVia=u},"234b":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var a=n(r("3c962")),i=r("b19c");function s(e,t,r){var n=[];function s(e){if(n[e])return n[e];var t=r.variable(e);return n[e]=t,t}function o(e){return"string"===typeof e&&e.match(/[^ \n\t]/)}function u(e){return"string"===typeof e&&e.match(/^[\?\$]/)}function c(e){return"string"===typeof e?e.replace(/^&lt;/,"<").replace(/&gt;$/,">"):e}function l(e){return"string"===typeof e&&e.match(/^<[^>]*>$/)}function f(e){return"string"===typeof e&&(e.match(/^_:/)||e.match(/^$/))}function d(e){return"string"===typeof e&&e.match(/:$/)}function p(e){return"string"===typeof e&&e.match(/^:|^[^_][^:]*:/)}function h(e){var t=e.split(":");return t[0]}function y(e){var t=e.split(":");return t[1]}function v(e){return l(e)?e.slice(1,e.length-1):e}function m(e){var t=-1===e.indexOf("'")?null:e.indexOf("'"),n=-1===e.indexOf('"')?null:e.indexOf('"');if(!t&&!n){var i=new Array(1);return i[0]=e,i}var s,o,u=new Array(2);if(!t||n&&n<t)s='"',o=n;else{if(n&&!(t&&t<n))return a.default.error("SQARQL QUERY OOPS!"),u;s="'",o=t}u[0]=e.slice(0,o);var c,l=e.slice(o+1).indexOf(s);return-1===l?(a.default.error("SPARQL parsing error: no matching parentheses in literal "+e),e):(e.slice(l+o+2).match(/^\^\^/)?(c=e.slice(l+o+2).indexOf(" "),u[1]=r.literal(e.slice(o+1,o+1+l),r.sym(v(e.slice(o+4+l,o+2+l+c)))),u=u.concat(m(e.slice(l+o+3+c)))):e.slice(l+o+2).match(/^@/)?(c=e.slice(l+o+2).indexOf(" "),u[1]=r.literal(e.slice(o+1,o+1+l),e.slice(o+3+l,o+2+l+c),null),u=u.concat(m(e.slice(l+o+2+c)))):(u[1]=r.literal(e.slice(o+1,o+1+l)),a.default.info("Literal found: "+u[1]),u=u.concat(m(e.slice(l+o+2)))),u)}function g(e){e=e.replace(/\(/g," ( ").replace(/\)/g," ) ").replace(/</g," <").replace(/>/g,"> ").replace(/{/g," { ").replace(/}/g," } ").replace(/[\t\n\r]/g," ").replace(/; /g," ; ").replace(/\. /g," . ").replace(/, /g," , "),a.default.info("New str into spaceDelimit: \n"+e);var t=[],r=e.split(" ");for(var n in r)o(r[n])&&(t=t.concat(r[n]));return t}function b(e){for(var t=e,r=0;r<t.length;r++)if("a"===t[r]&&(t[r]="<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>"),"is"===t[r]&&"of"===t[r+2]){t.splice(r,1),t.splice(r+1,1);var n=t[r-1];t[r-1]=t[r+1],t[r+1]=n}return t}function w(e){for(var t=[],n=0;n<e.length;n++)"string"===typeof e[n]?(e[n]=c(e[n]),u(e[n])?t[n]=s(e[n].slice(1)):f(e[n])?(a.default.info(e[n]+" was identified as a bnode."),t[n]=r.bnode()):l(e[n])?(a.default.info(e[n]+" was identified as a symbol."),t[n]=r.sym(v(e[n]))):p(e[n])?(a.default.info(e[n]+" was identified as a prefixed symbol"),F[h(e[n])]?t[n]=r.sym(e[n]=F[h(e[n])]+y(e[n])):(a.default.error("SPARQL error: "+e[n]+" with prefix "+h(e[n])+" does not have a correct prefix entry."),t[n]=e[n])):t[n]=e[n]):t[n]=e[n];return t}function T(e){var t=m(e),r=[];for(var n in t)r="string"===typeof t[n]?r.concat(g(t[n])):r.concat(t[n]);return r=b(r),a.default.info("SPARQL Tokens: "+r),r}function E(e,t){for(var r=0;r<t.length;r++)if("string"===typeof t[r]&&t[r].toLowerCase()===e.toLowerCase())return r;return null}function N(e,t){for(var r=[],n=0;n<t.length;n++)"string"===typeof t[n]&&t[n].toLowerCase()===e.toLowerCase()&&r.push(n);return r}function x(e,t){for(var r in a.default.info("SPARQL vars: "+e),e)if(u(e[r])){a.default.info("Added "+e[r]+" to query variables from SPARQL");var n=s(e[r].slice(1));t.vars.push(n),n.label=e[r].slice(1)}else a.default.warn("Incorrect SPARQL variable in SELECT: "+e[r])}function _(e){var t=N("PREFIX",e),r=[];for(var n in t){var i=e[t[n]+1],s=e[t[n]+2];if(d(i))if(l(s)){a.default.info("Prefix found: "+i+" -> "+s);var o=h(i),u=v(s);r[o]=u}else a.default.error("Invalid SPARQL symbol: "+s);else a.default.error("Invalid SPARQL prefix: "+i)}return r}function O(e,t,r){a.default.info("Looking for a close bracket of type "+r+" in "+e);for(var n=0,i=0;i<e.length;i++)if(e[i]===t&&n++,e[i]===r&&n--,n<0)return i;return a.default.error("Statement had no close parenthesis in SPARQL query"),0}function I(e){return this.describe=function(t){return t+" = "+e.toNT()},this.test=function(t){return e.equals(t)},this}function R(e){this.describe=function(t){return"REGEXP( '"+e+"' , "+t+" )"},this.test=function(t){var r=e,n=new RegExp(r);return!!t.value&&n.test(t.value)}}function A(e,t){3!==e.length||"Variable"!==e[0].termType||"NamedNode"!==e[2].termType&&"Literal"!==e[2].termType?6===e.length&&"string"===typeof e[0]&&"regexp"===e[0].toLowerCase()&&"("===e[1]&&")"===e[5]&&","===e[3]&&"Variable"===e[4].termType&&"Literal"===e[2].termType&&(a.default.debug("Constraint added: "+e),t.constraints[e[4]]=new R(e[2].value)):"="===e[1]||">"===e[1]||"<"===e[1]?(a.default.debug("Constraint added: "+e),t.constraints[e[0]]=new I(e[2])):a.default.warn("I don't know how to handle the constraint: "+e)}function C(e,t){a.default.debug("Optional query: "+e+" not yet implemented.");var n=r.formula();S(e,n),t.optional.push(n)}function S(e,t){var r,n,i=w(e);a.default.debug("WHERE: "+i);while(E("OPTIONAL",i))n=E("OPTIONAL",i),a.default.debug("OPT: "+n+" "+i[n]+" in "+i),"{"!==i[n+1]&&a.default.warn("Bad optional opening bracket in word "+n),r=O(i.slice(n+2),"{","}"),-1===r?a.default.error("No matching bracket in word "+n):(C(i.slice(n+2,n+2+r),t),n=E("OPTIONAL",i),r=O(i.slice(n+2),"{","}"),i.splice(n,r+3));a.default.debug("WHERE after optionals: "+i);while(E("FILTER",i)){var s=E("FILTER",i);"("!==i[s+1]&&a.default.warn("Bad filter opening bracket in word "+s),r=O(i.slice(s+2),"(",")"),-1===r?a.default.error("No matching bracket in word "+s):(A(i.slice(s+2,s+2+r),t),s=E("FILTER",i),r=O(i.slice(s+2),"(",")"),i.splice(s,r+3))}a.default.debug("WHERE after filters and optionals: "+i),D(i,t)}function D(e,t){var r=new Array(1);r[0]=-1;for(var n=r.concat(N(".",e)),i=[],s=0;s<n.length-1;s++)i[s]=e.slice(n[s]+1,n[s+1]);for(s in i){a.default.info("s+p+o "+s+" = "+i[s]);var o=i[s][0];i[s].splice(0,1);var u=r.concat(N(";",i[s]));u.push(i[s].length);for(var c=[],l=0;l<u.length-1;l++)c[l]=i[s].slice(u[l]+1,u[l+1]);for(s in c){a.default.info("p+o "+s+" = "+i[s]);var f=c[s][0];c[s].splice(0,1);var d=r.concat(N(",",c[s]));d.push(c[s].length);var p=[];for(l=0;l<d.length-1;l++)p[l]=c[s].slice(d[l]+1,d[l+1]);for(s in p){var h=p[s][0];a.default.info("Subj="+o+" Pred="+f+" Obj="+h),t.add(o,f,h)}}}}a.default.info("SPARQL input: \n"+e);var k=new i.Query,j=T(e),F=_(j);F.rdf||(F.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"),F.rdfs||(F.rdfs="http://www.w3.org/2000/01/rdf-schema#");var P=E("SELECT",j),L=E("WHERE",j);if(P<0||L<0||P>L)return a.default.error("Invalid or nonexistent SELECT and WHERE tags in SPARQL query"),!1;if(x(j.slice(P+1,L),k),S(j.slice(L+2,j.length-1),k.pat),t)return k;for(var U in k.pat.statements){var M=k.pat.statements[U];"NamedNode"===M.subject.termType&&r.fetcher&&r.fetcher.lookUpThing(M.subject,"sparql:"+M.subject),"NamedNode"===M.object.termType&&r.fetcher&&r.fetcher.lookUpThing(M.object,"sparql:"+M.object)}return k}},27:function(e,t){},28:function(e,t){},"2c03":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expressionTypes=t.types=void 0,t.types=Object.freeze({ALT:"alt",ASK:"ask",BGP:"bgp",CONSTRUCT:"construct",DESC:"desc",DESCRIBE:"describe",DISTINCT:"distinct",EXPRESSION:"expression",EXTEND:"extend",FILTER:"filter",FROM:"from",GRAPH:"graph",GROUP:"group",INV:"inv",JOIN:"join",LEFT_JOIN:"leftjoin",LINK:"link",MINUS:"minus",NPS:"nps",ONE_OR_MORE_PATH:"OneOrMorePath",ORDER_BY:"orderby",PATH:"path",PATTERN:"pattern",PROJECT:"project",REDUCED:"reduced",SEQ:"seq",SERVICE:"service",SLICE:"slice",UNION:"union",VALUES:"values",ZERO_OR_MORE_PATH:"ZeroOrMorePath",ZERO_OR_ONE_PATH:"ZeroOrOnePath",COMPOSITE_UPDATE:"compositeupdate",DELETE_INSERT:"deleteinsert",LOAD:"load",CLEAR:"clear",CREATE:"create",DROP:"drop",ADD:"add",MOVE:"move",COPY:"copy"}),t.expressionTypes=Object.freeze({AGGREGATE:"aggregate",EXISTENCE:"existence",NAMED:"named",OPERATOR:"operator",TERM:"term",WILDCARD:"wildcard"})},"2d54":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.toSparqlJs=t.toSparql=t.Factory=t.Algebra=t.translate=void 0;const n=r("f4a4");t.translate=n.default;const a=r("2c03");t.Algebra=a;const i=r("9659");t.Factory=i.default;const s=r("3ecc");Object.defineProperty(t,"toSparql",{enumerable:!0,get:function(){return s.toSparql}}),Object.defineProperty(t,"toSparqlJs",{enumerable:!0,get:function(){return s.toSparqlJs}});const o=r("ef12");t.Util=o.default},"2f24":function(e,t,r){"use strict";function n(e,...t){return(...r)=>e(...t,...r)}function a(e){return function(...t){var r=t.pop();return e.call(this,t,r)}}r.r(t),r.d(t,"apply",(function(){return n})),r.d(t,"applyEach",(function(){return V})),r.d(t,"applyEachSeries",(function(){return H})),r.d(t,"asyncify",(function(){return f})),r.d(t,"auto",(function(){return z})),r.d(t,"autoInject",(function(){return te})),r.d(t,"cargo",(function(){return ie})),r.d(t,"cargoQueue",(function(){return se})),r.d(t,"compose",(function(){return le})),r.d(t,"concat",(function(){return ve})),r.d(t,"concatLimit",(function(){return he})),r.d(t,"concatSeries",(function(){return ge})),r.d(t,"constant",(function(){return be})),r.d(t,"detect",(function(){return Ee})),r.d(t,"detectLimit",(function(){return xe})),r.d(t,"detectSeries",(function(){return Oe})),r.d(t,"dir",(function(){return Re})),r.d(t,"doUntil",(function(){return Se})),r.d(t,"doWhilst",(function(){return Ce})),r.d(t,"each",(function(){return je})),r.d(t,"eachLimit",(function(){return Pe})),r.d(t,"eachOf",(function(){return L})),r.d(t,"eachOfLimit",(function(){return k})),r.d(t,"eachOfSeries",(function(){return B})),r.d(t,"eachSeries",(function(){return Ue})),r.d(t,"ensureAsync",(function(){return Me})),r.d(t,"every",(function(){return qe})),r.d(t,"everyLimit",(function(){return $e})),r.d(t,"everySeries",(function(){return He})),r.d(t,"filter",(function(){return Je})),r.d(t,"filterLimit",(function(){return Ke})),r.d(t,"filterSeries",(function(){return et})),r.d(t,"forever",(function(){return rt})),r.d(t,"groupBy",(function(){return it})),r.d(t,"groupByLimit",(function(){return at})),r.d(t,"groupBySeries",(function(){return st})),r.d(t,"log",(function(){return ot})),r.d(t,"map",(function(){return M})),r.d(t,"mapLimit",(function(){return de})),r.d(t,"mapSeries",(function(){return G})),r.d(t,"mapValues",(function(){return ft})),r.d(t,"mapValuesLimit",(function(){return lt})),r.d(t,"mapValuesSeries",(function(){return dt})),r.d(t,"memoize",(function(){return pt})),r.d(t,"nextTick",(function(){return ht})),r.d(t,"parallel",(function(){return vt})),r.d(t,"parallelLimit",(function(){return mt})),r.d(t,"priorityQueue",(function(){return Nt})),r.d(t,"queue",(function(){return gt})),r.d(t,"race",(function(){return _t})),r.d(t,"reduce",(function(){return ue})),r.d(t,"reduceRight",(function(){return Ot})),r.d(t,"reflect",(function(){return It})),r.d(t,"reflectAll",(function(){return Rt})),r.d(t,"reject",(function(){return St})),r.d(t,"rejectLimit",(function(){return kt})),r.d(t,"rejectSeries",(function(){return Ft})),r.d(t,"retry",(function(){return Mt})),r.d(t,"retryable",(function(){return qt})),r.d(t,"seq",(function(){return ce})),r.d(t,"series",(function(){return Bt})),r.d(t,"setImmediate",(function(){return l})),r.d(t,"some",(function(){return Gt})),r.d(t,"someLimit",(function(){return Xt})),r.d(t,"someSeries",(function(){return zt})),r.d(t,"sortBy",(function(){return Jt})),r.d(t,"timeout",(function(){return Yt})),r.d(t,"times",(function(){return er})),r.d(t,"timesLimit",(function(){return Zt})),r.d(t,"timesSeries",(function(){return tr})),r.d(t,"transform",(function(){return rr})),r.d(t,"tryEach",(function(){return ar})),r.d(t,"unmemoize",(function(){return ir})),r.d(t,"until",(function(){return ur})),r.d(t,"waterfall",(function(){return lr})),r.d(t,"whilst",(function(){return or})),r.d(t,"all",(function(){return qe})),r.d(t,"allLimit",(function(){return $e})),r.d(t,"allSeries",(function(){return He})),r.d(t,"any",(function(){return Gt})),r.d(t,"anyLimit",(function(){return Xt})),r.d(t,"anySeries",(function(){return zt})),r.d(t,"find",(function(){return Ee})),r.d(t,"findLimit",(function(){return xe})),r.d(t,"findSeries",(function(){return Oe})),r.d(t,"flatMap",(function(){return ve})),r.d(t,"flatMapLimit",(function(){return he})),r.d(t,"flatMapSeries",(function(){return ge})),r.d(t,"forEach",(function(){return je})),r.d(t,"forEachSeries",(function(){return Ue})),r.d(t,"forEachLimit",(function(){return Pe})),r.d(t,"forEachOf",(function(){return L})),r.d(t,"forEachOfSeries",(function(){return B})),r.d(t,"forEachOfLimit",(function(){return k})),r.d(t,"inject",(function(){return ue})),r.d(t,"foldl",(function(){return ue})),r.d(t,"foldr",(function(){return Ot})),r.d(t,"select",(function(){return Je})),r.d(t,"selectLimit",(function(){return Ke})),r.d(t,"selectSeries",(function(){return et})),r.d(t,"wrapSync",(function(){return f})),r.d(t,"during",(function(){return or})),r.d(t,"doDuring",(function(){return Ce}));var i,s="function"===typeof setImmediate&&setImmediate,o="object"===typeof process&&"function"===typeof process.nextTick;function u(e){setTimeout(e,0)}function c(e){return(t,...r)=>e(()=>t(...r))}i=s?setImmediate:o?process.nextTick:u;var l=c(i);function f(e){return h(e)?function(...t){const r=t.pop(),n=e.apply(this,t);return d(n,r)}:a((function(t,r){var n;try{n=e.apply(this,t)}catch(a){return r(a)}if(n&&"function"===typeof n.then)return d(n,r);r(null,n)}))}function d(e,t){return e.then(e=>{p(t,null,e)},e=>{p(t,e&&e.message?e:new Error(e))})}function p(e,t,r){try{e(t,r)}catch(n){l(e=>{throw e},n)}}function h(e){return"AsyncFunction"===e[Symbol.toStringTag]}function y(e){return"AsyncGenerator"===e[Symbol.toStringTag]}function v(e){return"function"===typeof e[Symbol.asyncIterator]}function m(e){if("function"!==typeof e)throw new Error("expected a function");return h(e)?f(e):e}function g(e,t=e.length){if(!t)throw new Error("arity is undefined");function r(...r){return"function"===typeof r[t-1]?e.apply(this,r):new Promise((n,a)=>{r[t-1]=(e,...t)=>{if(e)return a(e);n(t.length>1?t:t[0])},e.apply(this,r)})}return r}function b(e){return function(t,...r){const n=g((function(n){var a=this;return e(t,(e,t)=>{m(e).apply(a,r.concat(t))},n)}));return n}}function w(e,t,r,n){t=t||[];var a=[],i=0,s=m(r);return e(t,(e,t,r)=>{var n=i++;s(e,(e,t)=>{a[n]=t,r(e)})},e=>{n(e,a)})}function T(e){return e&&"number"===typeof e.length&&e.length>=0&&e.length%1===0}const E={};function N(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}function x(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}function _(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}function O(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}function I(e){var t=e?Object.keys(e):[],r=-1,n=t.length;return function(){var a=t[++r];return r<n?{value:e[a],key:a}:null}}function R(e){if(T(e))return _(e);var t=x(e);return t?O(t):I(e)}function A(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}function C(e,t,r,n){let a=!1,i=!1,s=!1,o=0,u=0;function c(){o>=t||s||a||(s=!0,e.next().then(({value:e,done:t})=>{if(!i&&!a){if(s=!1,t)return a=!0,void(o<=0&&n(null));o++,r(e,u,l),u++,c()}}).catch(f))}function l(e,t){if(o-=1,!i)return e?f(e):!1===e?(a=!0,void(i=!0)):t===E||a&&o<=0?(a=!0,n(null)):void c()}function f(e){i||(s=!1,a=!0,n(e))}c()}var S=e=>(t,r,n)=>{if(n=N(n),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return n(null);if(y(t))return C(t,e,r,n);if(v(t))return C(t[Symbol.asyncIterator](),e,r,n);var a=R(t),i=!1,s=!1,o=0,u=!1;function c(e,t){if(!s)if(o-=1,e)i=!0,n(e);else if(!1===e)i=!0,s=!0;else{if(t===E||i&&o<=0)return i=!0,n(null);u||l()}}function l(){u=!0;while(o<e&&!i){var t=a();if(null===t)return i=!0,void(o<=0&&n(null));o+=1,r(t.value,t.key,A(c))}u=!1}l()};function D(e,t,r,n){return S(t)(e,m(r),n)}var k=g(D,4);function j(e,t,r){r=N(r);var n=0,a=0,{length:i}=e,s=!1;function o(e,t){!1===e&&(s=!0),!0!==s&&(e?r(e):++a!==i&&t!==E||r(null))}for(0===i&&r(null);n<i;n++)t(e[n],n,A(o))}function F(e,t,r){return k(e,1/0,t,r)}function P(e,t,r){var n=T(e)?j:F;return n(e,m(t),r)}var L=g(P,3);function U(e,t,r){return w(L,e,t,r)}var M=g(U,3),V=b(M);function q(e,t,r){return k(e,1,t,r)}var B=g(q,3);function $(e,t,r){return w(B,e,t,r)}var G=g($,3),H=b(G);const X=Symbol("promiseCallback");function Q(){let e,t;function r(r,...n){if(r)return t(r);e(n.length>1?n:n[0])}return r[X]=new Promise((r,n)=>{e=r,t=n}),r}function z(e,t,r){"number"!==typeof t&&(r=t,t=null),r=N(r||Q());var n=Object.keys(e).length;if(!n)return r(null);t||(t=n);var a={},i=0,s=!1,o=!1,u=Object.create(null),c=[],l=[],f={};function d(e,t){c.push(()=>v(e,t))}function p(){if(!s){if(0===c.length&&0===i)return r(null,a);while(c.length&&i<t){var e=c.shift();e()}}}function h(e,t){var r=u[e];r||(r=u[e]=[]),r.push(t)}function y(e){var t=u[e]||[];t.forEach(e=>e()),p()}function v(e,t){if(!o){var n=A((t,...n)=>{if(i--,!1!==t)if(n.length<2&&([n]=n),t){var c={};if(Object.keys(a).forEach(e=>{c[e]=a[e]}),c[e]=n,o=!0,u=Object.create(null),s)return;r(t,c)}else a[e]=n,y(e);else s=!0});i++;var c=m(t[t.length-1]);t.length>1?c(a,n):c(n)}}function g(){var e,t=0;while(l.length)e=l.pop(),t++,b(e).forEach(e=>{0===--f[e]&&l.push(e)});if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function b(t){var r=[];return Object.keys(e).forEach(n=>{const a=e[n];Array.isArray(a)&&a.indexOf(t)>=0&&r.push(n)}),r}return Object.keys(e).forEach(t=>{var r=e[t];if(!Array.isArray(r))return d(t,[r]),void l.push(t);var n=r.slice(0,r.length-1),a=n.length;if(0===a)return d(t,r),void l.push(t);f[t]=a,n.forEach(i=>{if(!e[i])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+i+"` in "+n.join(", "));h(i,()=>{a--,0===a&&d(t,r)})})}),g(),p(),r[X]}var W=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,J=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,Y=/,/,K=/(=.+)?(\s*)$/,Z=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function ee(e){const t=e.toString().replace(Z,"");let r=t.match(W);if(r||(r=t.match(J)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,n]=r;return n.replace(/\s/g,"").split(Y).map(e=>e.replace(K,"").trim())}function te(e,t){var r={};return Object.keys(e).forEach(t=>{var n,a=e[t],i=h(a),s=!i&&1===a.length||i&&0===a.length;if(Array.isArray(a))n=[...a],a=n.pop(),r[t]=n.concat(n.length>0?o:a);else if(s)r[t]=a;else{if(n=ee(a),0===a.length&&!i&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");i||n.pop(),r[t]=n.concat(o)}function o(e,t){var r=n.map(t=>e[t]);r.push(t),m(a)(...r)}}),z(r,t)}class re{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){while(this.head)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):ne(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):ne(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){var e=this.head;while(e)yield e.data,e=e.next}remove(e){var t=this.head;while(t){var{next:r}=t;e(t)&&this.removeLink(t),t=r}return this}}function ne(e,t){e.length=1,e.head=e.tail=t}function ae(e,t,r){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var n=m(e),a=0,i=[];const s={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function o(e,t){s[e].push(t)}function u(e,t){const r=(...n)=>{c(e,r),t(...n)};s[e].push(r)}function c(e,t){return e?t?void(s[e]=s[e].filter(e=>e!==t)):s[e]=[]:Object.keys(s).forEach(e=>s[e]=[])}function f(e,...t){s[e].forEach(e=>e(...t))}var d=!1;function p(e,t,r,n){if(null!=n&&"function"!==typeof n)throw new Error("task callback must be a function");var a,i;function s(e,...t){return e?r?i(e):a():t.length<=1?a(t[0]):void a(t)}b.started=!0;var o={data:e,callback:r?s:n||s};if(t?b._tasks.unshift(o):b._tasks.push(o),d||(d=!0,l(()=>{d=!1,b.process()})),r||!n)return new Promise((e,t)=>{a=e,i=t})}function h(e){return function(t,...r){a-=1;for(var n=0,s=e.length;n<s;n++){var o=e[n],u=i.indexOf(o);0===u?i.shift():u>0&&i.splice(u,1),o.callback(t,...r),null!=t&&f("error",t,o.data)}a<=b.concurrency-b.buffer&&f("unsaturated"),b.idle()&&f("drain"),b.process()}}function y(e){return!(0!==e.length||!b.idle())&&(l(()=>f("drain")),!0)}const v=e=>t=>{if(!t)return new Promise((t,r)=>{u(e,(e,n)=>{if(e)return r(e);t(n)})});c(e),o(e,t)};var g=!1,b={_tasks:new re,*[Symbol.iterator](){yield*b._tasks[Symbol.iterator]()},concurrency:t,payload:r,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(e=>p(e,!1,!1,t))}return p(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(e=>p(e,!1,!0,t))}return p(e,!1,!0,t)},kill(){c(),b._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(e=>p(e,!0,!1,t))}return p(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(e=>p(e,!0,!0,t))}return p(e,!0,!0,t)},remove(e){b._tasks.remove(e)},process(){if(!g){g=!0;while(!b.paused&&a<b.concurrency&&b._tasks.length){var e=[],t=[],r=b._tasks.length;b.payload&&(r=Math.min(r,b.payload));for(var s=0;s<r;s++){var o=b._tasks.shift();e.push(o),i.push(o),t.push(o.data)}a+=1,0===b._tasks.length&&f("empty"),a===b.concurrency&&f("saturated");var u=A(h(e));n(t,u)}g=!1}},length(){return b._tasks.length},running(){return a},workersList(){return i},idle(){return b._tasks.length+a===0},pause(){b.paused=!0},resume(){!1!==b.paused&&(b.paused=!1,l(b.process))}};return Object.defineProperties(b,{saturated:{writable:!1,value:v("saturated")},unsaturated:{writable:!1,value:v("unsaturated")},empty:{writable:!1,value:v("empty")},drain:{writable:!1,value:v("drain")},error:{writable:!1,value:v("error")}}),b}function ie(e,t){return ae(e,1,t)}function se(e,t,r){return ae(e,t,r)}function oe(e,t,r,n){n=N(n);var a=m(r);return B(e,(e,r,n)=>{a(t,e,(e,r)=>{t=r,n(e)})},e=>n(e,t))}var ue=g(oe,4);function ce(...e){var t=e.map(m);return function(...e){var r=this,n=e[e.length-1];return"function"==typeof n?e.pop():n=Q(),ue(t,e,(e,t,n)=>{t.apply(r,e.concat((e,...t)=>{n(e,t)}))},(e,t)=>n(e,...t)),n[X]}}function le(...e){return ce(...e.reverse())}function fe(e,t,r,n){return w(S(t),e,r,n)}var de=g(fe,4);function pe(e,t,r,n){var a=m(r);return de(e,t,(e,t)=>{a(e,(e,...r)=>e?t(e):t(e,r))},(e,t)=>{for(var r=[],a=0;a<t.length;a++)t[a]&&(r=r.concat(...t[a]));return n(e,r)})}var he=g(pe,4);function ye(e,t,r){return he(e,1/0,t,r)}var ve=g(ye,3);function me(e,t,r){return he(e,1,t,r)}var ge=g(me,3);function be(...e){return function(...t){var r=t.pop();return r(null,...e)}}function we(e,t){return(r,n,a,i)=>{var s,o=!1;const u=m(a);r(n,(r,n,a)=>{u(r,(n,i)=>n||!1===n?a(n):e(i)&&!s?(o=!0,s=t(!0,r),a(null,E)):void a())},e=>{if(e)return i(e);i(null,o?s:t(!1))})}}function Te(e,t,r){return we(e=>e,(e,t)=>t)(L,e,t,r)}var Ee=g(Te,3);function Ne(e,t,r,n){return we(e=>e,(e,t)=>t)(S(t),e,r,n)}var xe=g(Ne,4);function _e(e,t,r){return we(e=>e,(e,t)=>t)(S(1),e,t,r)}var Oe=g(_e,3);function Ie(e){return(t,...r)=>m(t)(...r,(t,...r)=>{"object"===typeof console&&(t?console.error&&console.error(t):console[e]&&r.forEach(t=>console[e](t)))})}var Re=Ie("dir");function Ae(e,t,r){r=A(r);var n,a=m(e),i=m(t);function s(e,...t){if(e)return r(e);!1!==e&&(n=t,i(...t,o))}function o(e,t){return e?r(e):!1!==e?t?void a(s):r(null,...n):void 0}return o(null,!0)}var Ce=g(Ae,3);function Se(e,t,r){const n=m(t);return Ce(e,(...e)=>{const t=e.pop();n(...e,(e,r)=>t(e,!r))},r)}function De(e){return(t,r,n)=>e(t,n)}function ke(e,t,r){return L(e,De(m(t)),r)}var je=g(ke,3);function Fe(e,t,r,n){return S(t)(e,De(m(r)),n)}var Pe=g(Fe,4);function Le(e,t,r){return Pe(e,1,t,r)}var Ue=g(Le,3);function Me(e){return h(e)?e:function(...t){var r=t.pop(),n=!0;t.push((...e)=>{n?l(()=>r(...e)):r(...e)}),e.apply(this,t),n=!1}}function Ve(e,t,r){return we(e=>!e,e=>!e)(L,e,t,r)}var qe=g(Ve,3);function Be(e,t,r,n){return we(e=>!e,e=>!e)(S(t),e,r,n)}var $e=g(Be,4);function Ge(e,t,r){return we(e=>!e,e=>!e)(B,e,t,r)}var He=g(Ge,3);function Xe(e,t,r,n){var a=new Array(t.length);e(t,(e,t,n)=>{r(e,(e,r)=>{a[t]=!!r,n(e)})},e=>{if(e)return n(e);for(var r=[],i=0;i<t.length;i++)a[i]&&r.push(t[i]);n(null,r)})}function Qe(e,t,r,n){var a=[];e(t,(e,t,n)=>{r(e,(r,i)=>{if(r)return n(r);i&&a.push({index:t,value:e}),n(r)})},e=>{if(e)return n(e);n(null,a.sort((e,t)=>e.index-t.index).map(e=>e.value))})}function ze(e,t,r,n){var a=T(t)?Xe:Qe;return a(e,t,m(r),n)}function We(e,t,r){return ze(L,e,t,r)}var Je=g(We,3);function Ye(e,t,r,n){return ze(S(t),e,r,n)}var Ke=g(Ye,4);function Ze(e,t,r){return ze(B,e,t,r)}var et=g(Ze,3);function tt(e,t){var r=A(t),n=m(Me(e));function a(e){if(e)return r(e);!1!==e&&n(a)}return a()}var rt=g(tt,2);function nt(e,t,r,n){var a=m(r);return de(e,t,(e,t)=>{a(e,(r,n)=>r?t(r):t(r,{key:n,val:e}))},(e,t)=>{for(var r={},{hasOwnProperty:a}=Object.prototype,i=0;i<t.length;i++)if(t[i]){var{key:s}=t[i],{val:o}=t[i];a.call(r,s)?r[s].push(o):r[s]=[o]}return n(e,r)})}var at=g(nt,4);function it(e,t,r){return at(e,1/0,t,r)}function st(e,t,r){return at(e,1,t,r)}var ot=Ie("log");function ut(e,t,r,n){n=N(n);var a={},i=m(r);return S(t)(e,(e,t,r)=>{i(e,t,(e,n)=>{if(e)return r(e);a[t]=n,r(e)})},e=>n(e,a))}var ct,lt=g(ut,4);function ft(e,t,r){return lt(e,1/0,t,r)}function dt(e,t,r){return lt(e,1,t,r)}function pt(e,t=(e=>e)){var r=Object.create(null),n=Object.create(null),i=m(e),s=a((e,a)=>{var s=t(...e);s in r?l(()=>a(null,...r[s])):s in n?n[s].push(a):(n[s]=[a],i(...e,(e,...t)=>{e||(r[s]=t);var a=n[s];delete n[s];for(var i=0,o=a.length;i<o;i++)a[i](e,...t)}))});return s.memo=r,s.unmemoized=e,s}ct=o?process.nextTick:s?setImmediate:u;var ht=c(ct),yt=g((e,t,r)=>{var n=T(t)?[]:{};e(t,(e,t,r)=>{m(e)((e,...a)=>{a.length<2&&([a]=a),n[t]=a,r(e)})},e=>r(e,n))},3);function vt(e,t){return yt(L,e,t)}function mt(e,t,r){return yt(S(t),e,r)}function gt(e,t){var r=m(e);return ae((e,t)=>{r(e[0],t)},t,1)}class bt{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;while(e>0&&Et(this.heap[e],this.heap[t=Tt(e)])){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}percDown(e){let t;while((t=wt(e))<this.heap.length){if(t+1<this.heap.length&&Et(this.heap[t+1],this.heap[t])&&(t+=1),Et(this.heap[e],this.heap[t]))break;let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let r=0;r<this.heap.length;r++)e(this.heap[r])||(this.heap[t]=this.heap[r],t++);this.heap.splice(t);for(let r=Tt(this.heap.length-1);r>=0;r--)this.percDown(r);return this}}function wt(e){return 1+(e<<1)}function Tt(e){return(e+1>>1)-1}function Et(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function Nt(e,t){var r=gt(e,t);return r._tasks=new bt,r.push=function(e,t=0,n=(()=>{})){if("function"!==typeof n)throw new Error("task callback must be a function");if(r.started=!0,Array.isArray(e)||(e=[e]),0===e.length&&r.idle())return l(()=>r.drain());for(var a=0,i=e.length;a<i;a++){var s={data:e[a],priority:t,callback:n};r._tasks.push(s)}l(r.process)},delete r.unshift,r}function xt(e,t){if(t=N(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)m(e[r])(t)}var _t=g(xt,2);function Ot(e,t,r,n){var a=[...e].reverse();return ue(a,t,r,n)}function It(e){var t=m(e);return a((function(e,r){return e.push((e,...t)=>{let n={};if(e&&(n.error=e),t.length>0){var a=t;t.length<=1&&([a]=t),n.value=a}r(null,n)}),t.apply(this,e)}))}function Rt(e){var t;return Array.isArray(e)?t=e.map(It):(t={},Object.keys(e).forEach(r=>{t[r]=It.call(this,e[r])})),t}function At(e,t,r,n){const a=m(r);return ze(e,t,(e,t)=>{a(e,(e,r)=>{t(e,!r)})},n)}function Ct(e,t,r){return At(L,e,t,r)}var St=g(Ct,3);function Dt(e,t,r,n){return At(S(t),e,r,n)}var kt=g(Dt,4);function jt(e,t,r){return At(B,e,t,r)}var Ft=g(jt,3);function Pt(e){return function(){return e}}const Lt=5,Ut=0;function Mt(e,t,r){var n={times:Lt,intervalFunc:Pt(Ut)};if(arguments.length<3&&"function"===typeof e?(r=t||Q(),t=e):(Vt(n,e),r=r||Q()),"function"!==typeof t)throw new Error("Invalid arguments for async.retry");var a=m(t),i=1;function s(){a((e,...t)=>{!1!==e&&(e&&i++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(e))?setTimeout(s,n.intervalFunc(i-1)):r(e,...t))})}return s(),r[X]}function Vt(e,t){if("object"===typeof t)e.times=+t.times||Lt,e.intervalFunc="function"===typeof t.interval?t.interval:Pt(+t.interval||Ut),e.errorFilter=t.errorFilter;else{if("number"!==typeof t&&"string"!==typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||Lt}}function qt(e,t){t||(t=e,e=null);let r=e&&e.arity||t.length;h(t)&&(r+=1);var n=m(t);return a((t,a)=>{function i(e){n(...t,e)}return(t.length<r-1||null==a)&&(t.push(a),a=Q()),e?Mt(e,i,a):Mt(i,a),a[X]})}function Bt(e,t){return yt(B,e,t)}function $t(e,t,r){return we(Boolean,e=>e)(L,e,t,r)}var Gt=g($t,3);function Ht(e,t,r,n){return we(Boolean,e=>e)(S(t),e,r,n)}var Xt=g(Ht,4);function Qt(e,t,r){return we(Boolean,e=>e)(B,e,t,r)}var zt=g(Qt,3);function Wt(e,t,r){var n=m(t);return M(e,(e,t)=>{n(e,(r,n)=>{if(r)return t(r);t(r,{value:e,criteria:n})})},(e,t)=>{if(e)return r(e);r(null,t.sort(a).map(e=>e.value))});function a(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}}var Jt=g(Wt,3);function Yt(e,t,r){var n=m(e);return a((a,i)=>{var s,o=!1;function u(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),o=!0,i(n)}a.push((...e)=>{o||(i(...e),clearTimeout(s))}),s=setTimeout(u,t),n(...a)})}function Kt(e){var t=Array(e);while(e--)t[e]=e;return t}function Zt(e,t,r,n){var a=m(r);return de(Kt(e),t,a,n)}function er(e,t,r){return Zt(e,1/0,t,r)}function tr(e,t,r){return Zt(e,1,t,r)}function rr(e,t,r,n){arguments.length<=3&&"function"===typeof t&&(n=r,r=t,t=Array.isArray(e)?[]:{}),n=N(n||Q());var a=m(r);return L(e,(e,r,n)=>{a(t,e,r,n)},e=>n(e,t)),n[X]}function nr(e,t){var r,n=null;return Ue(e,(e,t)=>{m(e)((e,...a)=>{if(!1===e)return t(e);a.length<2?[r]=a:r=a,n=e,t(e?null:{})})},()=>t(n,r))}var ar=g(nr);function ir(e){return(...t)=>(e.unmemoized||e)(...t)}function sr(e,t,r){r=A(r);var n=m(t),a=m(e),i=[];function s(e,...t){if(e)return r(e);i=t,!1!==e&&a(o)}function o(e,t){return e?r(e):!1!==e?t?void n(s):r(null,...i):void 0}return a(o)}var or=g(sr,3);function ur(e,t,r){const n=m(e);return or(e=>n((t,r)=>e(t,!r)),t,r)}function cr(e,t){if(t=N(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function n(t){var n=m(e[r++]);n(...t,A(a))}function a(a,...i){if(!1!==a)return a||r===e.length?t(a,...i):void n(i)}n([])}var lr=g(cr),fr={apply:n,applyEach:V,applyEachSeries:H,asyncify:f,auto:z,autoInject:te,cargo:ie,cargoQueue:se,compose:le,concat:ve,concatLimit:he,concatSeries:ge,constant:be,detect:Ee,detectLimit:xe,detectSeries:Oe,dir:Re,doUntil:Se,doWhilst:Ce,each:je,eachLimit:Pe,eachOf:L,eachOfLimit:k,eachOfSeries:B,eachSeries:Ue,ensureAsync:Me,every:qe,everyLimit:$e,everySeries:He,filter:Je,filterLimit:Ke,filterSeries:et,forever:rt,groupBy:it,groupByLimit:at,groupBySeries:st,log:ot,map:M,mapLimit:de,mapSeries:G,mapValues:ft,mapValuesLimit:lt,mapValuesSeries:dt,memoize:pt,nextTick:ht,parallel:vt,parallelLimit:mt,priorityQueue:Nt,queue:gt,race:_t,reduce:ue,reduceRight:Ot,reflect:It,reflectAll:Rt,reject:St,rejectLimit:kt,rejectSeries:Ft,retry:Mt,retryable:qt,seq:ce,series:Bt,setImmediate:l,some:Gt,someLimit:Xt,someSeries:zt,sortBy:Jt,timeout:Yt,times:er,timesLimit:Zt,timesSeries:tr,transform:rr,tryEach:ar,unmemoize:ir,until:ur,waterfall:lr,whilst:or,all:qe,allLimit:$e,allSeries:He,any:Gt,anyLimit:Xt,anySeries:zt,find:Ee,findLimit:xe,findSeries:Oe,flatMap:ve,flatMapLimit:he,flatMapSeries:ge,forEach:je,forEachSeries:Ue,forEachLimit:Pe,forEachOf:L,forEachOfSeries:B,forEachOfLimit:k,inject:ue,foldl:ue,foldr:Ot,select:Je,selectLimit:Ke,selectSeries:et,wrapSync:f,during:or,doDuring:Ce};t["default"]=fr},"33e3":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),s=n(r("9523")),o=function(){function e(t){(0,a.default)(this,e),(0,s.default)(this,"termType",void 0),(0,s.default)(this,"classOrder",void 0),(0,s.default)(this,"value",void 0),this.value=t}return(0,i.default)(e,[{key:"substitute",value:function(e){return console.log("@@@ node substitute"+this),this}},{key:"compareTerm",value:function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.value<e.value?-1:this.value>e.value?1:0}},{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value)}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(e){return this.equals(e)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toNQ",value:function(){return this.toNT()}},{key:"toString",value:function(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}]),e}();t.default=o,(0,s.default)(o,"fromValue",void 0),(0,s.default)(o,"toJS",void 0)},3410:function(e,t,r){var n=r("23e7"),a=r("d039"),i=r("7b0b"),s=r("e163"),o=r("e177"),u=a((function(){s(1)}));n({target:"Object",stat:!0,forced:u,sham:!o},{getPrototypeOf:function(e){return s(i(e))}})},3432:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b");class a extends n.DeleteFunctionHandler{async extractObjects(e,t,r){const n=await super.extractObjects(e,t,r),a=[];for await(const i of t)"BlankNode"!==i.termType&&a.push(i);return n?a.filter(e=>n.some(t=>t.equals(e))):a}}t.default=a},"36c6":function(e,t,r){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports["default"]=e.exports,e.exports.__esModule=!0,n(t)}r("3410"),e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},3896:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("ef3c")),a=r("f947");function i(e){return e&&e.__esModule?e:{default:e}}const s="SELECT ?activity WHERE {\n  ?activity a _:type;\n      <https://www.w3.org/ns/activitystreams#actor> _:actor;\n      <https://www.w3.org/ns/activitystreams#object> _:object.\n}\n";class o extends n.default{constructor(...e){super(...e),this.requireUser=!1}async*createResults(e,t,r){const n=(0,a.replaceVariables)(s,e);for await(const a of r.execute(n,t))yield a.values().next().value}}t.default=o},3897:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.docpart=s,t.document=o,t.hostpart=u,t.join=c,t.protocol=l,t.refTo=f;var a=n(r("606c")),i=i||console.log;function s(e){var t;return t=e.indexOf("#"),t<0?e:e.slice(0,t)}function o(e){return new a.default(s(e))}function u(e){var t=/[^\/]*\/\/([^\/]*)\//.exec(e);return t?t[1]:""}function c(e,t){var r,n,a,s,o,u,c=t.indexOf("#");if(c>0&&(t=t.slice(0,c)),0===e.length)return t;if(0===e.indexOf("#"))return t+e;if(s=e.indexOf(":"),s>=0)return e;if(r=t.indexOf(":"),0===t.length)return e;if(r<0)return i("Invalid base: "+t+" in join with given: "+e),e;if(n=t.slice(0,+r+1||9e9),0===e.indexOf("//"))return n+e;if(t.indexOf("//",r)===r+1){if(a=t.indexOf("/",r+3),a<0)return t.length-r-3>0?t+"/"+e:n+e}else if(a=t.indexOf("/",r+1),a<0)return t.length-r-1>0?t+"/"+e:n+e;if(0===e.indexOf("/"))return t.slice(0,a)+e;if(u=t.slice(a),o=u.lastIndexOf("/"),o<0)return n+e;o>=0&&o<u.length-1&&(u=u.slice(0,+o+1||9e9)),u+=e;while(u.match(/[^\/]*\/\.\.\//))u=u.replace(/[^\/]*\/\.\.\//,"");return u=u.replace(/\.\//g,""),u=u.replace(/\/\.$/,"/"),t.slice(0,a)+u}function l(e){var t=e.indexOf(":");return t<0?null:e.slice(0,t)}function f(e,t){var r,n,a,i,s,o,u,c,l,f,d,p,h,y=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!e)return t;if(e===t)return"";for(n=c=0,s=t.length;c<s;n=++c){var v=t[n];if(v!==e[n])break}if(e.slice(0,n).match(y)&&(a=t.indexOf("//"),a<0&&(a=-2),i=t.indexOf("/",a+2),"/"!==t[i+1]&&"/"!==e[i+1]&&t.slice(0,i)===e.slice(0,i)))return t.slice(i);if("#"===t[n]&&e.length===n)return t.slice(n);while(n>0&&"/"!==t[n-1])n--;if(n<3)return t;if(e.indexOf("//",n-2)>0||t.indexOf("//",n-2)>0)return t;if(e.indexOf(":",n)>0)return t;for(u=0,d=e.slice(n),l=0,o=d.length;l<o;l++)r=d[l],"/"===r&&u++;if(0===u&&n<t.length&&"#"===t[n])return"./"+t.slice(n);if(0===u&&n===t.length)return"./";if(h="",u>0)for(f=1,p=u;p>=1?f<=p:f>=p;p>=1?++f:--f)h+="../";return h+t.slice(n)}},"3c96":function(e,t){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"3c962":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={debug:function(e){},warn:function(e){},info:function(e){},error:function(e){},success:function(e){},msg:function(e){}},a=n;t.default=a},"3e6b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=n,n.INSTANCE=new n},"3ecc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toSparqlJs=t.toSparql=void 0;const n=r("8eeb4"),a=r("2c03"),i=r("9659"),s=r("ef12"),o=r("5189"),u=r("b4c9").Generator,c=r("b4c9").Wildcard,l=a.types,f=a.expressionTypes;let d;const p=new i.default;function h(e,t={}){let r=new u(t);return r.stringify(y(e))}function y(e){v(),e=ve(e);let t=m(e);return"group"===t.type?t.patterns[0]:t}function v(){d={project:!1,extend:[],group:[],aggregates:[],order:[]}}function m(e){switch(e.type!==l.EXTEND&&e.type!==l.ORDER_BY&&e.type!==l.GRAPH&&(d.project=!1),e.type){case l.EXPRESSION:return g(e);case l.ASK:return $(e,l.ASK);case l.BGP:return R(e);case l.CONSTRUCT:return A(e);case l.DESCRIBE:return $(e,l.DESCRIBE);case l.DISTINCT:return C(e);case l.EXTEND:return S(e);case l.FROM:return D(e);case l.FILTER:return k(e);case l.GRAPH:return j(e);case l.GROUP:return F(e);case l.JOIN:return P(e);case l.LEFT_JOIN:return L(e);case l.MINUS:return U(e);case l.ORDER_BY:return M(e);case l.PATH:return V(e);case l.PATTERN:return q(e);case l.PROJECT:return $(e,l.PROJECT);case l.REDUCED:return H(e);case l.SERVICE:return X(e);case l.SLICE:return Q(e);case l.UNION:return z(e);case l.VALUES:return W(e);case l.COMPOSITE_UPDATE:return ae(e);case l.DELETE_INSERT:return ie(e);case l.LOAD:return se(e);case l.CLEAR:return oe(e);case l.CREATE:return ue(e);case l.DROP:return ce(e);case l.ADD:return fe(e);case l.MOVE:return de(e);case l.COPY:return pe(e)}throw new Error("Unknown Operation type "+e.type)}function g(e){switch(e.expressionType){case f.AGGREGATE:return T(e);case f.EXISTENCE:return E(e);case f.NAMED:return N(e);case f.OPERATOR:return x(e);case f.TERM:return _(e);case f.WILDCARD:return O(e)}throw new Error("Unknown Expression Operation type "+e.expressionType)}function b(e){switch(e.type){case l.ALT:return J(e);case l.INV:return Y(e);case l.LINK:return K(e);case l.NPS:return Z(e);case l.ONE_OR_MORE_PATH:return ee(e);case l.SEQ:return te(e);case l.ZERO_OR_MORE_PATH:return re(e);case l.ZERO_OR_ONE_PATH:return ne(e)}throw new Error("Unknown Path type "+e.type)}function w(e){return o.termToString(e)}function T(e){let t={expression:g(e.expression),type:"aggregate",aggregation:e.aggregator,distinct:e.distinct};return e.separator&&(t.separator=e.separator),t}function E(e){return{type:"operation",operator:e.not?"notexists":"exists",args:s.default.flatten([m(e.input)])}}function N(e){return{type:"functionCall",function:e.name,args:e.args.map(g)}}function x(e){if("desc"===e.operator){let t={expression:g(e.args[0]),descending:!0};return t}let t={type:"operation",operator:e.operator,args:e.args.map(g)};return"in"!==t.operator&&"notin"!==t.operator||(t.args=[t.args[0]].concat([t.args.slice(1)])),t}function _(e){return e.term}function O(e){return e.wildcard}function I(e){return e}function R(e){let t=e.patterns.map(q);return 0===t.length?null:{type:"bgp",triples:t}}function A(e){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:e.template.map(q),where:s.default.flatten([m(e.input)])}}function C(e){let t=m(e.input);return t.patterns[0].distinct=!0,t}function S(e){return d.project?(d.extend.push(e),m(e.input)):s.default.flatten([m(e.input),{type:"bind",variable:e.variable,expression:g(e.expression)}])}function D(e){let t=m(e.input),r=t.patterns[0];return r.from={default:e.default,named:e.named},t}function k(e){return{type:"group",patterns:s.default.flatten([m(e.input),{type:"filter",expression:g(e.expression)}])}}function j(e){return{type:"graph",patterns:s.default.flatten([m(e.input)]),name:e.name}}function F(e){let t=m(e.input),r=e.aggregates.map(I);return d.aggregates.push(...r),d.group.push(...e.variables),t}function P(e){const t=s.default.flatten([m(e.left),m(e.right)]);return t.reduce((e,t)=>("bgp"!==t.type||0==e.length||"bgp"!==e[e.length-1].type?e.push(t):e[e.length-1].triples.push(...t.triples),e),[])}function L(e){let t={type:"optional",patterns:[m(e.right)]};return e.expression&&t.patterns.push({type:"filter",expression:g(e.expression)}),t.patterns=s.default.flatten(t.patterns),s.default.flatten([m(e.left),t])}function U(e){let t=m(e.right);return"group"===t.type&&(t=t.patterns),Array.isArray(t)||(t=[t]),s.default.flatten([m(e.left),{type:"minus",patterns:t}])}function M(e){return d.order.push(...e.expressions),m(e.input)}function V(e){return{type:"bgp",triples:[{subject:e.subject,predicate:b(e.predicate),object:e.object}]}}function q(e){return{subject:e.subject,predicate:e.predicate,object:e.object}}function B(e,t){let r=s.default.isTerm(e)?w(e):e;if("string"===typeof r){if(t[r])return t[r]}else if(Array.isArray(e))e=e.map(e=>B(e,t));else for(let n of Object.keys(e))e[n]=B(e[n],t);return e}function $(e,t){let r={type:"query",prefixes:{}};t===l.PROJECT?(r.queryType="SELECT",r.variables=e.variables):t===l.ASK?r.queryType="ASK":t===l.DESCRIBE&&(r.queryType="DESCRIBE",r.variables=e.terms);let n=d.extend,a=d.group,i=d.aggregates,o=d.order;v(),d.project=!0;let u=s.default.flatten([m(e.input)]);1===u.length&&"group"===u[0].type&&(u=u[0].patterns),r.where=u;let f={};for(let s of d.aggregates)f[w(s.variable)]=g(s);let p={};for(let s=d.extend.length-1;s>=0;--s){let e=d.extend[s];p[w(e.variable)]=B(g(e.expression),f)}if(d.group.length>0&&(r.group=d.group.map(e=>{let t=w(e);if(p[t]){let r=p[t];return delete p[t],{variable:e,expression:r}}return{expression:e}})),d.order.length>0&&(r.order=d.order.map(m).map(e=>e.descending?e:{expression:e})),r.variables&&(r.variables=r.variables.map(e=>{let t=w(e);return p[t]?{variable:e,expression:p[t]}:e}),0===r.variables.length&&(r.variables=[new c])),r.where.length>0&&"filter"===r.where[r.where.length-1].type){let e=r.where[r.where.length-1];G(e,Object.keys(f))&&(r.having=s.default.flatten([B(e.expression,f)]),r.where.splice(-1))}return d.extend=n,d.group=a,d.aggregates=i,d.order=o,r={type:"group",patterns:[r]},r}function G(e,t){return s.default.isTerm(e)?t.indexOf(w(e))>=0:Array.isArray(e)?e.some(e=>G(e,t)):e===Object(e)?Object.keys(e).some(r=>G(e[r],t)):t.indexOf(e)>=0}function H(e){let t=m(e.input);return t.patterns[0].reduced=!0,t}function X(e){let t=m(e.input);return"group"===t.type&&(t=t.patterns),Array.isArray(t)||(t=[t]),{type:"service",name:e.name,silent:e.silent,patterns:t}}function Q(e){let t=m(e.input),r=t;return t.type&&"group"===t.type&&(r=t.patterns[0]),0!==e.start&&(r.offset=e.start),void 0!==e.length&&(r.limit=e.length),t}function z(e){return{type:"union",patterns:s.default.flatten([m(e.left),m(e.right)])}}function W(e){return{type:"values",values:e.bindings.map(t=>{let r={};for(let n of e.variables){let e="?"+n.value;t[e]?r[e]=t[e]:r[e]=void 0}return r})}}function J(e){let t=b(e.left),r=b(e.right);return"!"===t.pathType&&"!"===r.pathType?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:[].concat(t.items,r.items)}]}:{type:"path",pathType:"|",items:[t,r]}}function Y(e){if(e.path.type===l.NPS){let t=e.path,r=t.iris.map(e=>({type:"path",pathType:"^",items:[e]}));return r.length<=1?{type:"path",pathType:"!",items:r}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:r}]}}return{type:"path",pathType:"^",items:[b(e.path)]}}function K(e){return e.iri}function Z(e){return e.iris.length<=1?{type:"path",pathType:"!",items:e.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:e.iris}]}}function ee(e){return{type:"path",pathType:"+",items:[b(e.path)]}}function te(e){return{type:"path",pathType:"/",items:[b(e.left),b(e.right)]}}function re(e){return{type:"path",pathType:"*",items:[b(e.path)]}}function ne(e){return{type:"path",pathType:"?",items:[b(e.path)]}}function ae(e){const t=e.updates.map(e=>{const t=m(e);return t.updates[0]});return{prefixes:{},type:"update",updates:t}}function ie(e){let t=e.where,r=void 0;if(t&&t.type===l.FROM){let n=e.where;t=n.input,r={default:n.default,named:n.named}}const a=[{updateType:"insertdelete",delete:ye(e.delete),insert:ye(e.insert)}];if(r&&(a[0].using=r),!t||t.type===l.BGP&&0===t.patterns.length)a[0].where=[];else{const e={};let r=m(me(t,e));"group"===r.type?a[0].where=r.patterns:a[0].where=[r];const n=Object.keys(e);if(n.length>0){if(1!==n.length)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");""!==e[n[0]].graph.value&&(a[0].where=[{type:"graph",patterns:a[0].where,name:e[n[0]].graph}])}}return e.delete||e.where?e.insert||e.where?!e.insert&&e.where&&"bgp"===e.where.type&&n.isomorphic(e.delete,e.where.patterns)&&(delete a[0].where,a[0].updateType="deletewhere"):(delete a[0].insert,delete a[0].where,e.delete.some(e=>"Variable"===e.subject.termType||"Variable"===e.predicate.termType||"Variable"===e.object.termType)?a[0].updateType="deletewhere":a[0].updateType="delete"):(a[0].updateType="insert",delete a[0].delete,delete a[0].where),{prefixes:{},type:"update",updates:a}}function se(e){const t=[{type:"load",silent:Boolean(e.silent),source:e.source}];return e.destination&&(t[0].destination=e.destination),{prefixes:{},type:"update",updates:t}}function oe(e){return le(e,"clear")}function ue(e){return le(e,"create")}function ce(e){return le(e,"drop")}function le(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return"DEFAULT"===e.source?r[0].graph={default:!0}:"NAMED"===e.source?r[0].graph={named:!0}:"ALL"===e.source?r[0].graph={all:!0}:r[0].graph={type:"graph",name:e.source},{prefixes:{},type:"update",updates:r}}function fe(e){return he(e,"add")}function de(e){return he(e,"move")}function pe(e){return he(e,"copy")}function he(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return r[0].source="DEFAULT"===e.source?{type:"graph",default:!0}:{type:"graph",name:e.source},r[0].destination="DEFAULT"===e.destination?{type:"graph",default:!0}:{type:"graph",name:e.destination},{prefixes:{},type:"update",updates:r}}function ye(e){if(!e)return[];const t={};return e.forEach(e=>{const r=e.graph.value;t[r]||(t[r]=[]),t[r].push(e)}),Object.keys(t).map(e=>""===e?{type:"bgp",triples:t[e].map(q)}:{type:"graph",triples:t[e].map(q),name:t[e][0].graph})}function ve(e){return me(e,{})}function me(e,t){if(Array.isArray(e))return e.map(e=>me(e,t));if(!e.type)return e;if(e.type===l.DELETE_INSERT)return e;if((e.type===l.PATTERN||e.type===l.PATH)&&e.graph)return t[e.graph.value]||(t[e.graph.value]={graph:e.graph,values:[]}),t[e.graph.value].values.push(e),e;const r={},n={},a={};for(let s of Object.keys(e)){const t={};r[s]=me(e[s],t);const i=Object.keys(t);if(i.length>1){let e=ge(t[i[0]].values);for(let r=1;r<i.length;++r){const n=ge(t[i[r]].values);e=p.createJoin(e,n)}return i.map(e=>delete t[e]),e}if(1===i.length){const e=t[i[0]].graph;n[s]=e,a[e.value]=e}}const i=Object.keys(a);if(i.length>0)if(1===i.length&&e.type!==l.PROJECT)t[i[0]]={graph:a[i[0]],values:[r]};else for(let s of Object.keys(n))n[s].value.length>0&&(r[s]=p.createGraph(r[s],n[s]));return r}function ge(e){const t=p.createBgp(e),r=e[0].graph;return 0===r.value.length?t:p.createGraph(t,r)}t.toSparql=h,t.toSparqlJs=y},"41e0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("1c46"),a=r("5189"),i=r("68dd");function s(e,t){return!!o(e,t)}function o(e,t){const r=h(p(e)),n=h(p(t));if(Object.keys(r).length!==Object.keys(n).length)return null;for(const u in r)if(r[u]!==n[u])return null;const a=v(d(e)),i=v(d(t)),s=m(e),o=m(t);return u(a,i,s,o)}function u(e,t,r,n,i,s){i||(i={}),s||(s={});const[o,d]=g(e,r,i),[p,h]=g(t,n,s);if(Object.keys(o).length!==Object.keys(p).length)return null;for(const a in o)if(!f(p,o[a]))return null;let y={};for(const u of r){const e=a.termToString(u),t=d[e];for(const r in h)if(h[r]===t){y[e]=r,delete h[r];break}}if(!c(Object.keys(y).sort(),r.map(a.termToString).sort())||!c(l(y).sort(),n.map(a.termToString).sort())){y=null;for(const i of r){const s=a.termToString(i);if(!o[s])for(const i of n){const c=a.termToString(i);if(!p[c]&&d[s]===h[c]){const a=w(s);y=u(e,t,r,n,Object.assign(Object.assign({},o),{[s]:a}),Object.assign(Object.assign({},p),{[c]:a}))}}}}return y}function c(e,t){if(e.length!==t.length)return!1;for(let r=e.length;r--;)if(e[r]!==t[r])return!1;return!0}function l(e){const t=[];for(const r in e)t.push(e[r]);return t}function f(e,t){for(const r in e)if(e[r]===t)return!0;return!1}function d(e){return e.filter(e=>i.someTerms(e,e=>"BlankNode"===e.termType||"Quad"===e.termType&&i.getTermsNested(e).some(e=>"BlankNode"===e.termType)))}function p(e){return e.filter(e=>i.everyTerms(e,e=>"BlankNode"!==e.termType&&!("Quad"===e.termType&&i.getTermsNested(e).some(e=>"BlankNode"===e.termType))))}function h(e){const t={};for(const r of e)t[JSON.stringify(a.quadToStringQuad(r))]=!0;return t}function y(e){return Object.keys(e).map(e=>a.stringQuadToQuad(JSON.parse(e)))}function v(e){return y(h(e))}function m(e){return i.uniqTerms(e.map(e=>i.getBlankNodes(i.getTermsNested(e))).reduce((e,t)=>e.concat(t),[]))}function g(e,t,r){const n=Object.assign({},r),i={};let s=!0;while(s){const r=Object.keys(n).length;for(const s of t){const t=a.termToString(s);if(!n[t]){const[r,a]=b(s,e,n);r&&(n[t]=a),i[t]=a}}const o={};for(const e in i){const t=i[e];void 0===o[t]?o[t]=e:o[t]=!1}for(const e in o){const t=o[e];t&&(n[t]=e)}s=r!==Object.keys(n).length}return[n,i]}function b(e,t,r){const n=[];let a=!0;for(const o of t){const t=i.getTermsNested(o);if(t.some(t=>t.equals(e))){n.push(T(o,r,e));for(const n of t)N(n,r)||n.equals(e)||(a=!1)}}const s=w(n.sort().join(""));return[a,s]}function w(e){return n.createHash("sha1").update(e).digest("hex")}function T(e,t,r){return i.getTerms(e).map(e=>E(e,t,r)).join("|")}function E(e,t,r){return e.equals(r)?"@self":"BlankNode"===e.termType?t[a.termToString(e)]||"@blank":"Quad"===e.termType?`<${T(e,t,r)}>`:a.termToString(e)}function N(e,t){return"BlankNode"!==e.termType&&!("Quad"===e.termType&&i.getTermsNested(e).some(e=>!N(e,t)))||!!t[a.termToString(e)]}t.isomorphic=s,t.getBijection=o,t.getBijectionInner=u,t.hashValues=l,t.hasValue=f,t.getQuadsWithBlankNodes=d,t.getQuadsWithoutBlankNodes=p,t.indexGraph=h,t.deindexGraph=y,t.uniqGraph=v,t.getGraphBlankNodes=m,t.hashTerms=g,t.hashTerm=b,t.sha1hex=w,t.quadToSignature=T,t.termToSignature=E,t.isTermGrounded=N},"424d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonLdContextNormalized=void 0;const n=r("e43f"),a=r("4f5c"),i=r("56af"),s=r("5bc9");class o{constructor(e){this.contextRaw=e}getContextRaw(){return this.contextRaw}expandTerm(e,t,r=a.defaultExpandOptions){const o=this.contextRaw[e];if(null===o||o&&null===o["@id"])return null;let u=!0;if(o&&t){const t=s.Util.getContextValueId(o);if(t&&t!==e){if("string"===typeof t&&(s.Util.isValidIri(t)||s.Util.isValidKeyword(t)))return t;s.Util.isPotentialKeyword(t)||(u=!1)}}const c=s.Util.getPrefix(e,this.contextRaw),l=this.contextRaw["@vocab"],f=(!!l||""===l)&&l.indexOf(":")<0,d=this.contextRaw["@base"],p=s.Util.isPotentialKeyword(e);if(c){const t=this.contextRaw[c],n=s.Util.getContextValueId(t);if(n){if("string"!==typeof t&&r.allowPrefixForcing){if("_"!==n[0]&&!p&&!t["@prefix"]&&!(e in this.contextRaw))return e}else if(!s.Util.isSimpleTermDefinitionPrefix(n,r))return e;return n+e.substr(c.length+1)}}else{if(t&&(l||""===l||r.allowVocabRelativeToBase&&d&&f)&&!p&&!s.Util.isCompactIri(e)){if(f){if(r.allowVocabRelativeToBase)return n.resolve(l,d)+e;throw new i.ErrorCoded(`Relative vocab expansion for term '${e}' with vocab '${l}' is not allowed.`,i.ERROR_CODES.INVALID_VOCAB_MAPPING)}return l+e}if(!t&&d&&!p&&!s.Util.isCompactIri(e))return n.resolve(e,d)}if(u)return e;throw new i.ErrorCoded(`Invalid IRI mapping found for context entry '${e}': '${JSON.stringify(o)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(e,t){if(t&&this.contextRaw["@vocab"]&&e.startsWith(this.contextRaw["@vocab"]))return e.substr(this.contextRaw["@vocab"].length);if(!t&&this.contextRaw["@base"]&&e.startsWith(this.contextRaw["@base"]))return e.substr(this.contextRaw["@base"].length);const r={prefix:"",suffix:e};for(const n in this.contextRaw){const a=this.contextRaw[n];if(a&&!s.Util.isPotentialKeyword(n)){const i=s.Util.getContextValueId(a);if(e.startsWith(i)){const a=e.substr(i.length);if(a)a.length<r.suffix.length&&(r.prefix=n,r.suffix=a);else if(t)return n}}}return r.prefix?r.prefix+":"+r.suffix:e}}t.JsonLdContextNormalized=o},"43f5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLContentType=t.TurtleLegacyContentType=t.TurtleContentType=t.SPARQLUpdateContentType=t.RDFXMLContentType=t.NTriplesContentType=t.NQuadsContentType=t.NQuadsAltContentType=t.N3LegacyContentType=t.N3ContentType=t.JSONLDContentType=t.HTMLContentType=t.GraphTermType=t.EmptyTermType=t.CollectionTermType=t.DefaultGraphTermType=t.VariableTermType=t.LiteralTermType=t.BlankNodeTermType=t.NamedNodeTermType=void 0;var n="NamedNode";t.NamedNodeTermType=n;var a="BlankNode";t.BlankNodeTermType=a;var i="Literal";t.LiteralTermType=i;var s="Variable";t.VariableTermType=s;var o="DefaultGraph";t.DefaultGraphTermType=o;var u="Collection";t.CollectionTermType=u;var c="Empty";t.EmptyTermType=c;var l="Graph";t.GraphTermType=l;var f="text/html";t.HTMLContentType=f;var d="application/ld+json";t.JSONLDContentType=d;var p="text/n3";t.N3ContentType=p;var h="application/n3";t.N3LegacyContentType=h;var y="application/nquads";t.NQuadsAltContentType=y;var v="application/n-quads";t.NQuadsContentType=v;var m="application/n-triples";t.NTriplesContentType=m;var g="application/rdf+xml";t.RDFXMLContentType=g;var b="application/sparql-update";t.SPARQLUpdateContentType=b;var w="text/turtle";t.TurtleContentType=w;var T="application/x-turtle";t.TurtleLegacyContentType=T;var E="application/xhtml+xml";t.XHTMLContentType=E},"43f6":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("970b")),i=n(r("3c96")),s=n(r("5bc3")),o=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),f=n(r("21b4")),d=n(r("33e3")),p=r("43f5");function h(e){var t=y();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,o.default)(r,e);var t=h(r);function r(e){var n;return(0,a.default)(this,r),n=t.call(this,r.getId(e)),(0,l.default)((0,i.default)(n),"termType",p.BlankNodeTermType),(0,l.default)((0,i.default)(n),"classOrder",f.default.BlankNode),(0,l.default)((0,i.default)(n),"isBlank",1),(0,l.default)((0,i.default)(n),"isVar",1),n}return(0,s.default)(r,null,[{key:"getId",value:function(e){if(e){if("string"!==typeof e)throw console.log("Bad blank id:",e),new Error("Bad id argument to new blank node: "+e);if(e.includes("#")){var t=e.split("#");return t[t.length-1]}return e}return"n"+r.nextId++}}]),(0,s.default)(r,[{key:"compareTerm",value:function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.id<e.id?-1:this.id>e.id?1:0}},{key:"copy",value:function(e){var t=new r;return e.copyTo(this,t),t}},{key:"toCanonical",value:function(){return r.NTAnonymousNodePrefix+this.value}},{key:"toString",value:function(){return r.NTAnonymousNodePrefix+this.id}},{key:"id",get:function(){return this.value},set:function(e){this.value=e}}]),r}(d.default);t.default=v,(0,l.default)(v,"nextId",0),(0,l.default)(v,"NTAnonymousNodePrefix","_:")},"491a":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(r("606c"));function i(e,t){var r=t||{namedNode:function(e){return new a.default(e)}};return function(t){return r.namedNode(e+(t||""))}}},"4a4b":function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports["default"]=e.exports,e.exports.__esModule=!0,r(t,n)}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"4b68":function(e,t,r){"use strict";(function(e){var n=r("4ea4"),a=r("dbce");Object.defineProperty(t,"__esModule",{value:!0}),t.mediaTypeClass=l,t.linkRelationProperty=f,t.callbackify=d,t.DOMParserFactory=p,t.domToString=h,t.dumpNode=y,t.dtstamp=v,t.heavyCompare=m,t.heavyCompareSPO=g,t.output=b,t.parseXML=w,t.RDFArrayRemove=T,t.string_startswith=E,t.stackString=x,Object.defineProperty(t,"log",{enumerable:!0,get:function(){return s.default}}),t.uri=t.string=void 0;var i=a(r("3897"));t.uri=i;var s=n(r("3c962")),o=n(r("606c")),u=r("1456"),c={template:N};function l(e){return e=e.split(";")[0].trim(),new o.default("http://www.w3.org/ns/iana/media-types/"+e+"#Resource")}function f(e){return new o.default("http://www.w3.org/ns/iana/link-relations/relation#"+e.trim())}function d(e,t){e.callbacks={};for(var r=t.length-1;r>=0;r--)e.callbacks[t[r]]=[];e.addHook=function(t){e.callbacks[t]||(e.callbacks[t]=[])},e.addCallback=function(t,r){e.callbacks[t].push(r)},e.removeCallback=function(t,r){for(var n=0;n<e.callbacks[t].length;n++)if(e.callbacks[t][n].name===r)return e.callbacks[t].splice(n,1),!0;return!1},e.insertCallback=function(t,r){e.callbacks[t].unshift(r)},e.fireCallbacks=function(t,r){var n,a,i=[],s=[],o=e.callbacks[t].length;for(n=o-1;n>=0;n--)a=e.callbacks[t][n],a&&a.apply(e,r)&&i.push(a);for(n=i.length-1;n>=0;n--)s.push(i[n]);for(n=o;n<e.callbacks[t].length;n++)s.push(e.callbacks[t][n]);e.callbacks[t]=s}}function p(){return window.DOMParser?new u.DOMParser:!!window.ActiveXObject&&new ActiveXObject("Microsoft.XMLDOM")}function h(e,t){t=t||{};var r=[];"selfClosing"in t&&t.selfClosing.split(" ").forEach((function(e){r[e]=!0}));var n=[];return"skipAttributes"in t&&t.skipAttributes.split(" ").forEach((function(e){n[e]=!0})),y(e,t,r,n)}function y(e,t,r,n){var a,i="",s=[!1];if("undefined"===typeof e.nodeType)return i;if(1===e.nodeType){if(e.hasAttribute("class")&&"classWithChildText"in t&&e.matches(t.classWithChildText.class))i+=e.querySelector(t.classWithChildText.element).textContent;else if(!("skipNodeWithClass"in t)||!e.matches("."+t.skipNodeWithClass)){var o=e.nodeName.toLowerCase();i+="<"+o;var u=[];for(a=e.attributes.length-1;a>=0;a--){var c=e.attributes[a];if(!(n.length>0&&n[c.name])&&!/^\d+$/.test(c.name)){if("class"===c.name&&"replaceClassItemWith"in t&&c.value.split(" ").indexOf(t.replaceClassItemWith.source)>-1){var l=new RegExp(t.replaceClassItemWith.source,"g");c.value=c.value.replace(l,t.replaceClassItemWith.target).trim()}"class"===c.name&&"skipClassWithValue"in t&&t.skipClassWithValue===c.value||u.push(c.name+"='"+c.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(u.length>0&&("sortAttributes"in t&&t.sortAttributes&&u.sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())})),i+=" "+u.join(" ")),r[o])i+=" />";else{for(i+=">",i+="html"===o?"\n  ":"",s.push("style"===o||"script"===o),a=0;a<e.childNodes.length;a++)i+=y(e.childNodes[a]);s.pop(),i+="body"===o?"</"+o+">\n":"</"+o+">"}}}else if(8===e.nodeType)i+="\x3c!--"+e.nodeValue+"--\x3e";else if(3===e.nodeType||4===e.nodeType){var f=e.nodeValue.replace(/\n+$/,"");i+=s[s.length-1]?f:f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+e.nodeType),console.log(e);return i}function v(){var e=new Date,t=e.getYear()+1900,r=e.getMonth()+1,n=e.getDate(),a=e.getUTCHours(),i=e.getUTCMinutes(),s=e.getSeconds();return r<10&&(r="0"+r),n<10&&(n="0"+n),a<10&&(a="0"+a),i<10&&(i="0"+i),s<10&&(s="0"+s),t+"-"+r+"-"+n+"T"+a+":"+i+":"+s+"Z"}function m(e,t,r,n){var a=function(e){return"BlankNode"===e.termType?null:e},i=function(e){var t=r.statementsMatching(e).map((function(e){return a(e.subject)+" "+a(e.predicate)+" "+a(e.object)})).concat(r.statementsMatching(void 0,void 0,e).map((function(e){return a(e.subject)+" "+a(e.predicate)+" "+a(e.object)})));return t.sort(),t.join("\n")},s=Object.prototype.hasOwnProperty.call(r,"compareTerms")?r.compareTerms(e,t):e.compareTerm(t);return"BlankNode"===e.termType&&"BlankNode"===t.termType?0===s?0:i(e)>i(t)?1:i(e)<i(t)?-1:s:n&&e.uri&&t.uri?(n[e.uri]||e.uri).localeCompare(n[t.uri]||t.uri):s}function g(e,t,r,n){return m(e.subject,t.subject,r,n)||m(e.predicate,t.predicate,r,n)||m(e.object,t.object,r,n)}function b(e){var t=document.createElement("div");t.textContent=e,document.body.appendChild(t)}function w(t,r){var n;if(r=r||{},e&&e.exports){var a=(new u.DOMParser).parseFromString(t,r.contentType||"application/xhtml+xml");return a}return n="undefined"!==typeof window&&window.DOMParser?new window.DOMParser:new u.DOMParser,n.parseFromString(t,"application/xml")}function T(e,t){for(var r=0;r<e.length;r++)if(e[r].subject.equals(t.subject)&&e[r].predicate.equals(t.predicate)&&e[r].object.equals(t.object)&&e[r].why.equals(t.why))return void e.splice(r,1);throw new Error("RDFArrayRemove: Array did not contain "+t+" "+t.why)}function E(e,t){return e.slice(0,t.length)===t}function N(e,t){for(var r=e.split("%s"),n="",a=0;a<t.length;a++)t[a]+="",n+=r[a]+t[a];return n+r.slice(t.length).join()}function x(e){var t=e+"\n";if(!e.stack)return t+"No stack available.\n";for(var r=e.stack.toString().split("\n"),n=[],a=0;a<r.length;a++){var i=r[a];if(i.indexOf("ecmaunit.js")>-1)break;"("==i.charAt(0)&&(i="function"+i);var s=i.split("@");n.push(s)}for(a=0;a<n.length;a++)t+="  "+n[a][1]+"\n    "+n[a][0];return t}t.string=c}).call(this,r("62e4")(e))},"4df7":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("606c")),i={boolean:new a.default("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new a.default("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new a.default("http://www.w3.org/2001/XMLSchema#decimal"),double:new a.default("http://www.w3.org/2001/XMLSchema#double"),integer:new a.default("http://www.w3.org/2001/XMLSchema#integer"),langString:new a.default("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new a.default("http://www.w3.org/2001/XMLSchema#string")};t.default=i},"4e8ed":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r("ef3c")),a=r("f947"),i=r("9b92"),s=r("6dc9"),o=u(r("9c67"));function u(e){return e&&e.__esModule?e:{default:e}}const c="_:id a _:type;\n    <https://www.w3.org/ns/activitystreams#actor> _:actor;\n    <https://www.w3.org/ns/activitystreams#object> _:object;\n    <https://www.w3.org/ns/activitystreams#published> _:published.\n",{xsd:l}=o.default["@context"];class f extends n.default{async*createResults(e,t){const r=(0,i.namedNode)(new URL("#".concat((0,s.v4)()),t).href),n=(0,i.literal)((new Date).toISOString(),"".concat(l,"dateTime"));e={id:r,published:n,...e};const o=(0,a.replaceVariables)(c,e);yield{id:r,insert:o}}async processResults(e,t,r){const n="INSERT {\n".concat(e.map(e=>e.insert).join(""),"}");return await r.executeUpdate(n,t).next(),e.map(e=>e.id)}}t.default=f},"4ea4":function(e,t){function r(e){return e&&e.__esModule?e:{default:e}}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"4f59":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r("e88a")),a=s(r("00e8")),i=r("9b92");function s(e){return e&&e.__esModule?e:{default:e}}class o extends n.default{handle({settings:e}){const t=this.getWebId().then(i.namedNode);return this._createSubjectPath(t,e)}async getWebId(){const e=await a.default.currentSession();if(!e)throw new Error("Cannot resolve user path: no user logged in");return e.webId}}t.default=o},"4f5c":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function a(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function o(e){try{u(n["throw"](e))}catch(t){i(t)}}function u(e){e.done?r(e.value):a(e.value).then(s,o)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExpandOptions=t.ContextParser=void 0,r("7274");const a=r("e43f"),i=r("56af"),s=r("fb42"),o=r("424d"),u=r("5bc9"),c=r("5727");class l{constructor(e){e=e||{},this.documentLoader=e.documentLoader||new s.FetchDocumentLoader,this.documentCache={},this.validateContext=!e.skipValidation,this.expandContentTypeToBase=!!e.expandContentTypeToBase,this.remoteContextsDepthLimit=e.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in e)||!!e.redirectSchemaOrgHttps}static validateLanguage(e,t,r){if("string"!==typeof e)throw new i.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(e)}'`,r);if(!u.Util.REGEX_LANGUAGE_TAG.test(e)){if(t)throw new i.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(e)}'`,r);return!1}return!0}static validateDirection(e,t){if("string"!==typeof e)throw new i.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(e)}'`,i.ERROR_CODES.INVALID_BASE_DIRECTION);if(!u.Util.REGEX_DIRECTION_TAG.test(e)){if(t)throw new i.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(e)}'`,i.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"===typeof r&&r["@reverse"]&&!r["@id"]){if("string"!==typeof r["@reverse"]||u.Util.isValidKeyword(r["@reverse"]))throw new i.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${r["@reverse"]}'`,i.ERROR_CODES.INVALID_IRI_MAPPING);r["@id"]=r["@reverse"],u.Util.isPotentialKeyword(r["@reverse"])?delete r["@reverse"]:r["@reverse"]=!0}}return e}expandPrefixedTerms(e,t){const r=e.getContextRaw();for(const n of Object.keys(r))if(u.Util.EXPAND_KEYS_BLACKLIST.indexOf(n)<0&&!u.Util.isReservedInternalKeyword(n)){const a=r[n];if(u.Util.isPotentialKeyword(n)&&u.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(n)>=0&&("@type"!==n||"object"===typeof r[n]&&!r[n]["@protected"]&&"@set"!==r[n]["@container"]))throw new i.ErrorCoded(`Keywords can not be aliased to something else.\nTried mapping ${n} to ${JSON.stringify(a)}`,i.ERROR_CODES.KEYWORD_REDEFINITION);if(u.Util.ALIAS_RANGE_BLACKLIST.indexOf(u.Util.getContextValueId(a))>=0)throw new i.ErrorCoded(`Aliasing to certain keywords is not allowed.\nTried mapping ${n} to ${JSON.stringify(a)}`,i.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(a&&u.Util.isPotentialKeyword(u.Util.getContextValueId(a))&&!0===a["@prefix"])throw new i.ErrorCoded(`Tried to use keyword aliases as prefix: '${n}': '${JSON.stringify(a)}'`,i.ERROR_CODES.INVALID_TERM_DEFINITION);while(u.Util.isPrefixValue(r[n])){const a=r[n];let i=!1;if("string"===typeof a)r[n]=e.expandTerm(a,!0),i=i||a!==r[n];else{const s=a["@id"],o=a["@type"],c=!("@prefix"in a)||u.Util.isValidIri(n);if("@id"in a)void 0!==s&&null!==s&&"string"===typeof s&&(r[n]["@id"]=e.expandTerm(s,!0),i=i||s!==r[n]["@id"]);else if(!u.Util.isPotentialKeyword(n)&&c){const t=e.expandTerm(n,!0);t!==n&&(r[n]["@id"]=t,i=!0)}!o||"string"!==typeof o||"@vocab"===o||a["@container"]&&a["@container"]["@type"]||!c||(r[n]["@type"]=e.expandTerm(o,!0),t&&o===r[n]["@type"]&&(r[n]["@type"]=e.expandTerm(o,!1)),i=i||o!==r[n]["@type"])}if(!i)break}}}normalize(e,{processingMode:t,normalizeLanguageTags:r}){if(r||1===t)for(const n of Object.keys(e))if("@language"===n&&"string"===typeof e[n])e[n]=e[n].toLowerCase();else{const t=e[n];t&&"object"===typeof t&&"string"===typeof t["@language"]&&(t["@language"]=t["@language"].toLowerCase())}}containersToHash(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"===typeof r)if("string"===typeof r["@container"])r["@container"]={[r["@container"]]:!0};else if(Array.isArray(r["@container"])){const e={};for(const t of r["@container"])e[t]=!0;r["@container"]=e}}}applyScopedProtected(e,{processingMode:t}){if(t&&t>=1.1&&e["@protected"]){for(const t of Object.keys(e))if(!u.Util.isReservedInternalKeyword(t)&&!u.Util.isPotentialKeyword(t)&&!u.Util.isTermProtected(e,t)){const r=e[t];r&&"object"===typeof r?"@protected"in e[t]||(e[t]["@protected"]=!0):e[t]={"@id":r,"@protected":!0}}delete e["@protected"]}}validateKeywordRedefinitions(e,t,r){for(const n of Object.keys(t))if(u.Util.isTermProtected(e,n)){if("string"===typeof t[n]){const a=u.Util.isSimpleTermDefinitionPrefix(t[n],r);t[n]={"@id":t[n]},a&&(t[n]["@prefix"]=!0,e[n]["@prefix"]=!0)}const a=c(e[n]);t[n]["@protected"]=!0;const s=c(t[n]);if(a!==s)throw new i.ErrorCoded(`Attempted to override the protected keyword ${n} from ${JSON.stringify(u.Util.getContextValueId(e[n]))} to ${JSON.stringify(u.Util.getContextValueId(t[n]))}`,i.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}}validate(e,{processingMode:t}){for(const r of Object.keys(e)){if(u.Util.isReservedInternalKeyword(r))continue;if(""===r)throw new i.ErrorCoded(`The empty term is not allowed, got: '${r}': '${JSON.stringify(e[r])}'`,i.ERROR_CODES.INVALID_TERM_DEFINITION);const n=e[r],a=typeof n;if(u.Util.isPotentialKeyword(r)){switch(r.substr(1)){case"vocab":if(null!==n&&"string"!==a)throw new i.ErrorCoded("Found an invalid @vocab IRI: "+n,i.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==n&&"string"!==a)throw new i.ErrorCoded("Found an invalid @base IRI: "+e[r],i.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==n&&l.validateLanguage(n,!0,i.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==n&&"number"!==a)throw new i.ErrorCoded("Found an invalid @version number: "+n,i.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==n&&l.validateDirection(n,!0);break;case"propagate":if(1===t)throw new i.ErrorCoded("Found an illegal @propagate keyword: "+n,i.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==n&&"boolean"!==a)throw new i.ErrorCoded("Found an invalid @propagate value: "+n,i.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(u.Util.isValidKeyword(r)&&u.Util.isValidKeyword(u.Util.getContextValueId(n)))throw new i.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${u.Util.getContextValueId(n)}'`,i.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==n)switch(a){case"string":if(u.Util.getPrefix(n,e)===r)throw new i.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(n)}'`,i.ERROR_CODES.CYCLIC_IRI_MAPPING);if(u.Util.isValidIriWeak(r)){if("@type"===n)throw new i.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${n}'`,i.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.isValidIri(n)&&n!==new o.JsonLdContextNormalized(e).expandTerm(r))throw new i.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${n}'`,i.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!u.Util.isCompactIri(r)&&!("@id"in n)&&("@id"===n["@type"]?!e["@base"]:!e["@vocab"]))throw new i.ErrorCoded(`Missing @id in context entry: '${r}': '${JSON.stringify(n)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING);for(const s of Object.keys(n)){const c=n[s];if(c)switch(s){case"@id":if(u.Util.isValidKeyword(c)&&"@type"!==c&&"@id"!==c&&"@graph"!==c)throw new i.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${JSON.stringify(n)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.isValidIriWeak(r)){if("@type"===c)throw new i.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${JSON.stringify(n)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.isValidIri(c)&&c!==new o.JsonLdContextNormalized(e).expandTerm(r))throw new i.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${JSON.stringify(n)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!==typeof c)throw new i.ErrorCoded(`Detected non-string @id in context entry: '${r}': '${JSON.stringify(n)}'`,i.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.getPrefix(c,e)===r)throw new i.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(n)}'`,i.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===n["@container"]&&"@id"!==c&&"@vocab"!==c)throw new i.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${r}': '${c}'`,i.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!==typeof c)throw new i.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(a)}'`,i.ERROR_CODES.INVALID_TYPE_MAPPING);if("@id"!==c&&"@vocab"!==c&&(1===t||"@json"!==c)&&(1===t||"@none"!==c)&&("_"===c[0]||!u.Util.isValidIri(c)))throw new i.ErrorCoded(`A context @type must be an absolute IRI, found: '${r}': '${c}'`,i.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"===typeof c&&n["@id"]&&n["@id"]!==c)throw new i.ErrorCoded(`Found non-matching @id and @reverse term values in '${r}':'${c}' and '${n["@id"]}'`,i.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in n)throw new i.ErrorCoded(`@nest is not allowed in the reverse property '${r}'`,i.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===t&&(Object.keys(c).length>1||u.Util.CONTAINERS_1_0.indexOf(Object.keys(c)[0])<0))throw new i.ErrorCoded(`Invalid term @container for '${r}' ('${Object.keys(c)}') in 1.0, must be only one of ${u.Util.CONTAINERS_1_0.join(", ")}`,i.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const e of Object.keys(c)){if("@list"===e&&n["@reverse"])throw new i.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${r}'`,i.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(u.Util.CONTAINERS.indexOf(e)<0)throw new i.ErrorCoded(`Invalid term @container for '${r}' ('${e}'), must be one of ${u.Util.CONTAINERS.join(", ")}`,i.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":l.validateLanguage(c,!0,i.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":l.validateDirection(c,!0);break;case"@prefix":if(null!==c&&"boolean"!==typeof c)throw new i.ErrorCoded(`Found an invalid term @prefix boolean in: '${r}': '${JSON.stringify(n)}'`,i.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in n)&&!u.Util.isValidIri(r))throw new i.ErrorCoded(`Invalid @prefix definition for '${r}' ('${JSON.stringify(n)}'`,i.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===t||!n["@container"]||!n["@container"]["@index"])throw new i.ErrorCoded(`Attempt to add illegal key to value object: '${r}': '${JSON.stringify(n)}'`,i.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(u.Util.isPotentialKeyword(c)&&"@nest"!==c)throw new i.ErrorCoded(`Found an invalid term @nest value in: '${r}': '${JSON.stringify(n)}'`,i.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new i.ErrorCoded(`Found an invalid term value: '${r}': '${n}'`,i.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(e,t,r){return"string"===typeof e||(r&&!("@base"in e)&&t.parentContext&&"@base"in t.parentContext&&(e["@base"]=t.parentContext["@base"],t.parentContext["@__baseDocument"]&&(e["@__baseDocument"]=!0)),t.baseIRI&&!t.external&&("@base"in e?null===e["@base"]||"string"!==typeof e["@base"]||u.Util.isValidIri(e["@base"])||(e["@base"]=a.resolve(e["@base"],t.parentContext&&t.parentContext["@base"]||t.baseIRI)):(e["@base"]=t.baseIRI,e["@__baseDocument"]=!0))),e}normalizeContextIri(e,t){if(!u.Util.isValidIri(e)&&(e=a.resolve(e,t),!u.Util.isValidIri(e)))throw new Error("Invalid context IRI: "+e);return this.redirectSchemaOrgHttps&&e.startsWith("http://schema.org")&&(e="https://schema.org/"),e}parseInnerContexts(e,t){return n(this,void 0,void 0,(function*(){for(const n of Object.keys(e)){const a=e[n];if(a&&"object"===typeof a&&"@context"in a&&null!==a["@context"]){if(this.validateContext)try{const r=Object.assign({},e);r[n]=Object.assign({},r[n]),delete r[n]["@context"],yield this.parse(a["@context"],Object.assign(Object.assign({},t),{parentContext:r,ignoreProtection:!0,ignoreRemoteScopedContexts:!0}))}catch(r){throw new i.ErrorCoded(r.message,i.ERROR_CODES.INVALID_SCOPED_CONTEXT)}a["@context"]=(yield this.parse(a["@context"],Object.assign(Object.assign({},t),{minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:e}))).getContextRaw()}}return e}))}parse(e,r={processingMode:l.DEFAULT_PROCESSING_MODE}){return n(this,void 0,void 0,(function*(){const{baseIRI:n,parentContext:a,external:s,processingMode:c,normalizeLanguageTags:f,ignoreProtection:d,minimalProcessing:p}=r;let h=a;const y=r.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new i.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),i.ERROR_CODES.CONTEXT_OVERFLOW);if(null===e||void 0===e){if(!d&&h&&u.Util.hasProtectedTerms(h))throw new i.ErrorCoded("Illegal context nullification when terms are protected",i.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new o.JsonLdContextNormalized(this.applyBaseEntry({},r,!1))}if("string"===typeof e){const t=this.normalizeContextIri(e,n),a=this.getOverriddenLoad(t,r);if(a)return new o.JsonLdContextNormalized(a);const i=yield this.parse(yield this.load(t),Object.assign(Object.assign({},r),{baseIRI:t,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[t]:!0})}));return this.applyBaseEntry(i.getContextRaw(),r,!0),i}if(Array.isArray(e)){const t=[],a=yield Promise.all(e.map((e,a)=>{if("string"===typeof e){const i=this.normalizeContextIri(e,n);t[a]=i;const s=this.getOverriddenLoad(i,r);return s||this.load(i)}return e}));if(p)return new o.JsonLdContextNormalized(a);const i=yield a.reduce((e,n,a)=>e.then(e=>this.parse(n,Object.assign(Object.assign({},r),{baseIRI:t[a]||r.baseIRI,external:!!t[a]||r.external,parentContext:e.getContextRaw(),remoteContexts:t[a]?Object.assign(Object.assign({},y),{[t[a]]:!0}):y}))),Promise.resolve(new o.JsonLdContextNormalized(h||{})));return this.applyBaseEntry(i.getContextRaw(),r,!0),i}if("object"===typeof e){if("@context"in e)return yield this.parse(e["@context"],r);e=JSON.parse(JSON.stringify(e)),h&&(h=JSON.parse(JSON.stringify(h)));let a={};if(s&&delete e["@base"],this.applyBaseEntry(e,r,!0),this.containersToHash(e),p)return new o.JsonLdContextNormalized(e);let u={};if("@import"in e){if(!(c&&c>=1.1))throw new i.ErrorCoded("Context importing is not supported in JSON-LD 1.0",i.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!==typeof e["@import"])throw new i.ErrorCoded("An @import value must be a string, but got "+typeof e["@import"],i.ERROR_CODES.INVALID_IMPORT_VALUE);u=yield this.loadImportContext(this.normalizeContextIri(e["@import"],n)),delete e["@import"]}a=Object.assign(Object.assign(Object.assign(Object.assign({},a),h),u),e);const y=new o.JsonLdContextNormalized(a);return yield this.parseInnerContexts(a,r),!d&&h&&c&&c>=1.1&&this.validateKeywordRedefinitions(h,a,t.defaultExpandOptions),(a&&a["@version"]||c||l.DEFAULT_PROCESSING_MODE)>=1.1&&(e["@vocab"]&&"string"===typeof e["@vocab"]||""===e["@vocab"])&&e["@vocab"].indexOf(":")<0&&h&&"@vocab"in h&&(a["@vocab"]=h["@vocab"]+e["@vocab"]),this.idifyReverseTerms(a),this.expandPrefixedTerms(y,this.expandContentTypeToBase),this.normalize(a,{processingMode:c,normalizeLanguageTags:f}),this.applyScopedProtected(a,{processingMode:c}),this.validateContext&&this.validate(a,{processingMode:c}),y}throw new i.ErrorCoded("Tried parsing a context that is not a string, array or object, but got "+e,i.ERROR_CODES.INVALID_LOCAL_CONTEXT)}))}load(e){return n(this,void 0,void 0,(function*(){const t=this.documentCache[e];if(t)return"string"===typeof t?t:Array.isArray(t)?t.slice():Object.assign({},t);let r;try{r=yield this.documentLoader.load(e)}catch(n){throw new i.ErrorCoded(`Failed to load remote context ${e}: ${n.message}`,i.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in r))throw new i.ErrorCoded("Missing @context in remote context at "+e,i.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[e]=r["@context"]}))}getOverriddenLoad(e,t){if(e in(t.remoteContexts||{})){if(t.ignoreRemoteScopedContexts)return e;throw new i.ErrorCoded("Detected a cyclic context inclusion of "+e,i.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}loadImportContext(e){return n(this,void 0,void 0,(function*(){const t=yield this.load(e);if("object"!==typeof t||Array.isArray(t))throw new i.ErrorCoded("An imported context must be a single object: "+e,i.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in t)throw new i.ErrorCoded("An imported context can not import another context: "+e,i.ERROR_CODES.INVALID_CONTEXT_ENTRY);return t}))}}t.ContextParser=l,l.DEFAULT_PROCESSING_MODE=1.1,t.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},5125:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r("b1e9"),i=n(r("33e3")),s=n(r("491a")),o=r("ab32");i.default.fromValue=a.fromValue;var u=i.default;t.default=u;var c={xsd:(0,s.default)("http://www.w3.org/2001/XMLSchema#")};i.default.toJS=function(e){return(0,o.isCollection)(e)?e.elements.map(i.default.toJS):(0,o.isLiteral)(e)?e.datatype.equals(c.xsd("boolean"))?"1"===e.value||"true"===e.value:e.datatype.equals(c.xsd("dateTime"))||e.datatype.equals(c.xsd("date"))?new Date(e.value):e.datatype.equals(c.xsd("integer"))||e.datatype.equals(c.xsd("float"))||e.datatype.equals(c.xsd("decimal"))?Number(e.value):e.value:e}},5189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const n=r("d63e3");Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return n.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return n.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return n.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return n.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return n.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return n.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return n.termToString}})},"51b7":function(e,t){class r{constructor(){return n||this}equals(e){return e&&this.termType===e.termType}}Object.defineProperty(r.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(r.prototype,"termType",{enumerable:!0,value:"Wildcard"});var n=new r;e.exports.Wildcard=r},"56af":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_CODES=t.ErrorCoded=void 0;class n extends Error{constructor(e,t){super(e),this.code=t}}t.ErrorCoded=n,function(e){e["COLLIDING_KEYWORDS"]="colliding keywords",e["CONFLICTING_INDEXES"]="conflicting indexes",e["CYCLIC_IRI_MAPPING"]="cyclic IRI mapping",e["INVALID_ID_VALUE"]="invalid @id value",e["INVALID_INDEX_VALUE"]="invalid @index value",e["INVALID_NEST_VALUE"]="invalid @nest value",e["INVALID_PREFIX_VALUE"]="invalid @prefix value",e["INVALID_PROPAGATE_VALUE"]="invalid @propagate value",e["INVALID_REVERSE_VALUE"]="invalid @reverse value",e["INVALID_IMPORT_VALUE"]="invalid @import value",e["INVALID_VERSION_VALUE"]="invalid @version value",e["INVALID_BASE_IRI"]="invalid base IRI",e["INVALID_CONTAINER_MAPPING"]="invalid container mapping",e["INVALID_CONTEXT_ENTRY"]="invalid context entry",e["INVALID_CONTEXT_NULLIFICATION"]="invalid context nullification",e["INVALID_DEFAULT_LANGUAGE"]="invalid default language",e["INVALID_INCLUDED_VALUE"]="invalid @included value",e["INVALID_IRI_MAPPING"]="invalid IRI mapping",e["INVALID_JSON_LITERAL"]="invalid JSON literal",e["INVALID_KEYWORD_ALIAS"]="invalid keyword alias",e["INVALID_LANGUAGE_MAP_VALUE"]="invalid language map value",e["INVALID_LANGUAGE_MAPPING"]="invalid language mapping",e["INVALID_LANGUAGE_TAGGED_STRING"]="invalid language-tagged string",e["INVALID_LANGUAGE_TAGGED_VALUE"]="invalid language-tagged value",e["INVALID_LOCAL_CONTEXT"]="invalid local context",e["INVALID_REMOTE_CONTEXT"]="invalid remote context",e["INVALID_REVERSE_PROPERTY"]="invalid reverse property",e["INVALID_REVERSE_PROPERTY_MAP"]="invalid reverse property map",e["INVALID_REVERSE_PROPERTY_VALUE"]="invalid reverse property value",e["INVALID_SCOPED_CONTEXT"]="invalid scoped context",e["INVALID_SCRIPT_ELEMENT"]="invalid script element",e["INVALID_SET_OR_LIST_OBJECT"]="invalid set or list object",e["INVALID_TERM_DEFINITION"]="invalid term definition",e["INVALID_TYPE_MAPPING"]="invalid type mapping",e["INVALID_TYPE_VALUE"]="invalid type value",e["INVALID_TYPED_VALUE"]="invalid typed value",e["INVALID_VALUE_OBJECT"]="invalid value object",e["INVALID_VALUE_OBJECT_VALUE"]="invalid value object value",e["INVALID_VOCAB_MAPPING"]="invalid vocab mapping",e["IRI_CONFUSED_WITH_PREFIX"]="IRI confused with prefix",e["KEYWORD_REDEFINITION"]="keyword redefinition",e["LOADING_DOCUMENT_FAILED"]="loading document failed",e["LOADING_REMOTE_CONTEXT_FAILED"]="loading remote context failed",e["MULTIPLE_CONTEXT_LINK_HEADERS"]="multiple context link headers",e["PROCESSING_MODE_CONFLICT"]="processing mode conflict",e["PROTECTED_TERM_REDEFINITION"]="protected term redefinition",e["CONTEXT_OVERFLOW"]="context overflow",e["INVALID_BASE_DIRECTION"]="invalid base direction",e["RECURSIVE_CONTEXT_INCLUSION"]="recursive context inclusion",e["INVALID_STREAMING_KEY_ORDER"]="invalid streaming key order"}(t.ERROR_CODES||(t.ERROR_CODES={}))},"5bc3":function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"5bc9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;class n{static isCompactIri(e){return e.indexOf(":")>0&&!(e&&"#"===e[0])}static getPrefix(e,t){if(e&&"#"===e[0])return null;const r=e.indexOf(":");if(r>=0){if(e.length>r+1&&"/"===e.charAt(r+1)&&"/"===e.charAt(r+2))return null;const n=e.substr(0,r);if("_"===n)return null;if(t[n])return n}return null}static getContextValueId(e){if(null===e||"string"===typeof e)return e;const t=e["@id"];return t||null}static isSimpleTermDefinitionPrefix(e,t){return!n.isPotentialKeyword(e)&&("_"===e[0]||t.allowPrefixNonGenDelims||n.isPrefixIriEndingWithGenDelim(e))}static isPotentialKeyword(e){return"string"===typeof e&&n.KEYWORD_REGEX.test(e)}static isPrefixIriEndingWithGenDelim(e){return n.ENDS_WITH_GEN_DELIM.test(e)}static isPrefixValue(e){return e&&("string"===typeof e||e&&"object"===typeof e)}static isValidIri(e){return n.IRI_REGEX.test(e)}static isValidIriWeak(e){return!!e&&":"!==e[0]&&n.IRI_REGEX_WEAK.test(e)}static isValidKeyword(e){return n.VALID_KEYWORDS[e]}static isTermProtected(e,t){const r=e[t];return!("string"===typeof r)&&r&&r["@protected"]}static hasProtectedTerms(e){for(const t of Object.keys(e))if(n.isTermProtected(e,t))return!0;return!1}static isReservedInternalKeyword(e){return e.startsWith("@__")}}t.Util=n,n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,n.IRI_REGEX_WEAK=/(?::[^:])|\//,n.KEYWORD_REGEX=/^@[a-z]+$/i,n.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,n.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,n.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,n.VALID_KEYWORDS={"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},n.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],n.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],n.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],n.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],n.CONTAINERS_1_0=["@list","@set","@index"]},"5c0f":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.defaultGraphNode=t.defaultGraphURI=void 0;var a=n(r("606c")),i="chrome:theSession";t.defaultGraphURI=i;var s=new a.default(i);t.defaultGraphNode=s},"600b":function(e,t,r){"use strict";r.r(t),r.d(t,"AsyncIteratorHandler",(function(){return o})),r.d(t,"DataHandler",(function(){return u})),r.d(t,"DeleteFunctionHandler",(function(){return V})),r.d(t,"ExecuteQueryHandler",(function(){return q})),r.d(t,"InsertFunctionHandler",(function(){return B})),r.d(t,"JSONLDResolver",(function(){return X})),r.d(t,"MutationExpressionsHandler",(function(){return Q})),r.d(t,"MutationFunctionHandler",(function(){return M})),r.d(t,"PathExpressionHandler",(function(){return z})),r.d(t,"PathFactory",(function(){return Ie})),r.d(t,"PathProxy",(function(){return J})),r.d(t,"PredicateHandler",(function(){return te})),r.d(t,"PredicatesHandler",(function(){return re})),r.d(t,"PreloadHandler",(function(){return ie})),r.d(t,"PropertiesHandler",(function(){return oe})),r.d(t,"ReplaceFunctionHandler",(function(){return ue})),r.d(t,"SetFunctionHandler",(function(){return ce})),r.d(t,"SortHandler",(function(){return le})),r.d(t,"SparqlHandler",(function(){return he})),r.d(t,"StringToLDflexHandler",(function(){return ge})),r.d(t,"SubjectHandler",(function(){return be})),r.d(t,"SubjectsHandler",(function(){return we})),r.d(t,"ThenHandler",(function(){return Te})),r.d(t,"ToArrayHandler",(function(){return Ee})),r.d(t,"defaultHandlers",(function(){return Ne})),r.d(t,"getFirstItem",(function(){return i})),r.d(t,"getThen",(function(){return l})),r.d(t,"iteratorFor",(function(){return s})),r.d(t,"lazyThenable",(function(){return c})),r.d(t,"toIterablePromise",(function(){return f})),r.d(t,"isPlainObject",(function(){return k})),r.d(t,"hasPlainObjectArgs",(function(){return j})),r.d(t,"valueToTerm",(function(){return L})),r.d(t,"termToPrimitive",(function(){return U}));const n={};async function a(e){const t=[];for await(const r of e)t.push(r);return t}function i(e){const t=e[Symbol.asyncIterator]();return t.next().then(e=>e.value)}function s(e){return{async next(){if(e!==n){const t=await e;return e=n,{value:t}}return{done:!0}}}}class o{handle({subject:e},t){return e?()=>s(t.subject):()=>t.results[Symbol.asyncIterator]()}}class u{constructor(e,...t){this._isAsync=e.async,this._isFunction=e.function,this._dataProperties=t}static sync(...e){return new u({async:!1},...e)}static syncFunction(...e){return new u({async:!1,function:!0},...e)}static async(...e){return new u({async:!0},...e)}static asyncFunction(...e){return new u({async:!0,function:!0},...e)}handle(e){return this._isFunction?()=>this._resolveDataPath(e):this._resolveDataPath(e)}_resolveDataPath(e){return this._isAsync?this._resolveAsyncDataPath(e):this._resolveSyncDataPath(e)}_resolveSyncDataPath(e){for(const t of this._dataProperties)e=e&&e[t];return e}async _resolveAsyncDataPath(e){for(const t of this._dataProperties)e=e&&await e[t];return e}}function c(e){return{then:l(e)}}function l(e){return(t,r)=>e().then(t,r)}function f(e){return"function"===typeof e&&(e=d(e())),{[Symbol.asyncIterator](){return e[Symbol.asyncIterator]()},get then(){return l(()=>i(this))},catch(e){return this.then(null,e)},finally(e){return this.then().finally(e)}}}function d(e){const t=[];let r=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){let e=0;return{async next(){if(e<t.length)return t[e++];if(!r)return{done:!0};const n=t[e++]=r.next();return(await n).done&&(r=null),n}}}}}var p=r("9b92");const h="http://www.w3.org/2001/XMLSchema#",y=h+"boolean",v=h+"dateTime",m=h+"decimal",g=h+"double",b=h+"float",w=h+"integer",T=Object(p["namedNode"])(y),E=Object(p["namedNode"])(v),N=Object(p["namedNode"])(m),x=Object(p["namedNode"])(g),_=Object(p["namedNode"])(w),O=Object(p["literal"])("true",T),I=Object(p["literal"])("false",T),R=Object(p["literal"])("NaN",x),A=Object(p["literal"])("INF",x),C=Object(p["literal"])("-INF",x),S={NaN:NaN,INF:1/0,"-INF":-1/0};function D(e){return e&&"function"===typeof e[Symbol.asyncIterator]}function k(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)&&!(e instanceof Date)&&"function"!==typeof e.then&&"string"!==typeof e.termType&&!D(e)}function j(e,t=!1){const r=e.some(k);if(r&&!t&&1!==e.length)throw new Error(`Expected only 1 plain object, but got ${e.length} arguments`);return r}function F(e){return Array.isArray(e)?e:e?[e]:[]}function P(e){return[].concat(...e)}function L(e){switch(typeof e){case"string":return Object(p["literal"])(e);case"boolean":return e?O:I;case"number":return Number.isInteger(e)?Object(p["literal"])(e.toString(),_):Number.isFinite(e)?Object(p["literal"])(e.toString(),N):e===1/0?A:e===-1/0?C:R;default:if(e){if("string"===typeof e.termType)return e;if(e instanceof Date)return Object(p["literal"])(e.toISOString(),E)}}throw new Error("Invalid object: "+e)}function U(e){const{termType:t,value:r}=e;if("Literal"===t){const t=e.datatype.value;if(t.startsWith(h))switch(t){case y:return"true"===r||"1"===r;case w:return Number.parseInt(r,10);case m:return Number.parseFloat(r);case g:case b:return r in S?S[r]:Number.parseFloat(r);case v:return new Date(Date.parse(r));default:}}return r}class M{constructor(e,t){this._mutationType=e,this._allowZeroArgs=t}handle(e,t){return(...r)=>{if(!this._allowZeroArgs&&!r.length)throw new Error("Mutation cannot be invoked without arguments");const n=c(()=>this.createMutationExpressions(e,t,r));return e.extendPath({mutationExpressions:n})}}async createMutationExpressions(e,t,r){if(!j(r))return[await this.createMutationExpression(e,t,r)];const n=Object.entries(r[0]),a=await Promise.all(n.map(([r,n])=>this.createMutationExpression(e,t[r],F(n))));return[0===a.length?{}:{...a[0],predicateObjects:P(a.map(e=>e.predicateObjects))}]}async createMutationExpression(e,t,r){const n=await t.pathExpression;if(!Array.isArray(n))throw new Error(e+" has no pathExpression property");if(n.length<2)throw new Error(e+" should at least contain a subject and a predicate");const{predicate:a,reverse:i}=n[n.length-1];if(!a)throw new Error("Expected predicate in "+e);const s=await this.extractObjects(e,t,r);return null!==s&&0===s.length?{}:{mutationType:this._mutationType,conditions:n.slice(0,-1),predicateObjects:[{predicate:a,reverse:i,objects:s}]}}async extractObjects(e,t,r){if(0===r.length)return null;const n=[];for(const i of r)D(i)?n.push(...await a(i)):n.push(await i);return n.map(L)}}class V extends M{constructor(){super("DELETE",!0)}}class q{async*handle(e,t){const r=await e.resultsCache;if(r){for(const e of r)yield e;return}const{queryEngine:n}=e.settings;if(!n)throw new Error(e+" has no queryEngine setting");const a=await t.sparql;if(null===a||void 0===a)throw new Error(e+" has no sparql property");if(0!==a.length)for await(const i of n.execute(a))yield this.extractTerm(i,e)}extractTerm(e,t){if(1!==e.size)throw new Error("Only single-variable queries are supported");const r=e.values().next().value;return t.extendPath({subject:r},null)}}class B extends M{constructor(){super("INSERT",!1)}}var $=r("e6e5");class G{constructor(...e){this._context=Promise.resolve({}),this.extendContext(...e)}async extendContext(...e){await(this._context=this._context.then(({contextRaw:t})=>(new $["ContextParser"]).parse([t,...e])))}}class H{get _context(){return this._contextProvider._context}async extendContext(...e){await this._contextProvider.extendContext(...e)}constructor(e,...t){this._contextProvider=new G,e instanceof G?(this._contextProvider=e,this.extendContext(...t)):this.extendContext(e,...t)}supports(e){return"string"===typeof e}resolve(e,t){const r=c(()=>this.expandProperty(e)),n=c(()=>this._context.then(({contextRaw:t})=>t[e]&&t[e]["@reverse"])),a=this.getResultsCache(t,r,n),i={property:e,predicate:r,resultsCache:a,reverse:n,apply:this.apply};return t.extendPath(i)}apply(e,t,r){if(0===e.length){const{property:e}=t;throw new Error(`Specify at least one term when calling .${e}() on a path`)}return t.values=e.map(L),r}async expandProperty(e){return this.lookupProperty(e.replace(/^([a-z][a-z0-9]*)[_$]/i,"$1:"))}getResultsCache(e,t,r){let{propertyCache:n}=e;return n&&c(async()=>(n=!await r&&await n,n&&n[(await t).value]))}}class X extends H{async lookupProperty(e){const t=await this._context,r=t.expandTerm(e,!0);if(!$["Util"].isValidIri(r))throw new Error(`The JSON-LD context cannot expand the '${e}' property`);return Object(p["namedNode"])(r)}}class Q{async handle(e){const t=[];let r=e;while(r)r.mutationExpressions&&t.unshift(...await r.mutationExpressions),r=r.parent;return t}}class z{async handle(e){const t=[];let r=e;while(r.parent)r.predicate&&t.unshift({predicate:await r.predicate,reverse:await r.reverse,sort:r.sort,values:r.values}),r=r.parent;if(!r.subject)throw new Error("Expected root subject in "+r);const n=await r.subject;return t.unshift({subject:n}),t}}const W=Object.create(null);class J{constructor({handlers:e=W,resolvers:t=[]}={}){this._handlers=e,this._resolvers=t}createPath(e={},t){void 0===t&&([t,e]=[e,{}]);const{apply:r,...n}=t,a=r?Object.assign(s,n):n,i=new Proxy(a,this);function s(...e){return r(e,a,i)}if(a.proxy=i,a.settings=e,!a.extendPath){const t=this;a.extendPath=function r(n,a=this){return t.createPath(e,{parent:a,extendPath:r,...n})}}return i}get(e,t){const r=this._handlers[t];if(r&&"function"===typeof r.handle)return r.handle(e,e.proxy);for(const n of this._resolvers)if(n.supports(t))return n.resolve(t,e,e.proxy)}}var Y=r("2d54");function K(e){if("join"===e.type)return`${K(e.left)}/${K(e.right)}`;if("bgp"===e.type&&e.patterns.every(e=>"NamedNode"===e.predicate.termType)&&e.patterns.length>=0)return e.patterns.map(e=>`<${e.predicate.value}>`).join("/");if("path"===e.type){let t=Object(Y["toSparql"])({type:"project",input:e});return t=t.replace(/^SELECT WHERE \{ \?[0-9a-z]+ \(|\) \?[0-9a-z]+\. \}$/gi,""),t}throw new Error("Unhandled algebra "+e.type)}class Z extends H{supports(e){return super.supports(e)&&/((^|[/|])[\^])|(([a-z:>)])[*+?])|([)>*+?]|[a-z]*[:][a-z]*)[|/]([<(^]|[a-z]*[:][a-z]*)|(((^[(<])|([)>]$)))/i.test(e)}async lookupProperty(e){const t=await this._context,r={};for(const i in t.contextRaw)"string"===typeof t.contextRaw[i]&&(r[i]=t.contextRaw[i]);let n;try{n=Object(Y["translate"])(`SELECT ?s ?o WHERE { ?s ${e} ?o. }`,{prefixes:r})}catch(a){throw new Error(`The Complex Path Resolver cannot expand the '${e}' path`)}if("bgp"===n.input.type&&1===n.input.patterns.length&&"NamedNode"===n.input.patterns[0].predicate.termType)return Object(p["namedNode"])(n.input.patterns[0].predicate.value);try{return{termType:"path",value:K(n.input)}}catch(a){throw new Error(`The Complex Path Resolver cannot expand the '${e}' path`)}}}class ee{handle(e,t){return(...e)=>this.readProperties(t,1===e.length?e[0]:e,!0)}async readProperties(e,t,r=!1){if(D(t)&&(t=await a(t)),Array.isArray(t)){const r=t.map(t=>this.readProperties(e,t));return Promise.all(r)}if(k(t)){const r=Object.keys(t);t=r.map(e=>t[e]||e);const n={},a=await this.readProperties(e,t);for(let e=0;e<r.length;e++)n[r[e]]=a[e];return n}const n=e[t];return r?[n]:n}}class te{handle(e){const{predicate:t}=e;return t?Promise.resolve(t).then(t=>e.extendPath({subject:t},null)):void 0}}class re{handle(e){return e.extendPath({distinct:!0,select:"?predicate",finalClause:e=>e+" ?predicate ?object.",property:e.property})}}const ne=/(SELECT\s+)(\?\S+)/,ae=/\}[^}]*$/;class ie{handle(e,t){return async(...r)=>{if(r.length>0){const n=await Promise.all(r.map(async e=>(await t[e].predicate).value));e.resultsCache=await this.createResultsCache(n,e,t)}return t}}async createResultsCache(e,t,r){const{query:n,vars:a,resultVar:i}=await this.createQuery(e,r),{settings:{queryEngine:s}}=t,o=s.execute(n),u={},c={};for await(const l of o){const r=l.get(i),n=se(r);if(!(n in u)){const a=c[n]={};for(const t of e)a[t]=[];const i={subject:r,propertyCache:a};u[n]=t.extendPath(i,null)}const s=c[n];for(let i=0;i<a.length;i++){const r=l.get(a[i]);if(r){const n=t.extendPath({subject:r},null);s[e[i]].push(n)}}}return Object.values(u)}async createQuery(e,t){const r=await t.sparql,n=ne.exec(r);if(!n)throw new Error("Unexpected path query: "+r);const a=n[2],i=e.map((e,t)=>"?preload_"+t),s=e.map((e,t)=>`    { ${a} <${e}> ${i[t]}. }`).join("\n    UNION\n"),o=r.replace(ne,"$1$2 "+i.join(" ")).replace(ae,`  OPTIONAL {\n${s}\n  }\n$&`);return{query:o,vars:i,resultVar:a}}}function se(e){const{termType:t,value:r}=e;switch(t){case"NamedNode":return r;case"Literal":const{language:n,datatype:a}=e;return`${t}|${n}|${a.value}|${r}`;default:return`${t}|${r}`}}class oe{handle(e,t){return f(this._handle(e,t))}async*_handle(e,t){const r=await e.settings.parsedContext||{},n=new $["JsonLdContextNormalized"](r);for await(const a of t.predicates)yield n.compactIri(""+await a,!0)}}class ue{handle(e,t){return function(e,...r){if(!e||!r.length)throw new Error("Replacing values requires at least two arguments, old value followed by all new values");return t.delete(e).add(...r)}}}class ce extends M{handle(e,t){return(...e)=>{const r=j(e)?Object.keys(e[0]).reduce((e,t)=>e.delete({[t]:[]}),t):t.delete();return r.add(...e)}}}class le{constructor(e="ASC"){this.order=e}handle(e,t){return(...r)=>{if(0===r.length)return t;const[n,...a]=r,{predicate:i}=t[n],s={property:n,predicate:i,sort:this.order},o=e.extendPath(s);return 0===a.length?o:o.sort(...a)}}}const fe=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,de=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,pe={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class he{async handle(e,t){const r=await t.mutationExpressions;if(Array.isArray(r)&&r.length)return r.map(e=>this.mutationExpressionToQuery(e)).filter(Boolean).join("\n;\n");const n=await t.pathExpression;if(!Array.isArray(n))throw new Error(e+" has no pathExpression property");return this.pathExpressionToQuery(e,t,n)}pathExpressionToQuery(e,t,r){if(r.length<2&&!e.finalClause)throw new Error(e+" should at least contain a subject and a predicate");let n="?subject",a=[],i=[];r.length>1&&(n=this.createVar(e.property),({queryVar:n,sorts:a,clauses:i}=this.expressionToTriplePatterns(r,n))),e.finalClause&&i.push(e.finalClause(n));const s=e.distinct?"DISTINCT ":"",o=`SELECT ${s}${e.select?e.select:n}`,u=` WHERE {\n  ${i.join("\n  ")}\n}`,c=a.map(({order:e,variable:t})=>`${e}(${t})`),l=0===c.length?"":"\nORDER BY "+c.join(" ");return`${o}${u}${l}`}mutationExpressionToQuery({mutationType:e,conditions:t,predicateObjects:r}){if(!e||!t||r&&0===r.length)return"";const n={};let a,i;if(1===t.length)a=this.termToString(t[0].subject),i=[];else{const e=t[t.length-1].predicate;a=this.createVar(e.value,n),({queryVar:a,clauses:i}=this.expressionToTriplePatterns(t,a,n))}const s=[];for(const{predicate:u,reverse:c,objects:l}of r){const e=l?l.map(e=>this.termToString(e)):[this.createVar(u.value,n)];s.push(...this.triplePatterns(a,u,e,c))}const o=`{\n  ${s.join("\n  ")}\n}`;return 0===i.length?`${e} DATA ${o}`:`${e} ${o} WHERE {\n  ${i.join("\n  ")}\n}`}expressionToTriplePatterns([e,...t],r,n={}){const a=t.length-1,i=[],s=[];let o=this.termToString(me(e.subject)),u=o,c=!1;return t.forEach((e,t)=>{const l=o,{predicate:f,reverse:d,sort:p,values:h}=e;let y;if(h&&h.length>0){if(!c)throw new Error("Specifying fixed values is not allowed here");y=h.map(this.termToString),c=!1}else o=t<a?this.createVar("v"+t,n):r,y=[o],c=!0;i.push(...this.triplePatterns(l,f,y,d)),p?(s.push({variable:o,order:p}),o=u):u=o}),{queryVar:u,sorts:s,clauses:i}}createVar(e="",t){let r=0,n="?"+(e.match(/[a-z0-9]*$/i)[0]||"result");if(t){e=n;while(t[n])n=`${e}_${r++}`;t[n]=!0}return n}termToString(e){let{value:t}=e;switch(fe.test(t)&&(t=t.replace(de,ye)),e.termType){case"NamedNode":return`<${t}>`;case"BlankNode":return"_:"+t;case"Literal":let r="";return e.language?r="@"+e.language:"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value&&(r=`^^<${e.datatype.value}>`),`"${t}"${r}`;default:throw new Error("Could not convert a term of type "+e.termType)}}triplePatterns(e,t,r,n=!1){let a=[e];n&&([a,r]=[r,a]);const i=r.join(", "),s="path"===t.termType?t.value:`<${t.value}>`;return a.map(e=>`${e} ${s} ${i}.`)}}function ye(e){let t=pe[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}let ve=0;function me(e){return"BlankNode"!==e.termType?e:(e.skolemized||(e.skolemized=Object(p["namedNode"])("urn:ldflex:sk"+ve++)),e.skolemized)}class ge{handle(e,t){return(e="",r=t)=>{const n=e.replace(/^(https?:\/\/[^()[\]'"]+)$/,'["$1"]').replace(/^(?=[a-z$_])/i,".").replace(/\[([^'"`\](]*)\]/g,'["$1"]'),a='"use strict";return ldflex'+n;let i;try{i=Function("ldflex",a)}catch({message:s}){throw new Error(`Expression "${e}" is invalid: ${s}`)}return i(r)}}}class be{handle(e){let{subject:t,parent:r}=e;while(!t&&r)({subject:t,parent:r}=r);return t?Promise.resolve(t).then(t=>e.extendPath({subject:t},null)):void 0}}class we{handle(e){return e.extendPath({distinct:!0,select:"?subject",finalClause:()=>"?subject ?predicate ?object.",property:e.property})}}class Te{handle({subject:e},t){return e?e.then&&l(()=>t.subject):l(()=>i(t.results))}}class Ee{handle(e,t){return async e=>{const r=[];if(D(t)){"function"!==typeof e&&(e=e=>e);let n=0;for await(const a of t)r.push(await e(a,n++))}return r}}}var Ne={__esModule:()=>{},then:new Te,[Symbol.asyncIterator]:new o,get:new ee,subject:new be,predicate:new te,properties:new oe,predicates:new re,pathExpression:new z,sparql:new he,subjects:new we,results:new q,sort:new le("ASC"),sortDesc:new le("DESC"),preload:new ie,mutationExpressions:new Q,add:new B,set:new ce,replace:new ue,delete:new V,termType:_e("termType"),value:_e("value"),datatype:_e("datatype"),language:_e("language"),canonical:_e("canonical"),equals:u.sync("subject","equals"),toString:u.syncFunction("subject","value"),valueOf:Oe(),toPrimitive:Oe(),toArray:new Ee,termTypes:xe((e,t)=>t.toArray(e=>e.termType)),values:xe((e,t)=>t.toArray(e=>e.value)),datatypes:xe((e,t)=>t.toArray(e=>e.datatype)),languages:xe((e,t)=>t.toArray(e=>e.language)),resolve:new ge};function xe(e){return{handle:e}}function _e(e){return xe(({subject:t},r)=>t&&e in t?t[e]:r.then&&r.then(t=>null===t||void 0===t?void 0:t[e]))}function Oe(){return xe(({subject:e})=>()=>"string"!==typeof(null===e||void 0===e?void 0:e.termType)?void 0:U(e))}class Ie{constructor(e,t){this._settings=e={...e},this._data=t={...t};const r=e.handlers||Ne;for(const a in r)r[a]=Re(r[a]);for(const a of Object.getOwnPropertySymbols(r))r[a]=Re(r[a]);const n=(e.resolvers||[]).map(Ae);if(e.context){const t=new G(e.context);n.push(new Z(t)),n.push(new X(t)),e.parsedContext=(new $["ContextParser"]).parse(e.context).then(({contextRaw:e})=>e)}else e.context=e.parsedContext={};this._pathProxy=new J({handlers:r,resolvers:n}),delete e.handlers,delete e.resolvers}create(e={},t){return t||([t,e]=[e,null]),this._pathProxy.createPath(Object.assign(Object.create(null),this._settings,e),Object.assign(Object.create(null),this._data,t))}}function Re(e){return"function"===typeof e.handle?e:{handle:e}}function Ae(e){return"function"===typeof e.resolve?e:{supports:Ce,resolve:e}}function Ce(){return!0}Ie.defaultHandlers=Ne},"606c":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),s=n(r("3c96")),o=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),f=n(r("21b4")),d=n(r("33e3")),p=r("43f5"),h=r("073a"),y=r("ab32");function v(e){var t=m();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var g=function(e){(0,o.default)(r,e);var t=v(r);function r(e){var n;if((0,a.default)(this,r),n=t.call(this,(0,h.termValue)(e)),(0,l.default)((0,s.default)(n),"termType",p.NamedNodeTermType),(0,l.default)((0,s.default)(n),"classOrder",f.default.NamedNode),!n.value)throw new Error("Missing IRI for NamedNode");if(!n.value.includes(":"))throw new Error('NamedNode IRI "'+e+'" must be absolute.');if(n.value.includes(" ")){var i='Error: NamedNode IRI "'+e+'" must not contain unencoded spaces.';throw new Error(i)}return n}return(0,i.default)(r,[{key:"dir",value:function(){var e=this.value.split("#")[0],t=e.slice(0,-1).lastIndexOf("/"),n=e.indexOf("//");return n>=0&&t<n+2||t<0?null:new r(e.slice(0,t+1))}},{key:"site",value:function(){var e=this.value.split("#")[0],t=e.indexOf("//");if(t<0)throw new Error("This URI does not have a web site part (origin)");var n=e.indexOf("/",t+2);return new r(n<0?e.slice(0)+"/":e.slice(0,n+1))}},{key:"doc",value:function(){return this.value.indexOf("#")<0?this:new r(this.value.split("#")[0])}},{key:"toString",value:function(){return"<"+this.value+">"}},{key:"id",value:function(){return this.value.split("#")[1]}},{key:"uri",get:function(){return this.value},set:function(e){this.value=e}}],[{key:"fromValue",value:function(e){return"undefined"===typeof e||null===e||(0,y.isTerm)(e)?e:new r(e)}}]),r}(d.default);t.default=g},6655:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r("19f2")),a=s(r("f703")),i=s(r("f62b"));function s(e){return e&&e.__esModule?e:{default:e}}var o=new n.default({createQueryEngine:e=>new a.default(e,new i.default(e))});t.default=o},"68dd":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("8171");t.collectNamedTerms=n.collectNamedTerms,t.everyTerms=n.everyTerms,t.filterQuadTermNames=n.filterQuadTermNames,t.filterTerms=n.filterTerms,t.forEachTerms=n.forEachTerms,t.getNamedTerms=n.getNamedTerms,t.getTerms=n.getTerms,t.getTermsNested=n.getTermsNested,t.mapTerms=n.mapTerms,t.matchPattern=n.matchPattern,t.matchPatternComplete=n.matchPatternComplete,t.QUAD_TERM_NAMES=n.QUAD_TERM_NAMES,t.reduceTerms=n.reduceTerms,t.someTerms=n.someTerms,t.TRIPLE_TERM_NAMES=n.TRIPLE_TERM_NAMES;const a=r("ae15");t.getBlankNodes=a.getBlankNodes,t.getDefaultGraphs=a.getDefaultGraphs,t.getLiterals=a.getLiterals,t.getNamedNodes=a.getNamedNodes,t.getTermsOfType=a.getTermsOfType,t.getVariables=a.getVariables,t.TERM_TYPES=a.TERM_TYPES,t.uniqTerms=a.uniqTerms},"691a":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("9523")),i=n(r("c947")),s=n(r("902d")),o=n(r("f6d5"));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=c(c({},o.default),{},{fetcher:function(e,t){return new s.default(e,t)},graph:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return new i.default(e,t||{rdfFactory:o.default})},lit:function(e,t,r){return this.literal(""+e,t||r)},st:function(e,t,r,n){return this.quad(e,t,r,n)}}),f=l;t.default=f},"6b58":function(e,t,r){var n=r("7037")["default"],a=r("3c96");function i(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?a(e):t}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},"6dc9":function(e,t,r){"use strict";r.r(t),r.d(t,"v1",(function(){return y})),r.d(t,"v3",(function(){return j})),r.d(t,"v4",(function(){return P})),r.d(t,"v5",(function(){return B}));var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),a=new Uint8Array(16);function i(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}for(var s=[],o=0;o<256;++o)s[o]=(o+256).toString(16).substr(1);function u(e,t){var r=t||0,n=s;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}var c,l,f=u,d=0,p=0;function h(e,t,r){var n=t&&r||0,a=t||[];e=e||{};var s=e.node||c,o=void 0!==e.clockseq?e.clockseq:l;if(null==s||null==o){var u=e.random||(e.rng||i)();null==s&&(s=c=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==o&&(o=l=16383&(u[6]<<8|u[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:p+1,v=h-d+(y-p)/1e4;if(v<0&&void 0===e.clockseq&&(o=o+1&16383),(v<0||h>d)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=h,p=y,l=o,h+=122192928e5;var m=(1e4*(268435455&h)+y)%4294967296;a[n++]=m>>>24&255,a[n++]=m>>>16&255,a[n++]=m>>>8&255,a[n++]=255&m;var g=h/4294967296*1e4&268435455;a[n++]=g>>>8&255,a[n++]=255&g,a[n++]=g>>>24&15|16,a[n++]=g>>>16&255,a[n++]=o>>>8|128,a[n++]=255&o;for(var b=0;b<6;++b)a[n+b]=s[b];return t||f(a)}var y=h;function v(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}function m(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}var g="6ba7b810-9dad-11d1-80b4-00c04fd430c8",b="6ba7b811-9dad-11d1-80b4-00c04fd430c8",w=function(e,t,r){var n=function(e,n,a,i){var s=a&&i||0;if("string"==typeof e&&(e=m(e)),"string"==typeof n&&(n=v(n)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var o=r(n.concat(e));if(o[6]=15&o[6]|t,o[8]=63&o[8]|128,a)for(var u=0;u<16;++u)a[s+u]=o[u];return a||f(o)};try{n.name=e}catch(a){}return n.DNS=g,n.URL=b,n};function T(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return E(N(x(e),8*e.length))}function E(e){var t,r,n,a=[],i=32*e.length,s="0123456789abcdef";for(t=0;t<i;t+=8)r=e[t>>5]>>>t%32&255,n=parseInt(s.charAt(r>>>4&15)+s.charAt(15&r),16),a.push(n);return a}function N(e,t){var r,n,a,i,s;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var o=1732584193,u=-271733879,c=-1732584194,l=271733878;for(r=0;r<e.length;r+=16)n=o,a=u,i=c,s=l,o=R(o,u,c,l,e[r],7,-680876936),l=R(l,o,u,c,e[r+1],12,-389564586),c=R(c,l,o,u,e[r+2],17,606105819),u=R(u,c,l,o,e[r+3],22,-1044525330),o=R(o,u,c,l,e[r+4],7,-176418897),l=R(l,o,u,c,e[r+5],12,1200080426),c=R(c,l,o,u,e[r+6],17,-1473231341),u=R(u,c,l,o,e[r+7],22,-45705983),o=R(o,u,c,l,e[r+8],7,1770035416),l=R(l,o,u,c,e[r+9],12,-1958414417),c=R(c,l,o,u,e[r+10],17,-42063),u=R(u,c,l,o,e[r+11],22,-1990404162),o=R(o,u,c,l,e[r+12],7,1804603682),l=R(l,o,u,c,e[r+13],12,-40341101),c=R(c,l,o,u,e[r+14],17,-1502002290),u=R(u,c,l,o,e[r+15],22,1236535329),o=A(o,u,c,l,e[r+1],5,-165796510),l=A(l,o,u,c,e[r+6],9,-1069501632),c=A(c,l,o,u,e[r+11],14,643717713),u=A(u,c,l,o,e[r],20,-373897302),o=A(o,u,c,l,e[r+5],5,-701558691),l=A(l,o,u,c,e[r+10],9,38016083),c=A(c,l,o,u,e[r+15],14,-660478335),u=A(u,c,l,o,e[r+4],20,-405537848),o=A(o,u,c,l,e[r+9],5,568446438),l=A(l,o,u,c,e[r+14],9,-1019803690),c=A(c,l,o,u,e[r+3],14,-187363961),u=A(u,c,l,o,e[r+8],20,1163531501),o=A(o,u,c,l,e[r+13],5,-1444681467),l=A(l,o,u,c,e[r+2],9,-51403784),c=A(c,l,o,u,e[r+7],14,1735328473),u=A(u,c,l,o,e[r+12],20,-1926607734),o=C(o,u,c,l,e[r+5],4,-378558),l=C(l,o,u,c,e[r+8],11,-2022574463),c=C(c,l,o,u,e[r+11],16,1839030562),u=C(u,c,l,o,e[r+14],23,-35309556),o=C(o,u,c,l,e[r+1],4,-1530992060),l=C(l,o,u,c,e[r+4],11,1272893353),c=C(c,l,o,u,e[r+7],16,-155497632),u=C(u,c,l,o,e[r+10],23,-1094730640),o=C(o,u,c,l,e[r+13],4,681279174),l=C(l,o,u,c,e[r],11,-358537222),c=C(c,l,o,u,e[r+3],16,-722521979),u=C(u,c,l,o,e[r+6],23,76029189),o=C(o,u,c,l,e[r+9],4,-640364487),l=C(l,o,u,c,e[r+12],11,-421815835),c=C(c,l,o,u,e[r+15],16,530742520),u=C(u,c,l,o,e[r+2],23,-995338651),o=S(o,u,c,l,e[r],6,-198630844),l=S(l,o,u,c,e[r+7],10,1126891415),c=S(c,l,o,u,e[r+14],15,-1416354905),u=S(u,c,l,o,e[r+5],21,-57434055),o=S(o,u,c,l,e[r+12],6,1700485571),l=S(l,o,u,c,e[r+3],10,-1894986606),c=S(c,l,o,u,e[r+10],15,-1051523),u=S(u,c,l,o,e[r+1],21,-2054922799),o=S(o,u,c,l,e[r+8],6,1873313359),l=S(l,o,u,c,e[r+15],10,-30611744),c=S(c,l,o,u,e[r+6],15,-1560198380),u=S(u,c,l,o,e[r+13],21,1309151649),o=S(o,u,c,l,e[r+4],6,-145523070),l=S(l,o,u,c,e[r+11],10,-1120210379),c=S(c,l,o,u,e[r+2],15,718787259),u=S(u,c,l,o,e[r+9],21,-343485551),o=_(o,n),u=_(u,a),c=_(c,i),l=_(l,s);return[o,u,c,l]}function x(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e[t/8])<<t%32;return r}function _(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}function O(e,t){return e<<t|e>>>32-t}function I(e,t,r,n,a,i){return _(O(_(_(t,e),_(n,i)),a),r)}function R(e,t,r,n,a,i,s){return I(t&r|~t&n,e,t,a,i,s)}function A(e,t,r,n,a,i,s){return I(t&n|r&~n,e,t,a,i,s)}function C(e,t,r,n,a,i,s){return I(t^r^n,e,t,a,i,s)}function S(e,t,r,n,a,i,s){return I(r^(t|~n),e,t,a,i,s)}var D=T,k=w("v3",48,D),j=k;function F(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[n+s]=a[s];return t||f(a)}var P=F;function L(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function U(e,t){return e<<t|e>>>32-t}function M(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=new Array(n.length);for(var a=0;a<n.length;a++)e[a]=n.charCodeAt(a)}e.push(128);var i=e.length/4+2,s=Math.ceil(i/16),o=new Array(s);for(a=0;a<s;a++){o[a]=new Array(16);for(var u=0;u<16;u++)o[a][u]=e[64*a+4*u]<<24|e[64*a+4*u+1]<<16|e[64*a+4*u+2]<<8|e[64*a+4*u+3]}o[s-1][14]=8*(e.length-1)/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=8*(e.length-1)&4294967295;for(a=0;a<s;a++){for(var c=new Array(80),l=0;l<16;l++)c[l]=o[a][l];for(l=16;l<80;l++)c[l]=U(c[l-3]^c[l-8]^c[l-14]^c[l-16],1);var f=r[0],d=r[1],p=r[2],h=r[3],y=r[4];for(l=0;l<80;l++){var v=Math.floor(l/20),m=U(f,5)+L(v,d,p,h)+y+t[v]+c[l]>>>0;y=h,h=p,p=U(d,30)>>>0,d=f,f=m}r[0]=r[0]+f>>>0,r[1]=r[1]+d>>>0,r[2]=r[2]+p>>>0,r[3]=r[3]+h>>>0,r[4]=r[4]+y>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}var V=M,q=w("v5",80,V),B=q},7037:function(e,t,r){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),n(t)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},7096:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0;class n{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}t.BlankNode=n},7274:function(e,t){(function(e){(function(t){var r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(e){return e&&DataView.prototype.isPrototypeOf(e)}if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!==typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function d(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function p(e){var t=new FileReader,r=f(t);return t.readAsText(e),r}function h(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:r.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():r.arrayBuffer&&r.blob&&n(e)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(h(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=s(e),t=o(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype["delete"]=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=o(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),u(e)},c.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},c.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),u(e)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}function b(e,t){t=t||{};var r=t.body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=g(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),a=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(a))}})),t}function T(e){var t=new c,r=e.replace(/\r?\n[\t ]+/g," ");return r.split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var a=r.join(":").trim();t.append(n,a)}})),t}function E(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e};var N=[301,302,303,307,308];E.redirect=function(e,t){if(-1===N.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(_){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function x(e,n){return new Promise((function(a,i){var s=new b(e,n);if(s.signal&&s.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function u(){o.abort()}o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:T(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;a(new E(t,e))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},o.open(s.method,s.url,!0),"include"===s.credentials?o.withCredentials=!0:"omit"===s.credentials&&(o.withCredentials=!1),"responseType"in o&&r.blob&&(o.responseType="blob"),s.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",u),o.onreadystatechange=function(){4===o.readyState&&s.signal.removeEventListener("abort",u)}),o.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}x.polyfill=!0,e.fetch||(e.fetch=x,e.Headers=c,e.Request=b,e.Response=E),t.Headers=c,t.Request=b,t.Response=E,t.fetch=x})({})})("undefined"!==typeof self?self:this)},"730c":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(r("3c962"));function i(e){var t=0;function r(e){for(var t=u()+"SELECT ",r=0;r<e.vars.length;r++)t+=e.vars[r]+" ";return t+="\n",t}function n(e){var t="",r=e.statements;for(var n in r)a.default.debug("Found statement: "+r),t+=u()+r[n]+"\n";return t}function i(e){var t="";for(var r in e.constraints){var n=e.constraints[r];t+=u()+"FILTER ( "+n.describe(r)+" ) \n"}return t}function s(e){for(var r="",o=0;o<e.optional.length;o++)a.default.debug("Found optional query"),r+=u()+"OPTIONAL { \n",t++,r+=n(e.optional[o]),r+=i(e.optional[o]),r+=s(e.optional[o]),t--,r+=u()+"}\n";return r}function o(e){var r=u()+"WHERE \n{ \n";return t++,r+=n(e),r+=i(e),r+=s(e),t--,r+="}",r}function u(){for(var e="",r=0;r<t;r++)e+="    ";return e}function c(e){return r(e)+o(e.pat)}return c(e)}},7971:function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(r("606c")),a(r("43f6"));var i=n(r("3897")),s=n(r("4b68")),o=a(r("8fd3")),u=r("8764"),c=function(){var e=function(e){this.flags="",this.base=null,this.prefixes=[],this.namespaces=[],this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=e,this.rdfFactory=e.rdfFactory||o.default,this.xsd=(0,u.createXSD)(this.rdfFactory)};function t(e){return encodeURI(e)}function r(e){for(var t,r="",n=0;n<e.length;n++)t=e.charCodeAt(n),r+=t>65535?"\\U"+("00000000"+t.toString(16)).slice(-8):t>126?"\\u"+("0000"+t.toString(16)).slice(-4):e[n];return r}e.prototype.setBase=function(e){return this.base=e,this},e.prototype.setFlags=function(e){return this.flags=e||"",this},e.prototype.toStr=function(e){var t=e.toNT();return"Graph"===e.termType&&(this.formulas[t]=e),t},e.prototype.fromStr=function(e){if("{"===e[0]){var t=this.formulas[e];return t||console.log("No formula object for "+e),t}return this.store.fromNT(e)},e.prototype.suggestPrefix=function(e,t){"default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&t&&(e in this.namespaces||t in this.prefixes||(this.prefixes[t]=e,this.namespaces[e]=t))},e.prototype.suggestNamespaces=function(e){for(var t in e)this.suggestPrefix(t,e[t]);return this},e.prototype.checkIntegrity=function(){var e,t;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw new Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(t in this.prefixes)if(this.namespaces[this.prefixes[t]]!==t)throw new Error("Serializer integity error 2: "+t+", "+this.prefixs[t]+", "+this.namespaces[this.prefixes[t]]+"!")},e.prototype.makeUpPrefix=function(t){var r=t;function n(r){return!!e.prototype.validPrefix.test(r)&&("ns"!==r&&(!(r in this.namespaces)&&(this.prefixes[t]=r,this.namespaces[r]=t,r)))}var a=n.bind(this);"#/".indexOf(r[r.length-1])>=0&&(r=r.slice(0,-1));var i=r.lastIndexOf("/");i>=0&&(r=r.slice(i+1));var s=0;while(s<r.length){if(!this.prefixchars.indexOf(r[s]))break;s++}if(r=r.slice(0,s),r.length<6&&a(r))return r;if(a(r.slice(0,3)))return r.slice(0,3);if(a(r.slice(0,2)))return r.slice(0,2);if(a(r.slice(0,4)))return r.slice(0,4);if(a(r.slice(0,1)))return r.slice(0,1);if(a(r.slice(0,5)))return r.slice(0,5);e.prototype.validPrefix.test(r)||(r="n");for(var o=0;;o++)if(a(r.slice(0,3)+o))return r.slice(0,3)+o},e.prototype.rootSubjects=function(e){for(var t={},r={},n={},a=0;a<e.length;a++){var i=e[a],s=function(e){t.hasOwnProperty(e)||(t[e]=[]),t[e].push(i.subject)},o=[i.subject,i.predicate,i.object];o.map((function(e){"BlankNode"===e.termType?n[e.toNT()]=!0:"Collection"===e.termType&&e.elements.forEach((function(e){s(e)}))})),s(e[a].object);var u=r[this.toStr(i.subject)];u||(u=[]),u.push(i),r[this.toStr(i.subject)]=u}var c=[];for(var l in r)if(r.hasOwnProperty(l)){var f=this.fromStr(l);"BlankNode"===f.termType&&t[f]&&1===t[f].length||c.push(f)}this.incoming=t;for(var d={},p=0;p<c.length;p++)d[c[p].toNT()]=!0;return{roots:c,subjects:r,rootsHash:d,incoming:t}},e.prototype.toN3=function(e){return this.statementsToN3(e.statements)},e.prototype._notQNameChars="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",e.prototype._notNameChars=e.prototype._notQNameChars+":",e.prototype.explicitURI=function(e){return e=this.flags.indexOf("r")<0&&this.base?i.refTo(this.base,e):this.flags.indexOf("u")>=0?r(e):t(e),"<"+e+">"},e.prototype.statementsToNTriples=function(e){var t=e.slice();t.sort();for(var r="",n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",a=this,i=this.store,s=this.rdfFactory,o=function e(t){if("Collection"!==t.termType)return a.atomicTermToN3(t);for(var o=t.elements,u=i.sym(n+"nill"),c=o.length-1;c>=0;c--){var l=s.blankNode();r+=e(l)+" "+e(i.sym(n+"first"))+" "+e(o[c])+".\n",r+=e(l)+" "+e(i.sym(n+"rest"))+" "+e(u)+".\n",u=l}return a.atomicTermToN3(u)},u=0;u<t.length;u++){var c=t[u],l="";l+=o(c.subject)+" ",l+=o(c.predicate)+" ",l+=o(c.object)+" ",this.flags.indexOf("q")>=0&&(l+=o(c.why)+" "),l+=".\n",r+=l}return r},e.prototype.statementsToN3=function(t){var r=4,n=80,a=this.store,i={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"},o=function(e,t){return s.heavyCompareSPO(e,t,a,i)};t.sort(o),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var u={};this.flags.indexOf("s")<0&&(u["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(u["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(u["http://www.w3.org/2000/10/swap/log#implies"]="=>");var c=function(e){for(var t="",r=0;r<e;r++)t+=" ";return t},l=function e(t){for(var r="",n=0;n<t.length;n++){var a=t[n],i="string"===typeof a?a:e(a);if(0!==n){var s=r.slice(-1)||" ";","===i||";"===i||("."!==i||"0123456789.".includes(s))&&(r+=" ")}r+=i}return r},f=function e(t,a){var i="",s=1e5;void 0===a&&(a=-1);for(var o=0;o<t.length;o++){var u=t[o];if("string"!==typeof u){var f=e(u,a+1);if(f.length<10*(n-r*a)&&f.indexOf('"""')<0){var d=l(u);d.length<n-r*a&&(u=d,f="")}f&&(s=1e4),i+=f}if("string"===typeof u){if(1===u.length&&"\n"===i.slice(-1)&&",.;".indexOf(u)>=0){i=i.slice(0,-1)+u+"\n",s+=1;continue}if(s<r*a+4||s+u.length+1<n&&";.".indexOf(i[i.length-2])<0)i=i.slice(0,-1)+" "+u+"\n",s+=u.length+1;else{var p=c(r*a)+u;i+=p+"\n",s=p.length,a<0&&(i+="\n",s=1e5)}}}return i};function d(e){for(var t=this.rootSubjects(e),r=t.roots,n=[],a=0;a<r.length;a++){var i=r[a];n.push(h(i,t))}return n}var p=d.bind(this);function h(e,t){return"BlankNode"!==e.termType||t.incoming[e]?[w(e,t)].concat([v(e,t)]).concat(["."]):g(e,t,!0).concat(["."])}function y(e,t){var r=[],n=null,a=t.subjects[this.toStr(e)]||[];if("undefined"===typeof a)throw new Error("Cant find statements for "+e);for(var i=[],s=0;s<a.length;s++){var o=a[s];o.predicate.uri===n?i.push(","):(n&&(r=r.concat([i]).concat([";"]),i=[]),r.push(u[o.predicate.uri]?u[o.predicate.uri]:w(o.predicate,t))),n=o.predicate.uri,i.push(g(o.object,t))}return r=r.concat([i]),r}var v=y.bind(this);function m(e,t,r){return"BlankNode"!==e.termType||!r&&void 0!==t.rootsHash[e.toNT()]?w(e,t):t.subjects[this.toStr(e)]?["[",v(e,t),"]"]:"[]"}var g=m.bind(this);function b(e,t){var r,n;switch(e.termType){case"Graph":return n=["{"],n=n.concat(p(e.statements)),n.concat(["}"]);case"Collection":for(n=["("],r=0;r<e.elements.length;r++)n.push([g(e.elements[r],t)]);return n.push(")"),n;default:return this.atomicTermToN3(e)}}e.prototype.termToN3=w;var w=b.bind(this);function T(){var e="";for(var t in this.defaultNamespace&&(e+="@prefix : "+this.explicitURI(this.defaultNamespace)+".\n"),this.prefixes)this.prefixes.hasOwnProperty(t)&&this.namespacesUsed[t]&&(e+="@prefix "+this.prefixes[t]+": "+this.explicitURI(t)+".\n");return e+"\n"}var E=T.bind(this),N=p(t);return E()+f(N)},e.prototype.atomicTermToN3=function(e,t){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var r=e.value;if("string"!==typeof r)throw new TypeError("Value of RDF literal node must be a string");if(e.datatype&&this.flags.indexOf("x")<0)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return r;case"http://www.w3.org/2001/XMLSchema#decimal":return r.indexOf(".")<0&&(r+=".0"),r;case"http://www.w3.org/2001/XMLSchema#double":return r.indexOf(".")<0&&(r+=".0"),r.indexOf("e")<0&&(r+="e0"),r;case"http://www.w3.org/2001/XMLSchema#boolean":return"1"===e.value?"true":"false"}var n=this.stringToN3(e.value);return e.language?n+="@"+e.language:e.datatype.equals(this.xsd.string)||(n+="^^"+this.atomicTermToN3(e.datatype,t)),n;case"NamedNode":return this.symbolToN3(e);default:throw new Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}},e.prototype.validPrefix=new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/),e.prototype.forbidden1=new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm),e.prototype.forbidden3=new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm),e.prototype.stringToN3=function(t,r){r||(r="e");var n,a,i,s,o,u="";for(t.length>20&&'"'!==t.slice(-1)&&r.indexOf("n")<0&&(t.indexOf("\n")>0||t.indexOf('"')>0)?(s='"""',o=e.prototype.forbidden3):(s='"',o=e.prototype.forbidden1),n=0;n<t.length;){o.lastIndex=0;var c=o.exec(t.slice(n));if(null==c)break;a=n+o.lastIndex-1,u+=t.slice(n,a);var l=t[a];'"'===l&&'"""'===s&&'"""'!==t.slice(a,a+3)?u+=l:(i='\b\f\r\t\v\n\\"'.indexOf(l),i>=0?u+="\\"+'bfrtvn\\"'[i]:r.indexOf("e")>=0?u+="\\u"+("000"+l.charCodeAt(0).toString(16).toLowerCase()).slice(-4):u+=l),n=a+1}return s+u+t.slice(n)+s},e.prototype.symbolToN3=function(t){var r=t.uri,n=r.indexOf("#");if(n<0&&this.flags.indexOf("/")<0&&(n=r.lastIndexOf("/")),n>=0&&this.flags.indexOf("p")<0&&(0===r.indexOf("http")||0===r.indexOf("ws")||0===r.indexOf("file"))){for(var a=!0,i=n+1;i<r.length;i++)if(e.prototype._notNameChars.indexOf(r[i])>=0){a=!1;break}if(a){var s=r.slice(n+1),o=r.slice(0,n+1);if(this.defaultNamespace&&this.defaultNamespace===o&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(s)<0?s:":"+s;var u=this.prefixes[o];if(u||(u=this.makeUpPrefix(o)),u)return this.namespacesUsed[o]=!0,u+":"+s}}return this.explicitURI(r)},e.prototype.writeStore=function(e){var t=this.store,r=t.fetcher,n=r&&r.appNode,a=this.store.index[3];for(var i in a){var s=t.fromNT(i);n&&s.equals(n)||e("\n"+this.atomicTermToN3(s)+" "+this.atomicTermToN3(t.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(t.statementsMatching(void 0,void 0,void 0,s))+" }.\n")}t.statementsMatching(void 0,t.sym("http://www.w3.org/2007/ont/link#requestedURI")).map((function(r){e("\n<"+r.object.value+"> log:metadata {\n");var n=t.statementsMatching(void 0,void 0,void 0,r.subject);e(this.statementsToN3(this.statementsToN3(n))),e("}.\n")}));var o=[];n&&o.push(n);var u=[];o.map((function(e){u=u.concat(t.statementsMatching(void 0,void 0,void 0,e))})),e(this.statementsToN3(u))},e.prototype.statementsToXML=function(t){var r=4,n=80,a=[];a["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var i="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",o=function(e){for(var t="",r=0;r<e;r++)t+=" ";return t},u=function e(t){for(var r="",n=0;n<t.length;n++){var a=t[n],i="string"===typeof a?a:e(a);r+=i}return r},c=function e(t,a){var i,s="",c=1e5;a||(a=0);for(var l=0;l<t.length;l++){var f=t[l];if("string"!==typeof f){var d=e(f,a+1);d.length<10*(n-r*a)&&d.indexOf('"""')<0&&(i=u(f),i.length<n-r*a&&(f="   "+i,d="")),d&&(c=1e4),s+=d}"string"===typeof f&&(c<r*a+4?(s=s.slice(0,-1)+" "+f+"\n",c+=f.length+1):(i=o(r*a)+f,s+=i+"\n",c=i.length))}return s};function l(e){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var t=this.rootSubjects(e),r=t.roots,n=[],a=0;a<r.length;a++){var i=r[a];n.push(v(i,t))}return n}var f=l.bind(this);function d(e){return"undefined"===typeof e?"@@@undefined@@@@":e.replace(/[&<"]/g,(function(e){switch(e[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}}))}function p(e){return d(this.base?s.uri.refTo(this.base,e.uri):e.uri)}var h=p.bind(this);function y(e,t){var r,n,a,s,o=[],u=t.subjects[this.toStr(e)];if("undefined"===typeof u)return b(e,t);u.sort((function(e,t){var r=e.predicate.uri,n=t.predicate.uri;if(r.substring(0,i.length)===i||n.substring(0,i.length)===i)return r.localeCompare(n);var a=r.substring(i.length),s=n.substring(i.length),o=parseInt(a,10),u=parseInt(s,10);return isNaN(o)||isNaN(u)||o!==a||u!==s?r.localeCompare(n):o-u}));for(var c=0;c<u.length;c++)if(a=u[c],"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==a.predicate.uri||r||"symbol"!==a.object.termType){if(s=a.predicate,s.uri.substr(0,i.length)===i){var l=s.uri.substr(i.length),f=parseInt(l,10);l===f.toString()&&(s=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(n=T(s),a.object.termType){case"BlankNode":o=1===t.incoming[a.object].length?o.concat(["<"+n+' rdf:parseType="Resource">',v(a.object,t),"</"+n+">"]):o.concat(["<"+n+' rdf:nodeID="'+a.object.toNT().slice(2)+'"/>']);break;case"NamedNode":o=o.concat(["<"+n+' rdf:resource="'+h(a.object)+'"/>']);break;case"Literal":o=o.concat(["<"+n+(a.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+d(a.object.datatype.uri)+'"')+(a.object.language?' xml:lang="'+a.object.language+'"':"")+">"+d(a.object.value)+"</"+n+">"]);break;case"Collection":o=o.concat(["<"+n+' rdf:parseType="Collection">',m(a.object,t),"</"+n+">"]);break;default:throw new Error("Can't serialize object of type "+a.object.termType+" into XML")}}else r=a.object;var p=r?T(r):"rdf:Description",y="";return"BlankNode"===e.termType?t.incoming[e]&&1===t.incoming[e].length||(y=' rdf:nodeID="'+e.toNT().slice(2)+'"'):y=' rdf:about="'+h(e)+'"',["<"+p+y+">"].concat([o]).concat(["</"+p+">"])}var v=y.bind(this);function m(e,t){for(var r=[],n=0;n<e.elements.length;n++)r.push(v(e.elements[n],t));return r}function g(e,t){var r=[],n=t.subjects[this.toStr(e)];if(!n)return r;n.sort();for(var a=0;a<n.length;a++){var i=n[a];switch(i.object.termType){case"BlankNode":r=t.rootsHash[i.object.toNT()]?r.concat(["<"+T(i.predicate)+' rdf:nodeID="'+i.object.toNT().slice(2)+'">',"</"+T(i.predicate)+">"]):r.concat(["<"+T(i.predicate)+' rdf:parseType="Resource">',b(i.object,t),"</"+T(i.predicate)+">"]);break;case"NamedNode":r=r.concat(["<"+T(i.predicate)+' rdf:resource="'+h(i.object)+'"/>']);break;case"Literal":r=r.concat(["<"+T(i.predicate)+(i.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+d(i.object.datatype.value)+'"')+(i.object.language?' xml:lang="'+i.object.language+'"':"")+">"+d(i.object.value)+"</"+T(i.predicate)+">"]);break;case"Collection":r=r.concat(["<"+T(i.predicate)+' rdf:parseType="Collection">',m(i.object,t),"</"+T(i.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+i.object.termType+" into XML")}}return r}var b=g.bind(this);function w(t){var r=t.uri,n=r.indexOf("#");if(n<0&&this.flags.indexOf("/")<0&&(n=r.lastIndexOf("/")),n<0)throw new Error("Cannot make qname out of <"+r+">");for(var i=n+1;i<r.length;i++)if(e.prototype._notNameChars.indexOf(r[i])>=0)throw new Error('Invalid character "'+r[i]+'" cannot be in XML qname for URI: '+r);var s=r.slice(n+1),o=r.slice(0,n+1);if(this.defaultNamespace&&this.defaultNamespace===o&&this.flags.indexOf("d")<0)return s;var u=this.prefixes[o];return u||(u=this.makeUpPrefix(o)),a[o]=!0,u+":"+s}var T=w.bind(this),E=f(t),N="<rdf:RDF";for(var x in this.defaultNamespace&&(N+=' xmlns="'+d(this.defaultNamespace)+'"'),a)if(a.hasOwnProperty(x)){var _=this.base&&this.flags.includes("z")?s.uri.refTo(this.base,x):x;N+="\n xmlns:"+this.prefixes[x]+'="'+d(_)+'"'}N+=">";var O=[N,E,"</rdf:RDF>"];return c(O,-1)};var n=function(t){return new e(t)};return n}();t.default=c},8026:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0;class n{constructor(e,t,r,n){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}t.Quad=n},8171:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("c513"),a=new n.DataFactory;function i(e,t){return t&&"DefaultGraph"===e.graph.termType?[e.subject,e.predicate,e.object]:[e.subject,e.predicate,e.object,e.graph]}function s(e,t){const r=[];for(const n of i(e,t))"Quad"===n.termType?s(n,t).forEach(e=>r.push(e)):r.push(n);return r}function o(e){return[{key:"subject",value:e.subject},{key:"predicate",value:e.predicate},{key:"object",value:e.object},{key:"graph",value:e.graph}]}function u(e,t,r){const n={};return e.forEach(e=>n[e.key]=e.value),t&&(n.subject=n.subject||t("subject"),n.predicate=n.predicate||t("predicate"),n.object=n.object||t("object"),n.graph=n.graph||t("graph")),(r||a).quad(n.subject,n.predicate,n.object,n.graph)}function c(e,t){t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph")}function l(e,t){const r=[];return t(e.subject,"subject")&&r.push(e.subject),t(e.predicate,"predicate")&&r.push(e.predicate),t(e.object,"object")&&r.push(e.object),t(e.graph,"graph")&&r.push(e.graph),r}function f(e,t){const r=[];return t(e.subject,"subject")&&r.push("subject"),t(e.predicate,"predicate")&&r.push("predicate"),t(e.object,"object")&&r.push("object"),t(e.graph,"graph")&&r.push("graph"),r}function d(e,t,r){return(r||a).quad(t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph"))}function p(e,t,r){let n=r;return n=t(n,e.subject,"subject"),n=t(n,e.predicate,"predicate"),n=t(n,e.object,"object"),t(n,e.graph,"graph")}function h(e,t){return t(e.subject,"subject")&&t(e.predicate,"predicate")&&t(e.object,"object")&&t(e.graph,"graph")}function y(e,t){return t(e.subject,"subject")||t(e.predicate,"predicate")||t(e.object,"object")||t(e.graph,"graph")}function v(e,t){return!t||"Variable"===t.termType||"Quad"===t.termType&&"Quad"===e.termType&&g(e,t)||t.equals(e)}function m(e,t,r,n,a){return v(e.subject,t)&&v(e.predicate,r)&&v(e.object,n)&&v(e.graph,a)}function g(e,t){return m(e,t.subject,t.predicate,t.object,t.graph)}t.QUAD_TERM_NAMES=["subject","predicate","object","graph"],t.TRIPLE_TERM_NAMES=["subject","predicate","object"],t.getTerms=i,t.getTermsNested=s,t.getNamedTerms=o,t.collectNamedTerms=u,t.forEachTerms=c,t.filterTerms=l,t.filterQuadTermNames=f,t.mapTerms=d,t.reduceTerms=p,t.everyTerms=h,t.someTerms=y,t.matchTerm=v,t.matchPattern=m,t.matchPatternComplete=g},"851f":function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0});var i={term:!0,NextId:!0,fromNT:!0,fetcher:!0,graph:!0,lit:!0,st:!0,sym:!0,namedNode:!0,blankNode:!0,defaultGraph:!0,literal:!0,quad:!0,triple:!0,variable:!0,BlankNode:!0,Collection:!0,convert:!0,Empty:!0,Fetcher:!0,Formula:!0,Store:!0,IndexedFormula:!0,jsonParser:!0,Literal:!0,log:!0,N3Parser:!0,NamedNode:!0,Namespace:!0,Node:!0,parse:!0,Query:!0,queryToSPARQL:!0,RDFaProcessor:!0,RDFParser:!0,serialize:!0,Serializer:!0,SPARQLToQuery:!0,sparqlUpdateParser:!0,Statement:!0,UpdateManager:!0,UpdatesSocket:!0,UpdatesVia:!0,uri:!0,Util:!0,Variable:!0,DataFactory:!0,termValue:!0};Object.defineProperty(t,"BlankNode",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Collection",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Empty",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Fetcher",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Formula",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Store",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"IndexedFormula",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"jsonParser",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"Literal",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"N3Parser",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"NamedNode",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"Namespace",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return T.Query}}),Object.defineProperty(t,"queryToSPARQL",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"RDFaProcessor",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"RDFParser",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"serialize",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"Serializer",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"SPARQLToQuery",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"sparqlUpdateParser",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"Statement",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"UpdateManager",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"UpdatesSocket",{enumerable:!0,get:function(){return S.UpdatesSocket}}),Object.defineProperty(t,"UpdatesVia",{enumerable:!0,get:function(){return S.UpdatesVia}}),Object.defineProperty(t,"Variable",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"DataFactory",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(t,"termValue",{enumerable:!0,get:function(){return L.termValue}}),t.Util=t.uri=t.convert=t.variable=t.triple=t.quad=t.literal=t.defaultGraph=t.blankNode=t.namedNode=t.sym=t.st=t.lit=t.graph=t.fetcher=t.fromNT=t.NextId=t.term=void 0;var s=a(r("43f6")),o=a(r("b1e9")),u=n(r("cc85"));t.convert=u;var c=a(r("b7d2")),l=a(r("902d")),f=a(r("f7ae")),d=a(r("c947")),p=a(r("fd4e")),h=a(r("085a")),y=a(r("3c962")),v=a(r("dfa6")),m=a(r("606c")),g=a(r("491a")),b=a(r("5125")),w=a(r("0d60")),T=r("b19c"),E=a(r("730c")),N=a(r("f51a")),x=a(r("c2f2")),_=a(r("b80f")),O=a(r("7971")),I=a(r("234b")),R=a(r("15a8")),A=a(r("c749")),C=a(r("e40c")),S=r("2321"),D=n(r("3897"));t.uri=D;var k=n(r("4b68"));t.Util=k;var j=a(r("089a")),F=a(r("691a")),P=r("ab32");Object.keys(P).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===P[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return P[e]}}))}));var L=r("073a"),U={};for(var M in F.default)"function"===typeof F.default[M]&&(U[M]=F.default[M].bind(F.default));var V=U.fetcher,q=U.graph,B=U.lit,$=U.st,G=U.namedNode,H=U.variable,X=U.blankNode,Q=U.defaultGraph,z=U.literal,W=U.quad,J=U.triple;t.triple=J,t.quad=W,t.literal=z,t.defaultGraph=Q,t.blankNode=X,t.variable=H,t.namedNode=t.sym=G,t.st=$,t.lit=B,t.graph=q,t.fetcher=V;var Y=new f.default,K=function(e){return Y.fromNT(e)};t.fromNT=K;var Z=b.default.fromValue;t.term=Z;var ee=s.default.nextId;t.NextId=ee},8764:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.createXSD=s,t.default=void 0;var a=n(r("970b")),i=n(r("8fd3"));function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default,t=function e(){(0,a.default)(this,e)};return t.boolean=e.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),t.dateTime=e.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),t.decimal=e.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),t.double=e.namedNode("http://www.w3.org/2001/XMLSchema#double"),t.integer=e.namedNode("http://www.w3.org/2001/XMLSchema#integer"),t.langString=e.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.string=e.namedNode("http://www.w3.org/2001/XMLSchema#string"),t}var o=s(i.default),u=o;t.default=u},"8be9":function(e,t){var r="http://www.w3.org/2001/XMLSchema#integer",n="http://www.w3.org/2001/XMLSchema#string";function a(e){this._options=e=e||{};var t=e.prefixes||{};this._prefixByIri={};var r=[];for(var n in t){var a=t[n];c(a)&&(this._prefixByIri[a]=n,r.push(a))}var i=r.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+i+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=e.sparqlStar,this._indent=c(e.indent)?e.indent:"  ",this._newline=c(e.newline)?e.newline:"\n",this._explicitDatatype=Boolean(e.explicitDatatype)}a.prototype.toQuery=function(e){var t="";return e.queryType&&(t+=e.queryType.toUpperCase()+" "),e.reduced&&(t+="REDUCED "),e.distinct&&(t+="DISTINCT "),e.variables?t+=d(e.variables,void 0,(function(e){return l(e)?this.toEntity(e):"("+this.toExpression(e.expression)+" AS "+u(e.variable)+")"}),this)+" ":e.template&&(t+=this.group(e.template,!0)+this._newline),e.from&&(t+=this.graphs("FROM ",e.from.default)+this.graphs("FROM NAMED ",e.from.named)),e.where&&(t+="WHERE "+this.group(e.where,!0)+this._newline),e.updates&&(t+=d(e.updates,";"+this._newline,this.toUpdate,this)),e.group&&(t+="GROUP BY "+d(e.group,void 0,(function(e){var t=c(e.expression)?e.expression:"("+this.toExpression(e.expression)+")";return e.variable?"("+t+" AS "+u(e.variable)+")":t}),this)+this._newline),e.having&&(t+="HAVING ("+d(e.having,void 0,this.toExpression,this)+")"+this._newline),e.order&&(t+="ORDER BY "+d(e.order,void 0,(function(e){var t="("+this.toExpression(e.expression)+")";return e.descending?"DESC "+t:t}),this)+this._newline),e.offset&&(t+="OFFSET "+e.offset+this._newline),e.limit&&(t+="LIMIT "+e.limit+this._newline),e.values&&(t+=this.values(e)),t=this.baseAndPrefixes(e)+t,t.trim()},a.prototype.baseAndPrefixes=function(e){var t=e.base?"BASE <"+e.base+">"+this._newline:"",r="";for(var n in e.prefixes)(this._options.allPrefixes||this._usedPrefixes[n])&&(r+="PREFIX "+n+": <"+e.prefixes[n]+">"+this._newline);return t+r},a.prototype.toPattern=function(e){var t=e.type||e instanceof Array&&"array"||(e.subject&&e.predicate&&e.object?"triple":"");if(!(t in this))throw new Error("Unknown entry type: "+t);return this[t](e)},a.prototype.triple=function(e){return this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+"."},a.prototype.array=function(e){return d(e,this._newline,this.toPattern,this)},a.prototype.bgp=function(e){return this.encodeTriples(e.triples)},a.prototype.encodeTriples=function(e){if(!e.length)return"";for(var t=[],r=void 0,n=void 0,a=0;a<e.length;a++){var i=e[a];f(i.subject,r)?f(i.predicate,n)?t.push(","):(n=i.predicate,t.push(";"+this._newline,this._indent,this.toEntity(n))):(r&&t.push("."+this._newline),r=i.subject,n=i.predicate,t.push(this.toEntity(r)," ",this.toEntity(n))),t.push(" ",this.toEntity(i.object))}return t.push("."),t.join("")},a.prototype.graph=function(e){return"GRAPH "+this.toEntity(e.name)+" "+this.group(e)},a.prototype.graphs=function(e,t){return t&&0!==t.length?d(t,"",(function(t){return e+this.toEntity(t)+this._newline}),this):""},a.prototype.group=function(e,t){return e=!0!==t?this.array(e.patterns||e.triples):this.toPattern("group"!==e.type?e:e.patterns),-1===e.indexOf(this._newline)?"{ "+e+" }":"{"+this._newline+this.indent(e)+this._newline+"}"},a.prototype.query=function(e){return this.toQuery(e)},a.prototype.filter=function(e){return"FILTER("+this.toExpression(e.expression)+")"},a.prototype.bind=function(e){return"BIND("+this.toExpression(e.expression)+" AS "+u(e.variable)+")"},a.prototype.optional=function(e){return"OPTIONAL "+this.group(e)},a.prototype.union=function(e){return d(e.patterns,this._newline+"UNION"+this._newline,(function(e){return this.group(e,!0)}),this)},a.prototype.minus=function(e){return"MINUS "+this.group(e)},a.prototype.values=function(e){var t,r,n=Object.keys(e.values.reduce((function(e,t){for(var r in t)e[r]=!0;return e}),{}));return 1===n.length?t=r="":(t="(",r=")"),"VALUES "+t+n.join(" ")+r+" {"+this._newline+d(e.values,this._newline,(function(e){return"  "+t+d(n,void 0,(function(t){return e[t]?this.toEntity(e[t]):"UNDEF"}),this)+r}),this)+this._newline+"}"},a.prototype.service=function(e){return"SERVICE "+(e.silent?"SILENT ":"")+this.toEntity(e.name)+" "+this.group(e)},a.prototype.toExpression=function(e){if(l(e))return this.toEntity(e);switch(e.type.toLowerCase()){case"aggregate":return e.aggregation.toUpperCase()+"("+(e.distinct?"DISTINCT ":"")+this.toExpression(e.expression)+(e.separator?'; SEPARATOR = "'+e.separator.replace(i,s)+'"':"")+")";case"functioncall":return this.toEntity(e.function)+"("+d(e.args,", ",this.toExpression,this)+")";case"operation":var t=e.operator.toUpperCase(),r=e.args||[];switch(e.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(l(r[0])?this.toEntity(r[0]):"("+this.toExpression(r[0])+")")+" "+t+" "+(l(r[1])?this.toEntity(r[1]):"("+this.toExpression(r[1])+")");case"!":return"!("+this.toExpression(r[0])+")";case"uminus":return"-("+this.toExpression(r[0])+")";case"notin":t="NOT IN";case"in":return this.toExpression(r[0])+" "+t+"("+(c(r[1])?r[1]:d(r[1],", ",this.toExpression,this))+")";case"notexists":t="NOT EXISTS";case"exists":return t+" "+this.group(r[0],!0);default:return t+"("+d(r,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+e.type)}},a.prototype.toEntity=function(e){if(l(e))switch(e.termType){case"Wildcard":return"*";case"Variable":return u(e);case"BlankNode":return"_:"+e.value;case"Literal":var t=e.value||"",a=e.language||"",o=e.datatype;if(e='"'+t.replace(i,s)+'"',a)e+="@"+a;else if(o){if(!this._explicitDatatype)switch(o.value){case n:return e;case r:if(/^\d+$/.test(t))return t+" "}e+="^^"+this.encodeIRI(o.value)}return e;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return e.graph&&"DefaultGraph"!==e.graph.termType?"<< GRAPH "+this.toEntity(e.graph)+" { "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" }  >>":"<< "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" >>";default:return this.encodeIRI(e.value)}else{var c=e.items.map(this.toEntity,this),f=e.pathType;switch(f){case"^":case"!":return f+c[0];case"*":case"+":case"?":return"("+c[0]+f+")";default:return"("+c.join(f)+")"}}};var i=/["\\\t\n\r\b\f]/g,s=function(e){return o[e]},o={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function u(e){return"?"+e.value}function c(e){return"string"===typeof e}function l(e){return"string"===typeof e.termType}function f(e,t){if(!e||!l(e))return!1;if(!t||!l(t))return!1;if(e.termType!==t.termType)return!1;switch(e.termType){case"Literal":return e.value===t.value&&e.language===t.language&&f(e.datatype,t.datatype);case"Quad":return f(e.subject,t.subject)&&f(e.predicate,t.predicate)&&f(e.object,t.object)&&f(e.graph,t.graph);default:return e.value===t.value}}function d(e,t,r,n){return e.map(r,n).join(c(t)?t:" ")}a.prototype.encodeIRI=function(e){var t=this._prefixRegex.exec(e);if(t){var r=this._prefixByIri[t[1]];return this._usedPrefixes[r]=!0,r+":"+t[2]}return"<"+e+">"},a.prototype.toUpdate=function(e){switch(e.type||e.updateType){case"load":return"LOAD"+(e.source?" "+this.toEntity(e.source):"")+(e.destination?" INTO GRAPH "+this.toEntity(e.destination):"");case"insert":return"INSERT DATA "+this.group(e.insert,!0);case"delete":return"DELETE DATA "+this.group(e.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(e.delete,!0);case"insertdelete":return(e.graph?"WITH "+this.toEntity(e.graph)+this._newline:"")+(e.delete.length?"DELETE "+this.group(e.delete,!0)+this._newline:"")+(e.insert.length?"INSERT "+this.group(e.insert,!0)+this._newline:"")+(e.using?this.graphs("USING ",e.using.default):"")+(e.using?this.graphs("USING NAMED ",e.using.named):"")+"WHERE "+this.group(e.where,!0);case"add":case"copy":case"move":return e.type.toUpperCase()+(e.source.default?" DEFAULT ":" ")+"TO "+this.toEntity(e.destination.name);case"create":case"clear":case"drop":return e.type.toUpperCase()+(e.silent?" SILENT ":" ")+(e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.all?"ALL":"GRAPH "+this.toEntity(e.graph.name));default:throw new Error("Unknown update query type: "+e.type)}},a.prototype.indent=function(e){return e.replace(/^/gm,this._indent)},e.exports=function(e={}){return{stringify:function(t){var r=Object.create(e);return r.prefixes=t.prefixes,new a(r).toQuery(t)},createGenerator:function(){return new a(e)}}}},"8ce0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const n=r("9935");class a{constructor(e,t){this.termType="Literal",this.value=e,"string"===typeof t?(this.language=t,this.datatype=a.RDF_LANGUAGE_STRING):t?(this.language="",this.datatype=t):(this.language="",this.datatype=a.XSD_STRING)}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}t.Literal=a,a.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),a.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},"8eeb4":function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("41e0"))},"8f7b":function(e,t){var r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+r.source+n.source+"*(?::"+r.source+n.source+"*)?$"),i=0,s=1,o=2,u=3,c=4,l=5,f=6,d=7;function p(){}function h(e,t,r,n,a){function i(e){if(e>65535){e-=65536;var t=55296+(e>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}function s(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?i(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function o(t){if(t>w){var r=e.substring(w,t).replace(/&#?\w+;/g,s);d&&u(w),n.characters(r,0,t-w),w=t}}function u(t,r){while(t>=l&&(r=f.exec(e)))c=r.index,l=c+r[0].length,d.lineNumber++;d.columnNumber=t-c+1}var c=0,l=0,f=/.*(?:\r\n?|\n)|.*$/g,d=n.locator,p=[{currentNSMap:t}],h={},w=0;while(1){try{var x=e.indexOf("<",w);if(x<0){if(!e.substr(w).match(/^\s*$/)){var _=n.doc,O=_.createTextNode(e.substr(w));_.appendChild(O),n.currentElement=O}return}switch(x>w&&o(x),e.charAt(x+1)){case"/":var I=e.indexOf(">",x+3),R=e.substring(x+2,I),A=p.pop();I<0?(R=e.substring(x+2).replace(/[\s<].*/,""),a.error("end tag name: "+R+" is not complete:"+A.tagName),I=x+1+R.length):R.match(/\s</)&&(R=R.replace(/[\s<].*/,""),a.error("end tag name: "+R+" maybe not complete"),I=x+1+R.length);var C=A.localNSMap,S=A.tagName==R,D=S||A.tagName&&A.tagName.toLowerCase()==R.toLowerCase();if(D){if(n.endElement(A.uri,A.localName,R),C)for(var k in C)n.endPrefixMapping(k);S||a.fatalError("end tag name: "+R+" is not match the current start tagName:"+A.tagName)}else p.push(A);I++;break;case"?":d&&u(x),I=E(e,x,n);break;case"!":d&&u(x),I=T(e,x,n,a);break;default:d&&u(x);var j=new N,F=p[p.length-1].currentNSMap,P=(I=v(e,x,j,F,s,a),j.length);if(!j.closed&&b(e,I,j.tagName,h)&&(j.closed=!0,r.nbsp||a.warning("unclosed xml attribute")),d&&P){for(var L=y(d,{}),U=0;U<P;U++){var M=j[U];u(M.offset),M.locator=y(d,{})}n.locator=L,m(j,n,F)&&p.push(j),n.locator=d}else m(j,n,F)&&p.push(j);"http://www.w3.org/1999/xhtml"!==j.uri||j.closed?I++:I=g(e,I,j.tagName,s,n)}}catch(V){a.error("element parse error: "+V),I=-1}I>w?w=I:o(Math.max(x,w)+1)}}function y(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function v(e,t,r,n,a,p){var h,y=++t,v=i;while(1){var m=e.charAt(y);switch(m){case"=":if(v===s)h=e.slice(t,y),v=u;else{if(v!==o)throw new Error("attribute equal must after attrName");v=u}break;case"'":case'"':if(v===u||v===s){if(v===s&&(p.warning('attribute value must after "="'),h=e.slice(t,y)),t=y+1,y=e.indexOf(m,t),!(y>0))throw new Error("attribute value no end '"+m+"' match");g=e.slice(t,y).replace(/&#?\w+;/g,a),r.add(h,g,t-1),v=l}else{if(v!=c)throw new Error('attribute value must after "="');g=e.slice(t,y).replace(/&#?\w+;/g,a),r.add(h,g,t),p.warning('attribute "'+h+'" missed start quot('+m+")!!"),t=y+1,v=l}break;case"/":switch(v){case i:r.setTagName(e.slice(t,y));case l:case f:case d:v=d,r.closed=!0;case c:case s:case o:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return p.error("unexpected end of input"),v==i&&r.setTagName(e.slice(t,y)),y;case">":switch(v){case i:r.setTagName(e.slice(t,y));case l:case f:case d:break;case c:case s:g=e.slice(t,y),"/"===g.slice(-1)&&(r.closed=!0,g=g.slice(0,-1));case o:v===o&&(g=h),v==c?(p.warning('attribute "'+g+'" missed quot(")!!'),r.add(h,g.replace(/&#?\w+;/g,a),t)):("http://www.w3.org/1999/xhtml"===n[""]&&g.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+g+'" missed value!! "'+g+'" instead!!'),r.add(g,g,t));break;case u:throw new Error("attribute value missed!!")}return y;case"":m=" ";default:if(m<=" ")switch(v){case i:r.setTagName(e.slice(t,y)),v=f;break;case s:h=e.slice(t,y),v=o;break;case c:var g=e.slice(t,y).replace(/&#?\w+;/g,a);p.warning('attribute "'+g+'" missed quot(")!!'),r.add(h,g,t);case l:v=f;break}else switch(v){case o:r.tagName;"http://www.w3.org/1999/xhtml"===n[""]&&h.match(/^(?:disabled|checked|selected)$/i)||p.warning('attribute "'+h+'" missed value!! "'+h+'" instead2!!'),r.add(h,h,t),t=y,v=s;break;case l:p.warning('attribute space is required"'+h+'"!!');case f:v=s,t=y;break;case u:v=c,t=y;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}y++}}function m(e,t,r){var n=e.tagName,a=null,i=e.length;while(i--){var s=e[i],o=s.qName,u=s.value,c=o.indexOf(":");if(c>0)var l=s.prefix=o.slice(0,c),f=o.slice(c+1),d="xmlns"===l&&f;else f=o,l=null,d="xmlns"===o&&"";s.localName=f,!1!==d&&(null==a&&(a={},w(r,r={})),r[d]=a[d]=u,s.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(d,u))}i=e.length;while(i--){s=e[i];l=s.prefix;l&&("xml"===l&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(s.uri=r[l||""]))}c=n.indexOf(":");c>0?(l=e.prefix=n.slice(0,c),f=e.localName=n.slice(c+1)):(l=null,f=e.localName=n);var p=e.uri=r[l||""];if(t.startElement(p,f,n,e),!e.closed)return e.currentNSMap=r,e.localNSMap=a,!0;if(t.endElement(p,f,n),a)for(l in a)t.endPrefixMapping(l)}function g(e,t,r,n,a){if(/^(?:script|textarea)$/i.test(r)){var i=e.indexOf("</"+r+">",t),s=e.substring(t+1,i);if(/[&<]/.test(s))return/^script$/i.test(r)?(a.characters(s,0,s.length),i):(s=s.replace(/&#?\w+;/g,n),a.characters(s,0,s.length),i)}return t+1}function b(e,t,r,n){var a=n[r];return null==a&&(a=e.lastIndexOf("</"+r+">"),a<t&&(a=e.lastIndexOf("</"+r)),n[r]=a),a<t}function w(e,t){for(var r in e)t[r]=e[r]}function T(e,t,r,n){var a=e.charAt(t+2);switch(a){case"-":if("-"===e.charAt(t+3)){var i=e.indexOf("--\x3e",t+4);return i>t?(r.comment(e,t+4,i-t-4),i+3):(n.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==e.substr(t+3,6)){i=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,i-t-9),r.endCDATA(),i+3}var s=x(e,t),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var u=s[1][0],c=o>3&&/^public$/i.test(s[2][0])&&s[3][0],l=o>4&&s[4][0],f=s[o-1];return r.startDTD(u,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),f.index+f[0].length}}return-1}function E(e,t,r){var n=e.indexOf("?>",t);if(n){var a=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(a){a[0].length;return r.processingInstruction(a[1],a[2]),n+2}return-1}return-1}function N(e){}function x(e,t){var r,n=[],a=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;a.lastIndex=t,a.exec(e);while(r=a.exec(e))if(n.push(r),r[1])return n}p.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),w(t,t={}),h(e,t,r,n,this.errorHandler),n.endDocument()}},N.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!a.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=p},"8fd3":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"defaultGraphURI",{enumerable:!0,get:function(){return y.defaultGraphURI}}),t.default=void 0;var a,i=n(r("9523")),s=n(r("43f6")),o=n(r("085a")),u=n(r("606c")),c=n(r("c749")),l=n(r("089a")),f=r("43f5"),d=n(r("03fd")),p=r("037b"),h=r("ab32"),y=r("5c0f"),v=new d.default,m={supports:(a={},(0,i.default)(a,p.Feature.collections,!1),(0,i.default)(a,p.Feature.defaultGraphType,!1),(0,i.default)(a,p.Feature.equalsMethod,!0),(0,i.default)(a,p.Feature.identity,!1),(0,i.default)(a,p.Feature.id,!0),(0,i.default)(a,p.Feature.reversibleId,!1),(0,i.default)(a,p.Feature.variableType,!0),a),blankNode:function(e){return new s.default(e)},defaultGraph:function(){return v},equals:function(e,t){return e===t||!e||!t||((0,h.isQuad)(e)||(0,h.isQuad)(t)?!(!(0,h.isQuad)(e)||!(0,h.isQuad)(t))&&(this.equals(e.subject,t.subject)&&this.equals(e.predicate,t.predicate)&&this.equals(e.object,t.object)&&this.equals(e.graph,t.graph)):!(!(0,h.isTerm)(e)||!(0,h.isTerm)(t))&&this.id(e)===this.id(t))},id:function(e){if(!e)return"undefined";if((0,h.isQuad)(e))return this.quadToNQ(e);switch(e.termType){case f.DefaultGraphTermType:return"defaultGraph";case f.VariableTermType:return l.default.toString(e);default:var t=this.termToNQ(e);if(t)return t;throw new Error("Can't id term with type '".concat(e.termType,"'"))}},isQuad:function(e){return e instanceof c.default},literal:function(e,t){if("string"!==typeof e&&!t)return o.default.fromValue(e);var r="string"===typeof e?e:""+e;return"string"===typeof t?-1===t.indexOf(":")?new o.default(r,t):new o.default(r,null,this.namedNode(t)):new o.default(r,null,t)},namedNode:function(e){return new u.default(e)},quad:function(e,t,r,n){return new c.default(e,t,r,n||v)},triple:function(e,t,r,n){return this.quad(e,t,r,n)},quadToNQ:function(e){return"".concat(this.termToNQ(e.subject)," ").concat(this.termToNQ(e.predicate)," ").concat(this.termToNQ(e.object)," ").concat(this.termToNQ(e.graph)," .")},termToNQ:function(e){var t=this;switch(e.termType){case f.BlankNodeTermType:return"_:"+e.value;case f.DefaultGraphTermType:return"";case f.EmptyTermType:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case f.LiteralTermType:return o.default.toNT(e);case f.GraphTermType:case f.NamedNodeTermType:return"<"+e.value+">";case f.CollectionTermType:return"("+e.elements.map((function(e){return t.termToNQ(e)})).join(" ")+")";default:throw new Error("Can't serialize nonstandard term type (was '".concat(e.termType,"')"))}},toNQ:function(e){return this.isQuad(e)?this.quadToNQ(e):this.termToNQ(e)},variable:function(e){return new l.default(e)}},g=m;t.default=g},"902d":function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("a34a")),s=a(r("c973")),o=a(r("5bc3")),u=a(r("ed6d")),c=a(r("6b58")),l=a(r("36c6")),f=a(r("970b")),d=a(r("9523")),p=a(r("c947")),h=a(r("3c962")),y=a(r("dfa6")),v=a(r("606c")),m=a(r("491a")),g=a(r("0d60")),b=r("f51a"),w=a(r("c2f2")),T=n(r("3897")),E=r("ab32"),N=n(r("4b68")),x=a(r("b80f")),_=n(r("5d61")),O=r("43f5"),I=r("073a"),R=a(r("e1b7"));function A(e){var t=C();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var S={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},D={rdf:O.RDFXMLContentType,owl:O.RDFXMLContentType,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},k=function(e){return{link:(0,m.default)("http://www.w3.org/2007/ont/link#",e),http:(0,m.default)("http://www.w3.org/2007/ont/http#",e),httph:(0,m.default)("http://www.w3.org/2007/ont/httph#",e),rdf:(0,m.default)("http://www.w3.org/1999/02/22-rdf-syntax-ns#",e),rdfs:(0,m.default)("http://www.w3.org/2000/01/rdf-schema#",e),dc:(0,m.default)("http://purl.org/dc/elements/1.1/",e),ldp:(0,m.default)("http://www.w3.org/ns/ldp#",e)}},j=k(),F=function e(t,r){(0,f.default)(this,e),(0,d.default)(this,"response",void 0),(0,d.default)(this,"dom",void 0),this.response=t,this.dom=r};(0,d.default)(F,"pattern",void 0);var P=function(e){(0,u.default)(r,e);var t=A(r);function r(){return(0,f.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"parse",value:function(e,t,r){var n=e.store;this.dom||(this.dom=N.parseXML(t));var a=this.dom.documentElement;if("parsererror"===a.nodeName)return e.failFetch(r,"Badly formed XML in "+r.resource.value,"parse_error");var i=new w.default(n);try{i.parse(this.dom,r.original.value,r.original)}catch(s){return e.failFetch(r,"Syntax error parsing RDF/XML! "+s,"parse_error")}return r.noMeta||n.add(r.original,j.rdf("type"),j.link("RDFDocument"),e.appNode),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(e){e.mediatypes[O.RDFXMLContentType]={q:.9}}}]),r}(F);P.pattern=new RegExp("application/rdf\\+xml");var L=function(e){(0,u.default)(r,e);var t=A(r);function r(){return(0,f.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"parse",value:function(e,t,r){var n,a;this.dom||(this.dom=N.parseXML(t));var i=e.store,s=this.dom.getElementsByTagName("title");s.length>0&&i.add(r.resource,j.dc("title"),i.rdfFactory.literal(s[0].textContent),r.resource);for(var o=this.dom.getElementsByTagName("link"),u=o.length-1;u>=0;u--)n=o[u].getAttribute("rel"),a=!1,n||(n=o[u].getAttribute("rev"),a=!0),n&&e.linkData(r.original,n,o[u].getAttribute("href"),r.resource,a);for(var c=this.dom.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l].getAttribute("type");S[f]&&((0,g.default)(c[l].textContent,i,r.original.value,f),(0,g.default)(c[l].textContent,i,r.original.value,f))}if(r.noMeta||i.add(r.resource,j.rdf("type"),j.link("WebPage"),e.appNode),!r.noRDFa&&b.parseRDFaDOM)try{(0,b.parseRDFaDOM)(this.dom,i,r.original.value)}catch(p){var d="Error trying to parse "+r.resource+" as RDFa:\n"+p+":\n"+p.stack;return e.failFetch(r,d,"parse_error")}return e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(e){e.mediatypes[O.XHTMLContentType]={}}}]),r}(F);L.pattern=new RegExp("application/xhtml");var U=function(e){(0,u.default)(r,e);var t=A(r);function r(){return(0,f.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"parse",value:function(e,t,r){for(var n=N.parseXML(t),a=0;a<n.childNodes.length;a++)if(1===n.childNodes[a].nodeType){var i=n.childNodes[a].namespaceURI;if(i&&i===i["rdf"]){e.addStatus(r.req,"Has XML root element in the RDF namespace, so assume RDF/XML.");var s=new P(this.response,n);return s.parse(e,t,r)}break}if(n.doctype&&"html"===n.doctype.name&&n.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&n.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/)){e.addStatus(r.req,"Has XHTML DOCTYPE. Switching to XHTML Handler.\n");var o=new L(this.response,n);return o.parse(e,t,r)}var u=n.getElementsByTagName("html")[0];if(u){var c=u.getAttribute("xmlns");if(c&&c.match(/^http:\/\/www.w3.org\/1999\/xhtml/)){e.addStatus(r.req,"Has a default namespace for XHTML. Switching to XHTMLHandler.\n");var l=new L(this.response,n);return l.parse(e,t,r)}}return e.failFetch(r,"Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n"+t.slice(0,80),901)}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(e){e.mediatypes["text/xml"]={q:.5},e.mediatypes["application/xml"]={q:.5}}}]),r}(F);U.pattern=new RegExp("(text|application)/(.*)xml");var M=function(e){(0,u.default)(r,e);var t=A(r);function r(){return(0,f.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"parse",value:function(e,t,r){var n=e.store;if(H(t)){e.addStatus(r.req,"Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.\n");var a=new L(this.response);return a.parse(e,t,r)}if(G(t)){e.addStatus(r.req,"Has XHTML DOCTYPE. Switching to XHTMLHandler.\n");var i=new L(this.response);return i.parse(e,t,r)}if(X(t)){e.addStatus(r.req,"Has default namespace for XHTML, so switching to XHTMLHandler.\n");var s=new L(this.response);return s.parse(e,t,r)}var o=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(t);return o&&n.add(r.resource,j.dc("title"),n.rdfFactory.literal(o[1]),r.resource),n.add(r.resource,j.rdf("type"),j.link("WebPage"),e.appNode),e.addStatus(r.req,"non-XML HTML document, not parsed for data."),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(e){e.mediatypes["text/html"]={q:.9}}}]),r}(F);M.pattern=new RegExp("text/html");var V=function(e){(0,u.default)(r,e);var t=A(r);function r(){return(0,f.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"parse",value:function(e,t,r,n){var a=e.store;return new Promise((function(i,s){try{(0,R.default)(t,a,r.original.value,i)}catch(u){var o="Error trying to parse "+r.resource+" as JSON-LD:\n"+u;i(e.failFetch(r,o,"parse_error",n))}}))}}],[{key:"toString",value:function(){return"JsonLdHandler"}},{key:"register",value:function(e){e.mediatypes["application/ld+json"]={q:.9}}}]),r}(F);V.pattern=/application\/ld\+json/;var q=function(e){(0,u.default)(r,e);var t=A(r);function r(){return(0,f.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"parse",value:function(e,t,r){if(H(t)){e.addStatus(r.req,"Warning: "+r.resource+" has an XML declaration. We'll assume it's XML but its content-type wasn't XML.\n");var n=new U(this.response);return n.parse(e,t,r)}if(t.slice(0,500).match(/xmlns:/)){e.addStatus(r.req,"May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.\n");var a=new U(this.response);return a.parse(e,t,r)}return e.addStatus(r.req,"Plain text document, no known RDF semantics."),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(e){e.mediatypes["text/plain"]={q:.5}}}]),r}(F);q.pattern=new RegExp("text/plain");var B=function(e){(0,u.default)(r,e);var t=A(r);function r(){return(0,f.default)(this,r),t.apply(this,arguments)}return(0,o.default)(r,[{key:"parse",value:function(e,t,r,n){var a=e.store,i=(0,y.default)(a,a,r.original.value,r.original.value,null,null,"",null);try{i.loadBuf(t)}catch(o){var s="Error trying to parse "+r.resource+" as Notation3:\n"+o;return e.failFetch(r,s,"parse_error",n)}return e.addStatus(r.req,"N3 parsed: "+i.statementCount+" triples in "+i.lines+" lines."),e.store.add(r.original,j.rdf("type"),j.link("RDFDocument"),e.appNode),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(e){e.mediatypes["text/n3"]={q:"1.0"},e.mediatypes["text/turtle"]={q:1}}}]),r}(F);B.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var $={RDFXMLHandler:P,XHTMLHandler:L,XMLHandler:U,HTMLHandler:M,TextHandler:q,N3Handler:B,JsonLdHandler:V};function G(e){var t=e.indexOf("<!DOCTYPE html"),r=e.indexOf(">");return!(-1===t||-1===r||t>r)&&-1!==e.substr(t,r-t).indexOf("XHTML")}function H(e){var t=e.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/);return!!t}function X(e){var t=e.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/);return!!t}var Q=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,f.default)(this,e),(0,d.default)(this,"store",void 0),(0,d.default)(this,"timeout",void 0),(0,d.default)(this,"_fetch",void 0),(0,d.default)(this,"mediatypes",void 0),(0,d.default)(this,"appNode",void 0),(0,d.default)(this,"requested",void 0),(0,d.default)(this,"timeouts",void 0),(0,d.default)(this,"redirectedTo",void 0),(0,d.default)(this,"fetchQueue",void 0),(0,d.default)(this,"fetchCallbacks",void 0),(0,d.default)(this,"nonexistent",void 0),(0,d.default)(this,"lookedUp",void 0),(0,d.default)(this,"handlers",void 0),(0,d.default)(this,"ns",void 0),(0,d.default)(this,"fireCallbacks",void 0),this.store=t||new p.default,this.ns=k(this.store.rdfFactory),this.timeout=n.timeout||3e4,this._fetch=n.fetch||"undefined"!==typeof window&&window.solidFetcher||_.default,!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.rdfFactory.blankNode(),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},N.callbackify(this,["request","fail","refresh","retract","done"]),Object.keys(n.handlers||$).map((function(e){return r.addHandler($[e])}))}return(0,o.default)(e,[{key:"load",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r=Object.assign({},r),e instanceof Array)return Promise.all(e.map((function(e){return t.load(e,Object.assign({},r))})));var n=e,a=(0,I.termValue)(n);a=a.split("#")[0],r=this.initFetchOptions(a,r);var i=this.initFetchOptions(a,r);return this.pendingFetchPromise(a,i.baseURI,i)}},{key:"pendingFetchPromise",value:function(e,t,r){var n,a=this;return!r.force&&this.fetchQueue[t]?n=this.fetchQueue[t]:(n=Promise.race([this.setRequestTimeout(e,r),this.fetchUri(e,r)]),this.fetchQueue[t]=n,this.cleanupFetchRequest(t,void 0,this.timeout)),n.then((function(t){return e in a.timeouts&&(a.timeouts[e].forEach(clearTimeout),delete a.timeouts[e]),t}))}},{key:"cleanupFetchRequest",value:function(e,t,r){var n=this;void 0!==t&&console.warn("_options is deprecated"),this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout((function(){n.isPending(e)||delete n.fetchQueue[e]}),r))}},{key:"initFetchOptions",value:function(t,r){var n=this.store,a=!r.method||"GET"===r.method.toUpperCase();a||(r.force=!0),r.resource=n.rdfFactory.namedNode(t),r.baseURI=r.baseURI||t,r.original=n.rdfFactory.namedNode(r.baseURI),r.req=n.bnode(),r.headers=r.headers||new _.Headers,r.contentType&&(r.headers["content-type"]=r.contentType),r.force&&(r.cache="no-cache");var i=this.acceptString();r.headers["accept"]=i;var s=e.offlineOverride(t);r.requestedURI=s,e.setCredentials(s,r);var o=e.proxyIfNecessary(s);return s!==o&&(r.proxyUsed=!0),r.actualProxyURI=o,r}},{key:"fetchUri",value:function(t,r){var n=this;if(!t)return Promise.reject(new Error("Cannot fetch an empty uri"));if(e.unsupportedProtocol(t))return this.failFetch(r,"fetcher: Unsupported protocol","unsupported_protocol");var a=this.getState(t);if(r.force)delete this.nonexistent[t];else{if("fetched"===a)return Promise.resolve(this.doneFetch(r,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if("failed"===a&&404===this.requested[t]){var i="Previously failed: "+this.requested[t],s={url:t,status:this.requested[t],statusText:i,responseText:i,headers:new _.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(r,i,this.requested[t],s)}}this.fireCallbacks("request",[t]),this.requested[t]=!0,r.noMeta||this.saveRequestMetadata(t,r);var o=r.actualProxyURI;return this._fetch(o,r).then((function(e){return n.handleResponse(e,t,r)}),(function(e){var a={url:o,status:999,statusText:(e.name||"network failure")+": "+(e.errno||e.code||e.type),responseText:e.message,headers:new _.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return console.log("Fetcher: <"+o+"> Non-HTTP fetch exception: "+e),n.handleError(a,t,r)}))}},{key:"nowOrWhenFetched",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(0,I.termValue)(e);"function"===typeof t?r=t:"undefined"===typeof t||((0,E.isNamedNode)(t)?n.referringTerm=t:n=t),this.load(a,n).then((function(e){if(r)if(e)if(e.ok)r(!0,"OK",e);else{var t="HTTP error: Status "+e.status+" ("+e.statusText+")";e.responseText&&(t+=" "+e.responseText),console.log(t+" fetching "+a),r(!1,t,e)}else{var n="@@ nowOrWhenFetched:  no response object!";console.log(n),r(!1,n)}}),(function(e){var t=e.message||e.statusText;t="Failed to load  <"+a+"> "+t,console.log(t),e.response&&e.response.status&&(t+=" status: "+e.response.status),r(!1,t,e.response)}))}},{key:"addStatus",value:function(e,t){var r=new Date;t="["+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+"."+r.getMilliseconds()+"] "+t;var n=this.store,a=n.the(e,this.ns.link("status"));(0,E.isCollection)(a)?a.append(n.rdfFactory.literal(t)):h.default.warn("web.js: No list to add to: "+a+","+t)}},{key:"failFetch",value:function(e,t,r,n){this.addStatus(e.req,t),e.noMeta||this.store.add(e.original,this.ns.link("error"),this.store.rdfFactory.literal(t));var a=(e.method||"GET").toUpperCase(),i="GET"===a||"HEAD"===a;i&&(e.resource.equals(e.original),this.requested[T.docpart(e.original.value)]=r,this.fireCallbacks("fail",[e.original.value,t]));var s=new Error("Fetcher: "+t);return s.status=r,s.statusText=t,s.response=n,Promise.reject(s)}},{key:"linkData",value:function(e,t,r,n,a){if(r){var i,s=this.store,o=s.rdfFactory.namedNode(T.join(r,e.value));if("alternate"===t||"seeAlso"===t||"meta"===t||"describedby"===t){if(o.value===e.value)return;i=this.ns.rdfs("seeAlso")}else i="type"===t?s.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):s.rdfFactory.namedNode(T.join(encodeURIComponent(t),"http://www.iana.org/assignments/link-relations/"));a?s.add(o,i,e,n):s.add(e,i,o,n)}}},{key:"parseLinkHeader",value:function(e,t,r){if(e){var n=/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,a=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,i=e.match(n);if(null!=i)for(var s=0;s<i.length;s++){var o=i[s].split(">"),u=o[0].substring(1),c=o[1],l=c.match(a);if(null==l)return;for(var f=0;f<l.length;f++){var d=l[f],p=d.split("="),h=p[1].replace(/["']/g,"");this.linkData(t,h,u,r)}}}}},{key:"doneFetch",value:function(e,t){return this.addStatus(e.req,"Done."),this.requested[e.original.value]="done",this.fireCallbacks("done",[e.original.value]),t.req=e.req,t}},{key:"nowKnownAs",value:function(e,t){this.lookedUp[e.value]?this.lookedUp[t.value]||this.lookUpThing(t,e):this.lookedUp[t.value]&&(this.lookedUp[e.value]||this.lookUpThing(e,t))}},{key:"putBack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,I.termValue)(e),n=new v.default(r).doc();return t.contentType=t.contentType||O.TurtleContentType,t.data=(0,x.default)(n,this.store,n.value,t.contentType),this.webOperation("PUT",r,t)}},{key:"webCopy",value:function(e,t,r){var n=this;return this.webOperation("GET",e).then((function(e){return n.webOperation("PUT",t,{data:e.responseText,contentType:r})}))}},{key:"delete",value:function(e,t){var r=this;return this.webOperation("DELETE",e,t).then((function(t){return r.requested[e]=404,r.nonexistent[e]=!0,r.unload(r.store.rdfFactory.namedNode(e)),t}))}},{key:"createIfNotExists",value:function(){var e=(0,s.default)(i.default.mark((function e(t){var r,n,a,s,o=arguments;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:O.TurtleContentType,n=o.length>2&&void 0!==o[2]?o[2]:"",a=this,e.prev=3,e.next=6,a.load(t);case 6:s=e.sent,e.next=29;break;case 9:if(e.prev=9,e.t0=e["catch"](3),404!==e.t0.response.status){e.next=27;break}return console.log("createIfNotExists: doc does NOT exist, will create... "+t),e.prev=13,e.next=16,a.webOperation("PUT",t.value,{data:n,contentType:r});case 16:s=e.sent,e.next=23;break;case 19:throw e.prev=19,e.t1=e["catch"](13),console.log("createIfNotExists doc FAILED: "+t+": "+e.t1),e.t1;case 23:return delete a.requested[t.value],e.abrupt("return",s);case 27:throw console.log("createIfNotExists doc load error NOT 404:  "+t+": "+e.t0),e.t0;case 29:return e.abrupt("return",s);case 30:case"end":return e.stop()}}),e,this,[[3,9],[13,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createContainer",value:function(e,t,r){var n={"content-type":O.TurtleContentType,link:this.ns.ldp("BasicContainer")+'; rel="type"'};t&&(n["slug"]=t);var a={headers:n};return r&&(a.body=r),this.webOperation("POST",e,a)}},{key:"invalidateCache",value:function(e){var t=(0,I.termValue)(e),r=this;if(r.fetchQueue&&r.fetchQueue[t]){console.log("Internal error - fetchQueue exists "+t);var n=r.fetchQueue[t];"resolved"===n["PromiseStatus"]?delete r.fetchQueue[t]:(delete r.fetchQueue[t],console.log("*** Fetcher: pending fetchQueue deleted "+t))}if(r.requested[t]&&"done"!==r.requested[t]&&"failed"!==r.requested[t]&&404!==r.requested[t]){var a="Rdflib: fetcher: Destructive operation on <".concat(r.requested[t],"> file being fetched! ")+t;console.error(a)}else delete r.requested[t],delete r.nonexistent[t]}},{key:"webOperation",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,I.termValue)(r);n.method=t,n.body=n.data||n.body,n.force=!0;var i=this;if(n.body&&!n.contentType)throw new Error("Web operation sending data must have a defined contentType.");return n.contentType&&(n.headers=n.headers||{},n.headers["content-type"]=n.contentType),e.setCredentials(a,n),new Promise((function(e,r){i._fetch(a,n).then((function(n){if(n.ok)"PUT"!==t&&"PATCH"!==t&&"POST"!==t&&"DELETE"!==t||i.invalidateCache(a),n.body?n.text().then((function(t){n.responseText=t,e(n)})):e(n);else{var s="Web error: "+n.status;n.statusText&&(s+=" ("+n.statusText+")"),s+=" on "+t+" of <"+a+">",n.responseText&&(s+=": "+n.responseText);var o=new Error(s);o.response=n,r(o)}}),(function(e){var n="Fetch error for "+t+" of <"+a+">:"+e;r(new Error(n))}))}))}},{key:"lookUpThing",value:function(e,t){var r=this,n=this.store.uris(e);return n=n.map((function(e){return T.docpart(e)})),n.forEach((function(e){r.lookedUp[e]=!0})),this.load(n,{referringTerm:t})}},{key:"getHeader",value:function(e,t){for(var r=this.store,n=e.value,a=r.each(void 0,this.ns.link("requestedURI"),r.rdfFactory.literal(n)),i=0;i<a.length;i++){var s=a[i];if(void 0!==s){var o=r.any(s,this.ns.link("response"));if(void 0!==o&&r.anyValue(o,this.ns.http("status"))&&r.anyValue(o,this.ns.http("status")).startsWith("2")){var u=r.each(o,this.ns.httph(t.toLowerCase()));return u.length?u.map((function(e){return e.value})):[]}}}}},{key:"saveRequestMetadata",value:function(e,t){var r=t.req,n=this.store,a=t.referringTerm;this.addStatus(t.req,"Accept: "+t.headers["accept"]),(0,E.isNamedNode)(a)&&n.add(n.rdfFactory.namedNode(e),this.ns.link("requestedBy"),a,this.appNode),t.original&&t.original.value!==e&&n.add(r,this.ns.link("orginalURI"),n.rdfFactory.literal(t.original.value),this.appNode);var i=new Date,s="["+i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+"] ";n.add(r,this.ns.rdfs("label"),n.rdfFactory.literal(s+" Request for "+e),this.appNode),n.add(r,this.ns.link("requestedURI"),n.rdfFactory.literal(e),this.appNode),n.add(r,this.ns.link("status"),n.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(e,t){var r=this,n=this.store,a=n.bnode();return n.add(t.req,this.ns.link("response"),a,a),n.add(a,this.ns.http("status"),n.rdfFactory.literal(e.status),a),n.add(a,this.ns.http("statusText"),n.rdfFactory.literal(e.statusText),a),t.resource.value.startsWith("http")?(e.headers.forEach((function(e,i){n.add(a,r.ns.httph(i),r.store.rdfFactory.literal(e),a),"content-type"===i&&n.add(t.resource,r.ns.rdf("type"),n.rdfFactory.namedNode(N.mediaTypeClass(e).value),a)})),a):a}},{key:"objectRefresh",value:function(e){var t=this.store.uris(e);if("undefined"!==typeof t)for(var r=0;r<t.length;r++)this.refresh(this.store.rdfFactory.namedNode(T.docpart(t[r])))}},{key:"refresh",value:function(e,t){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},t)}},{key:"refreshIfExpired",value:function(e,t){var r=this.getHeader(e,"Expires");!r||new Date(r[0]).getTime()<=(new Date).getTime()?this.refresh(e,t):t(!0,"Not expired",{})}},{key:"retract",value:function(e){this.store.removeMany(void 0,void 0,void 0,e),e.value&&delete this.requested[T.docpart(e.value)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(e){return"undefined"===typeof this.requested[e]?"unrequested":!0===this.requested[e]?"requested":"done"===this.requested[e]?"fetched":"redirected"===this.requested[e]?this.getState(this.redirectedTo[e]):"failed"}},{key:"isPending",value:function(e){return!0===this.requested[e]}},{key:"unload",value:function(e){this.store.removeDocument(e),delete this.requested[e.value]}},{key:"addHandler",value:function(e){this.handlers.push(e),e.register(this)}},{key:"retryNoCredentials",value:function(e,t){console.log("Fetcher: CORS: RETRYING with NO CREDENTIALS for "+t.resource),t.retriedWithNoCredentials=!0,delete this.requested[e],delete this.fetchQueue[e];var r=Object.assign({},t,{credentials:"omit"});return this.addStatus(t.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(e,r)}},{key:"isCrossSite",value:function(e){if("undefined"===typeof document||!document.location)return!1;var t=T.hostpart,r=""+document.location;return(t(r)&&t(e)&&t(r))!==t(e)}},{key:"handleError",value:function(t,r,n){if(this.isCrossSite(r)){if(n.credentials&&"include"===n.credentials&&!n.retriedWithNoCredentials)return this.retryNoCredentials(r,n);var a=e.crossSiteProxy(r);if(a&&!n.proxyUsed)return console.log("web: Direct failed so trying proxy "+a),this.redirectToProxy(a,n)}var i;return t instanceof Error?i="Fetch error: "+t.message:(i=t.statusText,t.responseText&&(i+=" ".concat(t.responseText))),this.failFetch(n,i,t.status||998,t)}},{key:"addType",value:function(e,t,r,n){var a=t;if(n){var i=r.any(a,this.ns.link("requestedURI"));i&&i.value!==n&&r.add(r.rdfFactory.namedNode(n),this.ns.rdf("type"),e,this.appNode)}for(;;){var s=r.any(a,this.ns.link("requestedURI"));if(s&&s.value&&r.add(r.rdfFactory.namedNode(s.value),this.ns.rdf("type"),e,this.appNode),a=r.any(void 0,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),a),!a)break;var o=r.any(a,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!o)break;var u=r.any(o,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!u)break;if("301"!==u&&"302"!==u)break}}},{key:"handleResponse",value:function(e,t,r){var n=this,a=this.store,i=e.headers,s=r.req,o=this.saveResponseMetadata(e,r),u=this.normalizedContentType(r,i)||"",c=i.get("content-location");if(0===e.status)return console.log("Masked error - status 0 for "+t),this.handleError(e,t,r);if(e.status>=400)return 404===e.status&&(this.nonexistent[r.original.value]=!0,this.nonexistent[t]=!0),this.saveErrorResponse(e,o).then((function(){var t=r.resource+" "+e.statusText;return n.failFetch(r,t,e.status,e)}));var l=null,f=null;if(c&&(f=T.join(c,t),f!==t&&(l=f)),200===e.status){this.addType(this.ns.link("Document"),s,a,t),l&&this.addType(this.ns.link("Document"),s,a,l),r.clearPreviousData&&a.removeDocument(r.resource);var d=u.includes("image/")||u.includes("application/pdf");u&&d&&(this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),s,a,t),l&&this.addType(a.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),s,a,l))}if(c){if(!r.force&&l&&"done"===this.requested[f])return this.doneFetch(r,e);this.requested[f]=!0}this.parseLinkHeader(i.get("link"),r.original,s);var p=this.handlerForContentType(u,e);return p?e.text().then((function(t){return e.responseText=t,p.parse(n,t,r,e)})):(this.addStatus(s,"Fetch over. No data handled."),this.doneFetch(r,e))}},{key:"saveErrorResponse",value:function(e,t){var r=this,n=this.store;return e.text().then((function(e){e.length>10&&n.add(t,r.ns.http("content"),n.rdfFactory.literal(e),t)}))}},{key:"handlerForContentType",value:function(e,t){if(!e)return null;var r=this.handlers.find((function(t){return e.match(t.pattern)}));return r?new r(t):null}},{key:"guessContentType",value:function(e){return D[e.split(".").pop()]}},{key:"normalizedContentType",value:function(e,t){if(e.forceContentType)return e.forceContentType;var r=t.get("content-type");if(!r||r.includes("application/octet-stream")){var n=this.guessContentType(e.resource.value);if(n)return n}var a=T.protocol(e.resource.value);return!r&&["file","chrome"].includes(a)?"text/xml":r}},{key:"redirectToProxy",value:function(e,t){var r=this;this.addStatus(t.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),t.proxyUsed=!0;var n=this.store,a=t.req;t.noMeta||(n.add(a,this.ns.link("redirectedTo"),n.rdfFactory.namedNode(e),a),this.addStatus(a,"redirected to new request")),this.requested[t.resource.value]="redirected",this.redirectedTo[t.resource.value]=e;var i=Object.assign({},t);return i.baseURI=t.resource.value,this.fetchUri(e,i).then((function(e){return i.noMeta||n.add(a,r.ns.link("redirectedRequest"),i.req,r.appNode),e}))}},{key:"setRequestTimeout",value:function(e,t){var r=this;return new Promise((function(n){r.timeouts[e]=(r.timeouts[e]||[]).concat(setTimeout((function(){!r.isPending(e)||t.retriedWithNoCredentials||t.proxyUsed||n(r.failFetch(t,"Request to ".concat(e," timed out"),"timeout"))}),r.timeout))}))}},{key:"addFetchCallback",value:function(e,t){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(t):this.fetchCallbacks[e]=[t]}},{key:"acceptString",value:function(){var e="";for(var t in this.mediatypes)for(var r in""!==e&&(e+=", "),e+=t,this.mediatypes[t])e+=";"+r+"="+this.mediatypes[t][r];return e}}],[{key:"crossSiteProxy",value:function(t){return e.crossSiteProxyTemplate?e.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t)):void 0}},{key:"offlineOverride",value:function(e){var t,r=e;return"undefined"!==typeof window&&window.panes&&(t=window.panes.UI)&&t.preferences&&t.preferences.get("offlineModeUsingLocalhost")&&"http://"===r.slice(0,7)&&"localhost/"!==r.slice(7,17)&&(r="http://localhost/"+r.slice(7),h.default.warn("Localhost kludge for offline use: actually getting <"+r+">")),r}},{key:"proxyIfNecessary",value:function(t){var r;if("undefined"!==typeof window&&window.panes&&(r=window.panes.UI)&&r.isExtension)return t;if("undefined"!==typeof $SolidTestEnvironment&&$SolidTestEnvironment.localSiteMap){var n=t.split("/").slice(2),a=function e(t,r){var n=r[t.shift()];return n?"string"===typeof n?n+t.join("/"):t?e(t,n):null:null},i=a(n,$SolidTestEnvironment.localSiteMap);if(i)return i}return e.crossSiteProxyTemplate&&"undefined"!==typeof document&&document.location&&"https:"===(""+document.location).slice(0,6)&&"http:"===t.slice(0,5)?e.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t)):t}},{key:"unsupportedProtocol",value:function(e){var t=T.protocol(e);return"tel"===t||"mailto"===t||"urn"===t}},{key:"setCredentials",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===t.credentials&&(void 0!==t.withCredentials?t.credentials=t.withCredentials?"include":"omit":t.credentials="include")}}]),e}();t.default=Q,(0,d.default)(Q,"HANDLERS",void 0),(0,d.default)(Q,"CONTENT_TYPE_BY_EXT",void 0),(0,d.default)(Q,"crossSiteProxyTemplate",void 0),Q.HANDLERS=$,Q.CONTENT_TYPE_BY_EXT=D},9523:function(e,t){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},9604:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b"),a=i(r("00e8"));function i(e){return e&&e.__esModule?e:{default:e}}class s{handle(e,t){const{root:r}=t;return(e="",i="text/turtle")=>(0,n.toIterablePromise)((async function*(){const n=new Set;for await(const e of t){const t=/^https?:\/\/[^#]+/.exec(e?e.value:"");t&&n.add(t[0])}const s=[...n].map(t=>a.default.fetch(t,{method:"PUT",headers:{"Content-Type":i},body:e}));await Promise.all(s);for(const e of n)yield r[e]}))}}t.default=s},9659:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("c513"),a=r("5189"),i=r("b4c9").Wildcard;class s{constructor(e){this.dataFactory=e||new n.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(e,t){return{type:"alt",left:e,right:t}}createAsk(e){return{type:"ask",input:e}}createBoundAggregate(e,t,r,n,a){let i=this.createAggregateExpression(t,r,n,a);return i.variable=e,i}createBgp(e){return{type:"bgp",patterns:e}}createConstruct(e,t){return{type:"construct",input:e,template:t}}createDescribe(e,t){return{type:"describe",input:e,terms:t}}createDistinct(e){return{type:"distinct",input:e}}createExtend(e,t,r){return{type:"extend",input:e,variable:t,expression:r}}createFrom(e,t,r){return{type:"from",input:e,default:t,named:r}}createFilter(e,t){return{type:"filter",input:e,expression:t}}createGraph(e,t){return{type:"graph",input:e,name:t}}createGroup(e,t,r){return{type:"group",input:e,variables:t,aggregates:r}}createInv(e){return{type:"inv",path:e}}createJoin(e,t){return{type:"join",left:e,right:t}}createLeftJoin(e,t,r){return r?{type:"leftjoin",left:e,right:t,expression:r}:{type:"leftjoin",left:e,right:t}}createLink(e){return{type:"link",iri:e}}createMinus(e,t){return{type:"minus",left:e,right:t}}createNps(e){return{type:"nps",iris:e}}createOneOrMorePath(e){return{type:"OneOrMorePath",path:e}}createOrderBy(e,t){return{type:"orderby",input:e,expressions:t}}createPath(e,t,r,n){return n?{type:"path",subject:e,predicate:t,object:r,graph:n}:{type:"path",subject:e,predicate:t,object:r,graph:this.dataFactory.defaultGraph()}}createPattern(e,t,r,n){let a=this.dataFactory.quad(e,t,r,n);return a.type="pattern",a}createProject(e,t){return{type:"project",input:e,variables:t}}createReduced(e){return{type:"reduced",input:e}}createSeq(e,t){return{type:"seq",left:e,right:t}}createService(e,t,r){return{type:"service",input:e,name:t,silent:r}}createSlice(e,t,r){return void 0===t&&(t=0),void 0!==r?{type:"slice",input:e,start:t,length:r}:{type:"slice",input:e,start:t}}createUnion(e,t){return{type:"union",left:e,right:t}}createValues(e,t){return{type:"values",variables:e,bindings:t}}createZeroOrMorePath(e){return{type:"ZeroOrMorePath",path:e}}createZeroOrOnePath(e){return{type:"ZeroOrOnePath",path:e}}createAggregateExpression(e,t,r,n){return n?{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,separator:n,distinct:r}:{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,distinct:r}}createExistenceExpression(e,t){return{type:"expression",expressionType:"existence",not:e,input:t}}createNamedExpression(e,t){return{type:"expression",expressionType:"named",name:e,args:t}}createOperatorExpression(e,t){return{type:"expression",expressionType:"operator",operator:e,args:t}}createTermExpression(e){return{type:"expression",expressionType:"term",term:e}}createWildcardExpression(){return{type:"expression",expressionType:"wildcard",wildcard:new i}}createTerm(e){return a.stringToTerm(e,this.dataFactory)}createCompositeUpdate(e){return{type:"compositeupdate",updates:e}}createDeleteInsert(e,t,r){const n={type:"deleteinsert"};return e&&(n.delete=e),t&&(n.insert=t),r&&(n.where=r),n}createLoad(e,t,r){const n={type:"load",source:e};return t&&(n.destination=t),this.addSilent(n,r)}createClear(e,t){return this.addSilent({type:"clear",source:e},t)}createCreate(e,t){return this.addSilent({type:"create",source:e},t)}createDrop(e,t){return this.addSilent({type:"drop",source:e},t)}createAdd(e,t,r){return this.addSilent({type:"add",source:e,destination:t},r)}createMove(e,t,r){return this.addSilent({type:"move",source:e,destination:t},r)}createCopy(e,t,r){return this.addSilent({type:"copy",source:e,destination:t},r)}addSilent(e,t){return t&&(e.silent=t),e}}t.default=s},"970b":function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},9935:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0;class n{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}t.NamedNode=n},"9c67":function(e){e.exports=JSON.parse('{"@context":{"acl":"http://www.w3.org/ns/auth/acl#","app":"http://www.w3.org/ns/solid/app#","as":"https://www.w3.org/ns/activitystreams#","cert":"http://www.w3.org/ns/auth/cert#","dc":"http://purl.org/dc/elements/1.1/","dct":"http://purl.org/dc/terms/","foaf":"http://xmlns.com/foaf/0.1/","ldp":"http://www.w3.org/ns/ldp#","owl":"http://www.w3.org/2002/07/owl#","pim":"http://www.w3.org/ns/pim/space#","rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdfs":"http://www.w3.org/2000/01/rdf-schema#","schema":"http://schema.org/","sioc":"http://rdfs.org/sioc/ns#","solid":"http://www.w3.org/ns/solid/terms#","stat":"http://www.w3.org/ns/posix/stat#","ui":"http://www.w3.org/ns/ui#","vcard":"http://www.w3.org/2006/vcard/ns#","xsd":"http://www.w3.org/2001/XMLSchema#","accessControl":"acl:accessControl","accessTo":"acl:accessTo","accessToClass":"acl:accessToClass","agent":"acl:agent","agents":"acl:agent","agentClass":"acl:agentClass","agentClasses":"acl:agentClass","agentGroup":"acl:agentGroup","agentGroups":"acl:agentGroup","defaultAcl":"acl:default","defaultAclForNew":"acl:defaultForNew","delegates":"acl:delegates","mode":"acl:mode","modes":"acl:mode","origin":"acl:origin","origins":"acl:origin","actor":"as:actor","attachment":"as:attachment","attributedTo":"as:attributedTo","author":"as:author","bcc":"as:bcc","bto":"as:bto","cc":"as:cc","inReplyTo":"as:inReplyTo","object":"as:object","publicationDate":"as:published","subject":"as:subject","summary":"as:summary","target":"as:target","to":"as:to","abstract":"dc:abstract","abstracts":"dc:abstract","created":"dc:created","license":"dc:license","modified":"dc:modified","title":"dc:title","titles":"dc:title","account":"foaf:account","accounts":"foaf:account","age":"foaf:age","basedNear":"foaf:based_near","birthday":"foaf:birthday","blog":"foaf:weblog","depiction":"foaf:depiction","depicts":"foaf:depicts","email":"foaf:mbox","familyName":"foaf:familyName","firstName":"foaf:givenName","friend":"foaf:knows","friends":"foaf:knows","gender":"foaf:gender","givenName":"foaf:givenName","homepage":"foaf:homepage","image":"foaf:img","images":"foaf:img","interest":"foaf:topic_interest","interests":"foaf:topic_interest","knows":"foaf:knows","lastName":"foaf:familyName","logo":"foaf:logo","made":"foaf:made","maker":"foaf:maker","member":"foaf:member","name":"foaf:name","nick":"foaf:nick","page":"foaf:page","pages":"foaf:page","primaryTopic":"foaf:primaryTopic","primaryTopicOf":"foaf:primaryTopicOf","publication":"foaf:publications","publications":"foaf:publications","thumbnail":"foaf:thumbnail","thumbnails":"foaf:thumbnail","topic":"foaf:topic","topics":"foaf:topic","inbox":"ldp:inbox","inboxes":"ldp:inbox","storage":"pim:storage","preferences":"pim:preferencesFile","workspace":"pim:workspace","type":"rdf:type","types":"rdf:type","comment":"rdfs:comment","comments":"rdfs:comment","label":"rdfs:label","labels":"rdfs:label","seeAlso":"rdfs:seeAlso","definedBy":"rdfs:isDefinedBy","oidcIssuer":"solid:oidcIssuer","publicTypeIndex":"solid:publicTypeIndex","publicTypeIndexes":"solid:publicTypeIndex","privateTypeIndex":"solid:privateTypeIndex","privateTypeIndexes":"solid:privateTypeIndex"}}')},a22a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;class n{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}t.Variable=n},a34a:function(e,t,r){e.exports=r("96cf")},ab32:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.isStatement=s,t.isStore=o,t.isCollection=u,t.isRDFlibObject=c,t.isVariable=l,t.isTerm=f,t.isLiteral=d,t.isQuad=p,t.isNamedNode=h,t.isBlankNode=y,t.isSubject=v,t.isPredicate=m,t.isRDFObject=g,t.isGraph=b;var a=n(r("7037")),i=r("43f5");function s(e){return"object"===(0,a.default)(e)&&null!==e&&"subject"in e}function o(e){return"object"===(0,a.default)(e)&&null!==e&&"statements"in e}function u(e){return f(e)&&e.termType===i.CollectionTermType}function c(e){return e&&Object.prototype.hasOwnProperty.call(e,"termType")&&(e.termType===i.NamedNodeTermType||e.termType===i.VariableTermType||e.termType===i.BlankNodeTermType||e.termType===i.CollectionTermType||e.termType===i.LiteralTermType||e.termType===i.GraphTermType)}function l(e){return f(e)&&e.termType===i.VariableTermType}function f(e){return"object"===(0,a.default)(e)&&null!==e&&"termType"in e}function d(e){return e.termType===i.LiteralTermType}function p(e){return"object"===(0,a.default)(e)&&null!==e&&"subject"in e&&"predicate"in e&&"object"in e}function h(e){return f(e)&&"NamedNode"===e.termType}function y(e){return f(e)&&"termType"in e&&"BlankNode"===e.termType}function v(e){return f(e)&&(e.termType===i.NamedNodeTermType||e.termType===i.VariableTermType||e.termType===i.BlankNodeTermType)}function m(e){return f(e)&&(e.termType===i.NamedNodeTermType||e.termType===i.VariableTermType)}function g(e){return f(e)&&(e.termType===i.NamedNodeTermType||e.termType===i.VariableTermType||e.termType===i.BlankNodeTermType||e.termType===i.LiteralTermType)}function b(e){return f(e)&&(e.termType===i.NamedNodeTermType||e.termType===i.VariableTermType||e.termType===i.BlankNodeTermType||e.termType===i.DefaultGraphTermType)}},acac:function(e,t,r){"use strict";var n=r("e2cc"),a=r("f183").getWeakData,i=r("825a"),s=r("861d"),o=r("19aa"),u=r("2266"),c=r("b727"),l=r("5135"),f=r("69f3"),d=f.set,p=f.getterFor,h=c.find,y=c.findIndex,v=0,m=function(e){return e.frozen||(e.frozen=new g)},g=function(){this.entries=[]},b=function(e,t){return h(e.entries,(function(e){return e[0]===t}))};g.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var r=b(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=y(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,c){var f=e((function(e,n){o(e,f,t),d(e,{type:t,id:v++,frozen:void 0}),void 0!=n&&u(n,e[c],{that:e,AS_ENTRIES:r})})),h=p(t),y=function(e,t,r){var n=h(e),s=a(i(t),!0);return!0===s?m(n).set(t,r):s[n.id]=r,e};return n(f.prototype,{delete:function(e){var t=h(this);if(!s(e))return!1;var r=a(e);return!0===r?m(t)["delete"](e):r&&l(r,t.id)&&delete r[t.id]},has:function(e){var t=h(this);if(!s(e))return!1;var r=a(e);return!0===r?m(t).has(e):r&&l(r,t.id)}}),n(f.prototype,r?{get:function(e){var t=h(this);if(s(e)){var r=a(e);return!0===r?m(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return y(this,e,t)}}:{add:function(e){return y(this,e,!0)}}),f}}},ae15:function(e,t,r){"use strict";function n(e){return r("e2d8")(e,(e,t)=>e.equals(t))}function a(e,t){return e.filter(e=>e.termType===t)}function i(e){return a(e,"NamedNode")}function s(e){return a(e,"BlankNode")}function o(e){return a(e,"Literal")}function u(e){return a(e,"Variable")}function c(e){return a(e,"DefaultGraph")}function l(e){return a(e,"Quad")}Object.defineProperty(t,"__esModule",{value:!0}),t.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"],t.uniqTerms=n,t.getTermsOfType=a,t.getNamedNodes=i,t.getBlankNodes=s,t.getLiterals=o,t.getVariables=u,t.getDefaultGraphs=c,t.getQuads=l},b19c:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.indexedFormulaQuery=l,t.Query=void 0;var a=n(r("970b")),i=n(r("c947")),s=r("5c0f"),o=n(r("3c962")),u=r("3897"),c=function e(t,r){(0,a.default)(this,e),this.pat=new i.default,this.vars=[],this.name=t,this.id=r};function l(e,t,r,n){function a(e){var t,r="";for(t in e)e.hasOwnProperty(t)&&(r+="    "+t+" -> "+e[t]);return r}function i(e){var t,r="Bindings: ",n=e.length;for(t=0;t<n;t++)r+=a(e[t][0])+";\n\t";return r}function c(e,t,r,n){var a=r[e];if(void 0===a){if(e.isVar){var i=[];return i[e]=t,[[i,null]]}a=e}if(!a.complexType)return n.redirections[a]&&(a=n.redirections[a]),n.redirections[t]&&(t=n.redirections[t]),a.equals(t)||a.uri&&a.uri===s.defaultGraphURI?[[[],null]]:[];if(e instanceof Array)return t instanceof Array?l(e,t,r):[];throw new Error("query.js: oops - code not written yet")}function l(e,t,r,n){var a;if(e.length!==t.length)return[];if(!e.length)return[[[],null]];var i=c(e[0],t[0],r,n);if(0===i.length)return i;var s,o,u,f,d,p,h,y=[],v=i.length;for(s=0;s<v;s++){for(d in o=i[s][0],h=[],o)o.hasOwnProperty(d)&&(h[d]=o[d]);for(d in r)r.hasOwnProperty(d)&&(h[d]=r[d]);for(a=l(e.slice(1),t.slice(1),h,n),f=a.length,u=0;u<f;u++){for(d in p=a[u][0],o)o.hasOwnProperty(d)&&(p[d]=o[d]);y.push([p,null])}}return y}function f(e,t){var r=t[e];return void 0===r?e:r}function d(e,t){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function p(e,t){return this.trunkBindings=t,this.originalCallback=e,this.branches=[],this}function h(e,t){return this.count=0,this.success=!1,this.done=!1,this.callback=e,this.onDone=t,this}p.prototype.checkAllDone=function(){var e;for(e=0;e<this.branches.length;e++)if(!this.branches[e].done)return;o.default.debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},p.prototype.doCallBacks=function(e,t){var r;if(e<0)return this.originalCallback(t);for(r=0;r<this.branches[e].results.length;r++)this.doCallBacks(e-1,d(t,this.branches[e].results[r]))},h.prototype.reportMatch=function(e){this.callback(e),this.success=!0},h.prototype.reportDone=function(){this.done=!0,o.default.info("Mandatory query branch finished.***"),void 0!==this.onDone&&this.onDone()};var y=function(e){return this.count=0,this.done=!1,this.results=[],this.junction=e,e.branches.push(this),this};function v(e,t,r){var n,a,i,o;for(t.nvars=0,t.index=null,n=[t.subject,t.predicate,t.object,t.why],o=[e.subjectIndex,e.predicateIndex,e.objectIndex,e.whyIndex],i=0;i<4;i++){var u=n[i];if(u.uri&&u.uri===s.defaultGraphURI);else if(u.isVar&&void 0===r[u])t.nvars++;else{if(u=f(n[i],r),e.redirections[e.id(u)]&&(u=e.redirections[e.id(u)]),a=o[i][e.id(u)],!a)return t.index=[],!1;(null===t.index||t.index.length>a.length)&&(t.index=a)}}return null===t.index&&(t.index=e.statements),!0}function m(e,t){return e.nvars!==t.nvars?e.nvars-t.nvars:e.index.length-t.index.length}y.prototype.reportMatch=function(e){this.results.push(e)},y.prototype.reportDone=function(){o.default.debug("Optional branch finished - results.length = "+this.results.length),0===this.results.length&&(this.results.push({}),o.default.debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};var g=0,b=function e(r,n,i,s,c,l,f){o.default.debug("Match begins, Branch count now: "+f.count+" for "+f.pattern_debug);var d,h,v=n.statements;if(0===v.length){if(o.default.debug("FOUND MATCH WITH BINDINGS:"+a(i)),0===n.optional.length)f.reportMatch(i);else{o.default.debug("OPTIONAL: "+n.optional);var m,b=new p(t,i),w=[];for(m=0;m<n.optional.length;m++)w[m]=new y(b),w[m].pattern_debug=n.optional[m];for(m=0;m<n.optional.length;m++)w[m].count=w[m].count+1,e(r,n.optional[m],i,"",c,t,w[m])}return f.count--,void o.default.debug("Match ends -- success , Branch count now: "+f.count+" for "+f.pattern_debug)}var E=v.length;if(c){var N="match"+g++,x=function(t,a){var o=t.uri.split("#")[0];c.nowOrWhenFetched(o,void 0,(function(a,o,u){a||console.log("Error following link to <"+t.uri+"> in query: "+o),e(r,n,i,s,c,l,f)}))};for(h=0;h<E;h++){if(d=v[h],void 0!==i[d.subject]&&i[d.subject].uri&&c&&"unrequested"===c.getState((0,u.docpart)(i[d.subject].uri)))return void x(i[d.subject],N);if(void 0!==i[d.object]&&i[d.object].uri&&c&&"unrequested"===c.getState((0,u.docpart)(i[d.object].uri)))return void x(i[d.object],N)}}T(r,n,i,s,c,l,f)},w=function(e,t){var r,n,a=!0;for(r in e)e.hasOwnProperty(r)&&t[r]&&(n=t[r].test,n&&!n(e[r])&&(a=!1));return a},T=function(e,t,r,n,s,u,c){var f,d,p,h,y,g,T,E=t.statements,N=E.length;for(f=0;f<N;f++)T=E[f],v(e,T,r);E.sort(m),T=E[0];var x,_=e.formula();_.optional=t.optional,_.constraints=t.constraints,_.statements=E.slice(1),o.default.debug(n+"match2 searching "+T.index.length+" for "+T+"; bindings so far="+a(r));var O,I,R=T.index.length,A=0;for(x=0;x<R;x++)for(I=T.index[x],O=l([T.subject,T.predicate,T.object,T.why],[I.subject,I.predicate,I.object,I.why],r,e),o.default.info(n+" From first: "+O.length+": "+i(O)),p=O.length,d=0;d<p;d++)if(y=[],g=O[d][0],w(g,t.constraints)){for(h in g)g.hasOwnProperty(h)&&(y[h]=g[h]);for(h in r)r.hasOwnProperty(h)&&(y[h]=r[h]);c.count++,A++,b(e,_,y,n+"  ",s,u,c)}else o.default.debug("Branch count CS: "+c.count);c.count--,0===A&&o.default.debug("Match2 fails completely on "+T),o.default.debug("Match2 ends, Branch count: "+c.count+" for "+c.pattern_debug),0===c.count&&(o.default.debug("Branch finished."),c.reportDone())},E=this;o.default.debug("Query on "+this.statements.length);var N=new h(t,n);N.count++,e.sync?b(E,e.pat,e.pat.initBindings,"",r,t,N):setTimeout((function(){b(E,e.pat,e.pat.initBindings,"",r,t,N)}),0)}t.Query=c},b1e9:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.fromValue=b,t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),s=n(r("3c96")),o=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),f=n(r("43f6")),d=n(r("21b4")),p=n(r("085a")),h=n(r("33e3")),y=r("43f5"),v=r("ab32");function m(e){var t=g();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return"undefined"===typeof e||null===e||(0,v.isTerm)(e)?e:Array.isArray(e)?new w(e):p.default.fromValue(e)}var w=function(e){(0,o.default)(r,e);var t=m(r);function r(e){var n;return(0,a.default)(this,r),n=t.call(this,(f.default.nextId++).toString()),(0,l.default)((0,s.default)(n),"termType",y.CollectionTermType),(0,l.default)((0,s.default)(n),"classOrder",d.default.Collection),(0,l.default)((0,s.default)(n),"closed",!1),(0,l.default)((0,s.default)(n),"compareTerm",f.default.prototype.compareTerm),(0,l.default)((0,s.default)(n),"elements",[]),(0,l.default)((0,s.default)(n),"isVar",0),e&&e.length>0&&e.forEach((function(e){n.elements.push(b(e))})),n}return(0,i.default)(r,[{key:"append",value:function(e){return this.elements.push(e)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(e){var t=this.elements.map((function(t){return t.substitute(e)}));return new r(t)}},{key:"toNT",value:function(){return r.toNT(this)}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(e){return this.elements.unshift(e)}},{key:"id",get:function(){return this.value},set:function(e){this.value=e}}],[{key:"toNT",value:function(e){return f.default.NTAnonymousNodePrefix+e.id}}]),r}(h.default);t.default=w,(0,l.default)(w,"termType",y.CollectionTermType)},b474:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("ef3c")),a=r("f947");function i(e){return e&&e.__esModule?e:{default:e}}const s="SELECT ?subject ?predicate ?object WHERE {\n  ?subject a _:type;\n      <https://www.w3.org/ns/activitystreams#actor> _:actor;\n      <https://www.w3.org/ns/activitystreams#object> _:object.\n  ?subject ?predicate ?object.\n}\n",o=["?subject","?predicate","?object"];class u extends n.default{async*createResults(e,t,r){const n=(0,a.replaceVariables)(s,e);for await(const i of r.execute(n,t)){const e=o.map(e=>(0,a.termToString)(i.get(e)));yield"".concat(e.join(" "),".\n")}}async processResults(e,t,r){const n="DELETE {\n".concat(e.join(""),"}");return await r.executeUpdate(n,t).next(),[]}}t.default=u},b4c9:function(e,t,r){var n=r("f036").Parser,a=r("8be9"),i=r("51b7").Wildcard,{DataFactory:s}=r("c513");e.exports={Parser:function({prefixes:e,baseIRI:t,factory:r,sparqlStar:a,skipUngroupedVariableCheck:i}={}){var o={};for(var u in e||{})o[u]=e[u];var c=new n;return c.parse=function(){return n.base=t||"",n.prefixes=Object.create(o),n.factory=r||new s,n.sparqlStar=Boolean(a),n.skipUngroupedVariableCheck=Boolean(i),n.prototype.parse.apply(c,arguments)},c._resetBlanks=n._resetBlanks,c},Generator:a,Wildcard:i}},b7d2:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),s=n(r("3c96")),o=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),f=n(r("33e3")),d=r("43f5");function p(e){var t=h();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){(0,o.default)(r,e);var t=p(r);function r(){var e;return(0,a.default)(this,r),e=t.call(this,""),(0,l.default)((0,s.default)(e),"termType",d.EmptyTermType),e}return(0,i.default)(r,[{key:"toString",value:function(){return"()"}}]),r}(f.default);t.default=y},b80f:function(e,t,r){"use strict";var n=r("4ea4"),a=r("dbce");Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var i=a(r("cc85")),s=n(r("7971")),o=r("43f5");function u(e,t,r,n,a,u){r=r||e.value;var c=u||{};n=n||o.TurtleContentType;var l=null;try{var f=(0,s.default)(t);c.flags&&f.setFlags(c.flags);var d,p=t.statementsMatching(void 0,void 0,void 0,e);switch(f.suggestNamespaces(t.namespaces),f.setBase(r),n){case o.RDFXMLContentType:return l=f.statementsToXML(p),h(null,l);case o.N3ContentType:case o.N3LegacyContentType:return l=f.statementsToN3(p),h(null,l);case o.TurtleContentType:case o.TurtleLegacyContentType:return f.setFlags("si"),l=f.statementsToN3(p),h(null,l);case o.NTriplesContentType:return f.setFlags("deinprstux"),l=f.statementsToNTriples(p),h(null,l);case o.JSONLDContentType:f.setFlags("deinprstux"),d=f.statementsToNTriples(p),i.convertToJson(d,a);break;case o.NQuadsContentType:case o.NQuadsAltContentType:return f.setFlags("deinprstux q"),l=f.statementsToNTriples(p),h(null,l);default:throw new Error("Serialize: Content-type "+n+" not supported for data write.")}}catch(y){if(a)return a(y,void 0);throw y}function h(e,t){return a?void a(e,t):t}}},bd36:function(e,t,r){"use strict";function n(e,t){t=t||"";const r=t.indexOf("#");if(r>0&&(t=t.substr(0,r)),!e.length){if(t.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);return t}if(e.startsWith("?")){const r=t.indexOf("?");return r>0&&(t=t.substr(0,r)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){const t=e.indexOf(":");if(t<0)throw new Error(`Found invalid relative IRI '${e}' for a missing baseIRI`);return i(e,t)}const n=e.indexOf(":");if(n>=0)return i(e,n);const s=t.indexOf(":");if(s<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);const o=t.substr(0,s+1);if(0===e.indexOf("//"))return o+i(e,n);let u;if(t.indexOf("//",s)===s+1){if(u=t.indexOf("/",s+3),u<0)return t.length>s+3?t+"/"+i(e,n):o+i(e,n)}else if(u=t.indexOf("/",s+1),u<0)return o+i(e,n);if(0===e.indexOf("/"))return t.substr(0,u)+a(e);let c=t.substr(u);const l=c.lastIndexOf("/");return l>=0&&l<c.length-1&&(c=c.substr(0,l+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=c+e,e=a(e),t.substr(0,u)+e}function a(e){const t=[];let r=0;while(r<e.length)switch(e[r]){case"/":if("."===e[r+1])if("."===e[r+2]){if(!s(e[r+3])){t.push([]),r++;break}t.pop(),e[r+3]||t.push([]),r+=3}else{if(!s(e[r+2])){t.push([]),r++;break}e[r+2]||t.push([]),r+=2}else t.push([]),r++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(r)),r=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[r]),r++;break}return"/"+t.map(e=>e.join("")).join("/")}function i(e,t){let r=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(r=t+3):"/"===e[0]&&"/"===e[1]&&(r=2);const n=e.indexOf("/",r);if(n<0)return e;const i=e.substr(0,n),s=e.substr(n);return i+a(s)}function s(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=n,t.removeDotSegments=a,t.removeDotSegmentsOfPath=i},bdfe:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b"),a=i(r("e88a"));function i(e){return e&&e.__esModule?e:{default:e}}class s{constructor(e){this._paths=e}handle({settings:e}){return t=>new n.PathFactory({handlers:{...n.defaultHandlers},resolvers:[new a.default(this._paths,t)]}).create(e,{})}}t.default=s},c1dd:function(e,t){function r(e,t){for(var r in e)t[r]=e[r]}function n(e,t){var n=e.prototype;if(!(n instanceof t)){function a(){}a.prototype=t.prototype,a=new a,r(n,a),e.prototype=n=a}n.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),n.constructor=e)}var a="http://www.w3.org/1999/xhtml",i={},s=i.ELEMENT_NODE=1,o=i.ATTRIBUTE_NODE=2,u=i.TEXT_NODE=3,c=i.CDATA_SECTION_NODE=4,l=i.ENTITY_REFERENCE_NODE=5,f=i.ENTITY_NODE=6,d=i.PROCESSING_INSTRUCTION_NODE=7,p=i.COMMENT_NODE=8,h=i.DOCUMENT_NODE=9,y=i.DOCUMENT_TYPE_NODE=10,v=i.DOCUMENT_FRAGMENT_NODE=11,m=i.NOTATION_NODE=12,g={},b={},w=(g.INDEX_SIZE_ERR=(b[1]="Index size error",1),g.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2),g.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3)),T=(g.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),g.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),g.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),g.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7),g.NOT_FOUND_ERR=(b[8]="Not found",8)),E=(g.NOT_SUPPORTED_ERR=(b[9]="Not supported",9),g.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10));g.INVALID_STATE_ERR=(b[11]="Invalid state",11),g.SYNTAX_ERR=(b[12]="Syntax error",12),g.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),g.NAMESPACE_ERR=(b[14]="Invalid namespace",14),g.INVALID_ACCESS_ERR=(b[15]="Invalid access",15);function N(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,b[e]),this.message=b[e],Error.captureStackTrace&&Error.captureStackTrace(this,N);return r.code=e,t&&(this.message=this.message+": "+t),r}function x(){}function _(e,t){this._node=e,this._refresh=t,O(this)}function O(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);se(e,"length",n.length),r(n,e),e._inc=t}}function I(){}function R(e,t){var r=e.length;while(r--)if(e[r]===t)return r}function A(e,t,r,n){if(n?t[R(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var a=e.ownerDocument;a&&(n&&L(a,e,n),P(a,e,r))}}function C(e,t,r){var n=R(t,r);if(!(n>=0))throw N(T,new Error(e.tagName+"@"+r));var a=t.length-1;while(n<a)t[n]=t[++n];if(t.length=a,e){var i=e.ownerDocument;i&&(L(i,e,r),r.ownerElement=null)}}function S(e){if(this._features={},e)for(var t in e)this._features=e[t]}function D(){}function k(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function j(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(j(e,t))return!0}while(e=e.nextSibling)}function F(){}function P(e,t,r){e&&e._inc++;var n=r.namespaceURI;"http://www.w3.org/2000/xmlns/"==n&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function L(e,t,r,n){e&&e._inc++;var a=r.namespaceURI;"http://www.w3.org/2000/xmlns/"==a&&delete t._nsMap[r.prefix?r.localName:""]}function U(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{var a=t.firstChild,i=0;while(a)n[i++]=a,a=a.nextSibling;n.length=i}}}function M(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,U(e.ownerDocument,e),t}function V(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===v){var a=t.firstChild;if(null==a)return t;var i=t.lastChild}else a=i=t;var s=r?r.previousSibling:e.lastChild;a.previousSibling=s,i.nextSibling=r,s?s.nextSibling=a:e.firstChild=a,null==r?e.lastChild=i:r.previousSibling=i;do{a.parentNode=e}while(a!==i&&(a=a.nextSibling));return U(e.ownerDocument||e,e),t.nodeType==v&&(t.firstChild=t.lastChild=null),t}function q(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t);n=e.lastChild}n=e.lastChild;return t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,U(e.ownerDocument,e,t),t}function B(){this._nsMap={}}function $(){}function G(){}function H(){}function X(){}function Q(){}function z(){}function W(){}function J(){}function Y(){}function K(){}function Z(){}function ee(){}function te(e,t){var r=[],n=9==this.nodeType&&this.documentElement||this,a=n.prefix,i=n.namespaceURI;if(i&&null==a){a=n.lookupPrefix(i);if(null==a)var s=[{namespace:i,prefix:null}]}return ne(this,r,e,t,s),r.join("")}function re(e,t,r){var n=e.prefix||"",a=e.namespaceURI;if(!n&&!a)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===a||"http://www.w3.org/2000/xmlns/"==a)return!1;var i=r.length;while(i--){var s=r[i];if(s.prefix==n)return s.namespace!=a}return!0}function ne(e,t,r,n,i){if(n){if(e=n(e),!e)return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case s:i||(i=[]);i.length;var f=e.attributes,m=f.length,g=e.firstChild,b=e.tagName;r=a===e.namespaceURI||r,t.push("<",b);for(var w=0;w<m;w++){var T=f.item(w);"xmlns"==T.prefix?i.push({prefix:T.localName,namespace:T.value}):"xmlns"==T.nodeName&&i.push({prefix:"",namespace:T.value})}for(w=0;w<m;w++){T=f.item(w);if(re(T,r,i)){var E=T.prefix||"",N=T.namespaceURI,x=E?" xmlns:"+E:" xmlns";t.push(x,'="',N,'"'),i.push({prefix:E,namespace:N})}ne(T,t,r,n,i)}if(re(e,r,i)){E=e.prefix||"",N=e.namespaceURI,x=E?" xmlns:"+E:" xmlns";t.push(x,'="',N,'"'),i.push({prefix:E,namespace:N})}if(g||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(b)){if(t.push(">"),r&&/^script$/i.test(b))while(g)g.data?t.push(g.data):ne(g,t,r,n,i),g=g.nextSibling;else while(g)ne(g,t,r,n,i),g=g.nextSibling;t.push("</",b,">")}else t.push("/>");return;case h:case v:g=e.firstChild;while(g)ne(g,t,r,n,i),g=g.nextSibling;return;case o:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,k),'"');case u:return t.push(e.data.replace(/[<&]/g,k));case c:return t.push("<![CDATA[",e.data,"]]>");case p:return t.push("\x3c!--",e.data,"--\x3e");case y:var _=e.publicId,O=e.systemId;if(t.push("<!DOCTYPE ",e.name),_)t.push(' PUBLIC "',_),O&&"."!=O&&t.push('" "',O),t.push('">');else if(O&&"."!=O)t.push(' SYSTEM "',O,'">');else{var I=e.internalSubset;I&&t.push(" [",I,"]"),t.push(">")}return;case d:return t.push("<?",e.target," ",e.data,"?>");case l:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ae(e,t,r){var n;switch(t.nodeType){case s:n=t.cloneNode(!1),n.ownerDocument=e;case v:break;case o:r=!0;break}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r){var a=t.firstChild;while(a)n.appendChild(ae(e,a,r)),a=a.nextSibling}return n}function ie(e,t,r){var n=new t.constructor;for(var a in t){var i=t[a];"object"!=typeof i&&i!=n[a]&&(n[a]=i)}switch(t.childNodes&&(n.childNodes=new x),n.ownerDocument=e,n.nodeType){case s:var u=t.attributes,c=n.attributes=new I,l=u.length;c._ownerElement=n;for(var f=0;f<l;f++)n.setAttributeNode(ie(e,u.item(f),!0));break;case o:r=!0}if(r){var d=t.firstChild;while(d)n.appendChild(ie(e,d,r)),d=d.nextSibling}return n}function se(e,t,r){e[t]=r}N.prototype=Error.prototype,r(g,N),x.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)ne(this[n],r,e,t);return r.join("")}},_.prototype.item=function(e){return O(this),this[e]},n(_,x),I.prototype={length:0,item:x.prototype.item,getNamedItem:function(e){var t=this.length;while(t--){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new N(E);var r=this.getNamedItem(e.nodeName);return A(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new N(E);return t=this.getNamedItemNS(e.namespaceURI,e.localName),A(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return C(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return C(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){var r=this.length;while(r--){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},S.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];return!(!r||t&&!(t in r))},createDocument:function(e,t,r){var n=new F;if(n.implementation=this,n.childNodes=new x,n.doctype=r,r&&n.appendChild(r),t){var a=n.createElementNS(e,t);n.appendChild(a)}return n},createDocumentType:function(e,t,r){var n=new z;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}},D.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return V(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return M(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ie(this.ownerDocument||this,this,e)},normalize:function(){var e=this.firstChild;while(e){var t=e.nextSibling;t&&t.nodeType==u&&e.nodeType==u?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){var t=this;while(t){var r=t._nsMap;if(r)for(var n in r)if(r[n]==e)return n;t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){var t=this;while(t){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==o?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return null==t}},r(i,D),r(i,D.prototype),F.prototype={nodeName:"#document",nodeType:h,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==v){var r=e.firstChild;while(r){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return null==this.documentElement&&e.nodeType==s&&(this.documentElement=e),V(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),M(this,e)},importNode:function(e,t){return ae(this,e,t)},getElementById:function(e){var t=null;return j(this.documentElement,(function(r){if(r.nodeType==s&&r.getAttribute("id")==e)return t=r,!0})),t},getElementsByClassName:function(e){const t=new RegExp(`(^|\\s)${e}(\\s|$)`);return new _(this,e=>{var r=[];return j(e.documentElement,n=>{n!==e&&n.nodeType==s&&t.test(n.getAttribute("class"))&&r.push(n)}),r})},createElement:function(e){var t=new B;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new x;var r=t.attributes=new I;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new K;return e.ownerDocument=this,e.childNodes=new x,e},createTextNode:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new X;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Q;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new Z;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new $;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Y;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new B,n=t.split(":"),a=r.attributes=new I;return r.childNodes=new x,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,a._ownerElement=r,r},createAttributeNS:function(e,t){var r=new $,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},n(F,D),B.prototype={nodeType:s,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===v?this.insertBefore(e,null):q(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new _(this,(function(t){var r=[];return j(t,(function(n){n===t||n.nodeType!=s||"*"!==e&&n.tagName!=e||r.push(n)})),r}))},getElementsByTagNameNS:function(e,t){return new _(this,(function(r){var n=[];return j(r,(function(a){a===r||a.nodeType!==s||"*"!==e&&a.namespaceURI!==e||"*"!==t&&a.localName!=t||n.push(a)})),n}))}},F.prototype.getElementsByTagName=B.prototype.getElementsByTagName,F.prototype.getElementsByTagNameNS=B.prototype.getElementsByTagNameNS,n(B,D),$.prototype.nodeType=o,n($,D),G.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(b[w])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),a=this.data.substring(e+t);r=n+r+a,this.nodeValue=this.data=r,this.length=r.length}},n(G,D),H.prototype={nodeName:"#text",nodeType:u,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},n(H,G),X.prototype={nodeName:"#comment",nodeType:p},n(X,G),Q.prototype={nodeName:"#cdata-section",nodeType:c},n(Q,G),z.prototype.nodeType=y,n(z,D),W.prototype.nodeType=m,n(W,D),J.prototype.nodeType=f,n(J,D),Y.prototype.nodeType=l,n(Y,D),K.prototype.nodeName="#document-fragment",K.prototype.nodeType=v,n(K,D),Z.prototype.nodeType=d,n(Z,D),ee.prototype.serializeToString=function(e,t,r){return te.call(e,t,r)},D.prototype.toString=te;try{if(Object.defineProperty){function oe(e){switch(e.nodeType){case s:case v:var t=[];e=e.firstChild;while(e)7!==e.nodeType&&8!==e.nodeType&&t.push(oe(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(_.prototype,"length",{get:function(){return O(this),this.$$length}}),Object.defineProperty(D.prototype,"textContent",{get:function(){return oe(this)},set:function(e){switch(this.nodeType){case s:case v:while(this.firstChild)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),se=function(e,t,r){e["$$"+t]=r}}}catch(ue){}t.Node=D,t.DOMImplementation=S,t.XMLSerializer=ee},c2f2:function(e,t,r){"use strict";var n=r("dbce");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(r("3897"));function i(e){var t={ns:{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"},nodeType:{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12}};this.frameFactory=function(e,r,n){return{NODE:1,ARC:2,parent:r,parser:e,store:e.store,element:n,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(e,t){t=a.join(t,this.base),this.node=this.store.sym(t),this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var e=this.store.sym(a.join("#"+this.parent.rdfid,this.base));this.store.add(e,this.store.sym(t.ns.RDF+"type"),this.store.sym(t.ns.RDF+"Statement"),this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(e){e===t.ns.RDF+"li"&&(e=t.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,e)},addLiteral:function(e){this.parent.datatype&&this.parent.datatype!==t.ns.RDF+"langString"?this.node=this.store.literal(e,this.store.sym(this.parent.datatype)):this.node=this.store.literal(e,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}},this.getAttributeNodeNS=function(e,t,r){var n=null;if(e.getAttributeNodeNS)n=e.getAttributeNodeNS(t,r);else for(var a,i,s=e.attributes,o=0;o<s.length;++o)if(a=s[o],a.namespaceURI===t&&(i=a.prefix?a.prefix+":"+r:r,i===a.nodeName)){n=a;break}return n},this.store=e,this.bnodes={},this.why=null,this.reify=!1,this.parse=function(e,r,n){var a,i=e.childNodes;if(this.cleanParser(),e.nodeType===t.nodeType.DOCUMENT){for(var s=0;s<i.length;s++)if(i[s].nodeType===t.nodeType.ELEMENT){a=i[s];break}}else{if(e.nodeType!==t.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+r+". Halting. ");a=e}this.why=n;var o=this.frameFactory(this);return this.base=r,o.base=r,o.lang=null,this.parseDOM(this.buildFrame(o,a)),!0},this.parseDOM=function(e){var r,n=function(e){var t="";if(null==e.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base);return e.namespaceURI&&(t+=e.namespaceURI),e.localName?t+=e.localName:e.nodeName&&(e.nodeName.indexOf(":")>=0?t+=e.nodeName.split(":")[1]:t+=e.nodeName),t}.bind(this),i=!0;while(e.parent){var s=e.element,o=s.attributes;if(s.nodeType===t.nodeType.TEXT||s.nodeType===t.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(t.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(s.nodeValue);else if(n(s)!==t.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),e=this.buildFrame(e,e.element),e.parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(n(s)),this.reify&&(r=this.getAttributeNodeNS(s,t.ns.RDF,"ID"),r&&(e.rdfid=r.nodeValue,s.removeAttributeNode(r)));var u=this.getAttributeNodeNS(s,t.ns.RDF,"parseType"),c=this.getAttributeNodeNS(s,t.ns.RDF,"datatype");if(c&&(e.datatype=c.nodeValue,s.removeAttributeNode(c)),u){var l=u.nodeValue;"Literal"===l?(e.datatype=t.ns.RDF+"XMLLiteral",e=this.buildFrame(e),e.addLiteral(s.childNodes),i=!1):"Resource"===l?(e=this.buildFrame(e,e.element),e.parent.element=null,e.addBNode()):"Collection"===l&&(e=this.buildFrame(e,e.element),e.parent.element=null,e.addCollection()),s.removeAttributeNode(u)}if(0!==o.length){var f=this.getAttributeNodeNS(s,t.ns.RDF,"resource"),d=this.getAttributeNodeNS(s,t.ns.RDF,"nodeID");e=this.buildFrame(e),f?(e.addNode(f.nodeValue),s.removeAttributeNode(f)):d?(e.addBNode(d.nodeValue),s.removeAttributeNode(d)):e.addBNode();for(var p=o.length-1;p>=0;p--){var h=this.buildFrame(e);h.addArc(n(o[p])),n(o[p])===t.ns.RDF+"type"?this.buildFrame(h).addNode(o[p].nodeValue):this.buildFrame(h).addLiteral(o[p].nodeValue)}}else 0===s.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var y=this.getAttributeNodeNS(s,t.ns.RDF,"about");if(r=this.getAttributeNodeNS(s,t.ns.RDF,"ID"),y&&r)throw new Error("RDFParser: "+s.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!y&&r)e.addNode("#"+r.nodeValue),s.removeAttributeNode(r);else if(null==y&&null==r){var v=this.getAttributeNodeNS(s,t.ns.RDF,"nodeID");v?(e.addBNode(v.nodeValue),s.removeAttributeNode(v)):e.addBNode()}else e.addNode(y.nodeValue),s.removeAttributeNode(y);var m=this.getAttributeNodeNS(s,t.ns.RDF,"type");t.ns.RDF+"Description"!==n(s)&&(m={nodeValue:n(s)}),null!=m&&(this.store.add(e.node,this.store.sym(t.ns.RDF+"type"),this.store.sym(a.join(m.nodeValue,e.base)),this.why),m.nodeName&&s.removeAttributeNode(m));for(var g=o.length-1;g>=0;g--)this.store.add(e.node,this.store.sym(n(o[g])),this.store.literal(o[g].nodeValue,e.lang),this.why)}s=e.element;while(e.parent){var b=e;while(null==s)e=e.parent,s=e.element;var w=s.childNodes&&s.childNodes[e.lastChild];if(w&&i){if((w.nodeType===t.nodeType.ELEMENT||w.nodeType===t.nodeType.TEXT||w.nodeType===t.nodeType.CDATA_SECTION)&&(w.nodeType!==t.nodeType.TEXT&&w.nodeType!==t.nodeType.CDATA_SECTION||1===s.childNodes.length)){e.lastChild++,e=this.buildFrame(b,s.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;s=e.element,i=!0}}}},this.cleanParser=function(){this.bnodes={},this.why=null},this.buildFrame=function(e,r){var n=this.frameFactory(this,e,r);if(e&&(n.base=e.base,n.lang=e.lang),!r||r.nodeType===t.nodeType.TEXT||r.nodeType===t.nodeType.CDATA_SECTION)return n;var i=r.attributes,s=r.getAttributeNode("xml:base");null!=s&&(n.base=s.nodeValue,r.removeAttribute("xml:base"));var o=r.getAttributeNode("xml:lang");null!=o&&(n.lang=o.nodeValue,r.removeAttribute("xml:lang"));for(var u=i.length-1;u>=0;u--)if("xml"===i[u].nodeName.substr(0,3)){if("xmlns:"===i[u].name.slice(0,6)){var c=i[u].nodeValue;this.base&&(c=a.join(c,this.base)),this.store.setPrefixForURI(i[u].name.slice(6),c)}r.removeAttributeNode(i[u])}return n}}},c513:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r("7096"),t),a(r("13f1"),t),a(r("3e6b"),t),a(r("8ce0"),t),a(r("9935"),t),a(r("8026"),t),a(r("a22a"),t)},c749:function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("970b")),s=a(r("5bc3")),o=a(r("9523")),u=a(r("33e3")),c=r("43f5"),l=n(r("03fd")),f=new l.default,d=function(){function e(t,r,n,a){(0,i.default)(this,e),(0,o.default)(this,"subject",void 0),(0,o.default)(this,"predicate",void 0),(0,o.default)(this,"object",void 0),(0,o.default)(this,"graph",void 0),this.subject=u.default.fromValue(t),this.predicate=u.default.fromValue(r),this.object=u.default.fromValue(n),this.graph=void 0==a?f:u.default.fromValue(a)}return(0,s.default)(e,[{key:"equals",value:function(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}},{key:"substitute",value:function(t){var r=new e(this.subject.substitute(t),this.predicate.substitute(t),this.object.substitute(t),(0,l.isDefaultGraph)(this.graph)?this.graph:this.graph.substitute(t));return console.log("@@@ statement substitute:"+r),r}},{key:"toCanonical",value:function(){var e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==c.DefaultGraphTermType&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toNQ",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),(0,l.isDefaultGraph)(this.graph)?"":this.graph.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}},{key:"why",get:function(){return this.graph},set:function(e){this.graph=e}}]),e}();t.default=d},c947:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"defaultGraphURI",{enumerable:!0,get:function(){return d.defaultGraphURI}}),t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),s=n(r("3c96")),o=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),f=n(r("21b4")),d=r("8fd3"),p=n(r("f7ae")),h=r("1079"),y=r("4b68"),v=r("ab32"),m=n(r("5125")),g=n(r("089a")),b=r("b19c"),w=r("43f5"),T=n(r("606c")),E=r("851f"),N=n(r("43f6")),x=n(r("03fd")),_=n(r("085a"));function O(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=I(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function I(e,t){if(e){if("string"===typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e){var t=C();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var S="http://www.w3.org/2002/07/owl#";function D(e,t,r,n){var a=e.any(t,r,void 0);return!!a&&(e.equate(a,n),!0)}function k(e,t,r,n){var a=e.any(void 0,r,n);return!!a&&(e.equate(a,t),!0)}function j(e,t,r,n,a){e.typeCallback&&e.typeCallback(e,n,a);var i=e.classActions[e.id(n)],s=!1;if(i)for(var o=0;o<i.length;o++)s=s||i[o](e,t,r,n,a);return s}var F=function(e){(0,o.default)(r,e);var t=A(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.default)(this,r),n=t.call(this,void 0,void 0,void 0,void 0,i),(0,l.default)((0,s.default)(n),"updater",void 0),(0,l.default)((0,s.default)(n),"namespaces",void 0),(0,l.default)((0,s.default)(n),"classActions",void 0),(0,l.default)((0,s.default)(n),"propertyActions",void 0),(0,l.default)((0,s.default)(n),"redirections",void 0),(0,l.default)((0,s.default)(n),"aliases",void 0),(0,l.default)((0,s.default)(n),"HTTPRedirects",void 0),(0,l.default)((0,s.default)(n),"subjectIndex",void 0),(0,l.default)((0,s.default)(n),"predicateIndex",void 0),(0,l.default)((0,s.default)(n),"objectIndex",void 0),(0,l.default)((0,s.default)(n),"whyIndex",void 0),(0,l.default)((0,s.default)(n),"index",void 0),(0,l.default)((0,s.default)(n),"features",void 0),(0,l.default)((0,s.default)(n),"_universalVariables",void 0),(0,l.default)((0,s.default)(n),"_existentialVariables",void 0),(0,l.default)((0,s.default)(n),"rdfArrayRemove",void 0),(0,l.default)((0,s.default)(n),"dataCallbacks",void 0),n.propertyActions={},n.classActions={},n.redirections=[],n.aliases=[],n.HTTPRedirects=[],n.subjectIndex=[],n.predicateIndex=[],n.objectIndex=[],n.whyIndex=[],n.index=[n.subjectIndex,n.predicateIndex,n.objectIndex,n.whyIndex],n.namespaces={},n.features=e||["sameAs","InverseFunctionalProperty","FunctionalProperty"],n.rdfArrayRemove=i.rdfArrayRemove||y.RDFArrayRemove,i.dataCallback&&(n.dataCallbacks=[i.dataCallback]),n.initPropertyActions(n.features),n}return(0,i.default)(r,[{key:"substitute",value:function(e){var t=this.statements.map((function(t){return t.substitute(e)})),n=new r;return n.add(t),n}},{key:"addDataCallback",value:function(e){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(e)}},{key:"applyPatch",value:function(e,t,r){var n,a=this,i=null;function s(s){if(e["delete"]){n=e["delete"],i&&(n=n.substitute(i)),n=n.statements;var o=[],u=n.map((function(e){var r=a.statementsMatching(e.subject,e.predicate,e.object,t);return 0===r.length?(o.push(e),null):r[0]}));if(o.length)return r("Could not find to delete: "+o.join("\n or "));u.map((function(e){a.remove(e)}))}e["insert"]&&(n=e["insert"],i&&(n=n.substitute(i)),n=n.statements,n.map((function(e){e.graph=t,a.add(e.subject,e.predicate,e.object,e.graph)}))),s()}if(e.where){var o=new b.Query("patch");o.pat=e.where,o.pat.statements.map((function(e){e.graph=(0,E.namedNode)(t.value)})),o.sync=!0;var u=[];a.query(o,(function(e){u.push(e)}),a.fetcher,(function(){return 0===u.length?r("No match found to be patched:"+e.where):u.length>1?r("Patch ambiguous. No patch done."):(i=u[0],void s(r))}))}else s(r)}},{key:"declareExistential",value:function(e){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(e),e}},{key:"initPropertyActions",value:function(e){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[j],(0,h.ArrayIndexOf)(e,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(S,"sameAs")))]=[function(e,t,r,n,a){return e.equate(t,n),!0}]),(0,h.ArrayIndexOf)(e,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(S,"InverseFunctionalProperty")))]=[function(e,t,r,n,a){return e.newPropertyAction(t,k)}]),(0,h.ArrayIndexOf)(e,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(S,"FunctionalProperty")))]=[function(e,t,r,n,a){return e.newPropertyAction(t,D)}])}},{key:"addStatement",value:function(e){return this.add(e.subject,e.predicate,e.object,e.graph),this.statements.length}},{key:"add",value:function(e,t,r,n){var a,i,s;if(1===arguments.length){if(e instanceof Array)for(a=0;a<e.length;a++)this.add(e[a]);else(0,v.isQuad)(e)?this.add(e.subject,e.predicate,e.object,e.graph):(0,v.isStore)(e)&&this.add(e.statements);return this}n||(n=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),"string"==typeof e&&(e=this.rdfFactory.namedNode(e)),t=m.default.fromValue(t);var o=m.default.fromValue(r);if(n=m.default.fromValue(n),!(0,v.isSubject)(e))throw new Error("Subject is not a subject type");if(!(0,v.isPredicate)(t))throw new Error("Predicate ".concat(t," is not a predicate type"));if(!(0,v.isRDFlibObject)(o))throw new Error("Object ".concat(o," is not an object type"));if(!(0,v.isGraph)(n))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,t,n);var u=this.id(this.canon(t));i=this.propertyActions[u];var c=!1;if(i)for(a=0;a<i.length;a++)c=c||i[a](this,e,t,o,n);if(this.holds(e,t,o,n))return null;var l=[this.id(this.canon(e)),u,this.id(this.canon(o)),this.id(this.canon(n))];for(s=this.rdfFactory.quad(e,t,o,n),a=0;a<4;a++){var f=this.index[a],d=l[a];f[d]||(f[d]=[]),f[d].push(s)}if(this.statements.push(s),this.dataCallbacks){var p,h=O(this.dataCallbacks);try{for(h.s();!(p=h.n()).done;){var y=p.value;y(s)}}catch(g){h.e(g)}finally{h.f()}}return s}},{key:"canon",value:function(e){if(!e)return e;var t=this.redirections[this.id(e)];if(t)return t;switch(e.termType){case w.BlankNodeTermType:return new N.default(e.value);case w.CollectionTermType:return e;case w.DefaultGraphTermType:return new x.default;case w.EmptyTermType:return e;case w.GraphTermType:return e;case w.LiteralTermType:return new _.default(e.value,e.language,e.datatype);case w.NamedNodeTermType:return new T.default(e.value);case w.VariableTermType:return new g.default(e.value);default:throw new Error("Term Type not recognized for canonization: ".concat(e.termType))}}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var e=0;e<4;e++){var t=this.index[e];for(var r in t)t.hasOwnProperty(r)&&this.checkStatementList(t[r],e)}}},{key:"checkStatementList",value:function(e,t){void 0===t&&(t=0);for(var r,n=["subject","predicate","object","why"],a=" found in "+n[t]+" index.",i=0;i<e.length;i++){r=e[i];for(var s=[r.subject,r.predicate,r.object,r.graph],o=function(e,t){for(var r=0;r<e.length;r++)if(e[r].subject.equals(t.subject)&&e[r].predicate.equals(t.predicate)&&e[r].object.equals(t.object)&&e[r].why.equals(t.graph))return!0},u=0;u<4;u++){var c=this.canon(s[u]),l=this.id(c);this.index[u][l]&&o(this.index[u][l],r)}if(!o(this.statements,r))throw new Error("Statement list does not statement "+r+"@"+r.graph+a)}}},{key:"close",value:function(){return this}},{key:"compareTerms",value:function(e,t){return Object.prototype.hasOwnProperty.call(e,"compareTerm")?e.compareTerm(t):f.default[e.termType]<f.default[t.termType]?-1:f.default[e.termType]>f.default[t.termType]?1:e.value<t.value?-1:e.value>t.value?1:0}},{key:"copyTo",value:function(e,t,r){r||(r=[]);var n=this.statementsMatching(e);-1!==(0,h.ArrayIndexOf)(r,"two-direction")&&n.concat(this.statementsMatching(void 0,void 0,e));for(var a=0;a<n.length;a++){var i=n[a];switch(i.object.termType){case"NamedNode":this.add(t,i.predicate,i.object);break;case"Literal":case"BlankNode":case"Collection":this.add(t,i.predicate,i.object.copy(this))}-1!==(0,h.ArrayIndexOf)(r,"delete")&&this.remove(i)}}},{key:"equate",value:function(e,t){var r=this.canon(e),n=this.canon(t),a=this.compareTerms(r,n);return!a||(a<0?this.replaceWith(n,r):this.replaceWith(r,n))}},{key:"formula",value:function(e){return new r(e)}},{key:"match",value:function(e,t,r,n){return this.statementsMatching(m.default.fromValue(e),m.default.fromValue(t),m.default.fromValue(r),m.default.fromValue(n))}},{key:"mentionsURI",value:function(e){var t="<"+e+">";return!!this.subjectIndex[t]||!!this.objectIndex[t]||!!this.predicateIndex[t]}},{key:"newExistential",value:function(e){if(!e)return this.bnode();var t=this.sym(e);return this.declareExistential(t)}},{key:"newPropertyAction",value:function(e,t){var r=this.id(e);this.propertyActions[r]||(this.propertyActions[r]=[]),this.propertyActions[r].push(t);for(var n=this.statementsMatching(void 0,e,void 0),a=!1,i=0;i<n.length;i++)a=a||t(this,n[i].subject,e,n[i].object);return a}},{key:"newUniversal",value:function(e){var t=this.sym(e);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(t),t}},{key:"variable",value:function(e){return new g.default(e)}},{key:"nextSymbol",value:function(e){for(var t=0;;t++){var r=e.value+"#n"+t;if(!this.mentionsURI(r))return this.sym(r)}}},{key:"query",value:function(e,t,r,n){return b.indexedFormulaQuery.call(this,e,t,r,n)}},{key:"querySync",value:function(e){var t=[];function r(e){t.push(e)}function n(){a=!0}var a=!1;if(e.sync=!0,b.indexedFormulaQuery.call(this,e,r,null,n),!a)throw new Error("Sync query should have called done function");return t}},{key:"remove",value:function(e){if(e instanceof Array){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}if((0,v.isStore)(e))return this.remove(e.statements);var r=this.statementsMatching(e.subject,e.predicate,e.object,e.graph);if(!r.length)throw new Error("Statement to be removed is not on store: "+e);return this.removeStatement(r[0]),this}},{key:"removeDocument",value:function(e){for(var t=this.statementsMatching(void 0,void 0,void 0,e).slice(),r=0;r<t.length;r++)this.removeStatement(t[r]);return this}},{key:"removeMany",value:function(e,t,r,n,a){for(var i=this.statementsMatching(e,t,r,n,!1),s=[],o=0;o<i.length;o++)s.push(i[o]);for(a&&(s=s.slice(0,a)),o=0;o<s.length;o++)this.remove(s[o])}},{key:"removeMatches",value:function(e,t,r,n){return this.removeStatements(this.statementsMatching(e,t,r,n)),this}},{key:"removeStatement",value:function(e){for(var t=[e.subject,e.predicate,e.object,e.graph],r=0;r<4;r++){var n=this.canon(t[r]),a=this.id(n);this.index[r][a]&&this.rdfArrayRemove(this.index[r][a],e)}return this.rdfArrayRemove(this.statements,e),this}},{key:"removeStatements",value:function(e){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}},{key:"replaceWith",value:function(e,t){for(var r=this.id(e),n=this.id(t),a=function(e){var t=e[r];if(t){var a=e[n];e[n]=a?t.concat(a):t,delete e[r]}},i=0;i<4;i++)a(this.index[i]);if(this.redirections[r]=t,e.value){if(this.aliases[n]||(this.aliases[n]=[]),this.aliases[n].push(e),this.aliases[r])for(i=0;i<this.aliases[r].length;i++)this.redirections[this.id(this.aliases[r][i])]=t,this.aliases[n].push(this.aliases[r][i]);this.add(t,this.sym("http://www.w3.org/2007/ont/link#uri"),e),this.fetcher&&this.fetcher.nowKnownAs(e,t)}return a(this.classActions),a(this.propertyActions),!0}},{key:"allAliases",value:function(e){var t=this.aliases[this.id(this.canon(e))]||[];return t.push(this.canon(e)),t}},{key:"sameThings",value:function(e,t){if(e.equals(t))return!0;var r=this.canon(e);if(!r)return!1;var n=this.canon(t);return!!n&&r.value===n.value}},{key:"setPrefixForURI",value:function(e,t){"tab"===e&&this.namespaces["tab"]||"ns"!==e.slice(0,2)&&"default"!==e.slice(0,7)&&(this.namespaces[e]=t)}},{key:"statementsMatching",value:function(e,t,r,n,a){var i,s,o=[e,t,r,n],u=[],c=[],l=[],f=[];for(i=0;i<4;i++)u[i]=this.canon(m.default.fromValue(o[i])),u[i]?(f.push(i),c[i]=this.id(u[i])):l.push(i);if(0===f.length)return this.statements;if(1===f.length)return i=f[0],s=this.index[i][c[i]],s&&a&&s.length>1&&(s=s.slice(0,1)),s=s||[],s;var d,p,h=1e10;for(p=0;p<f.length;p++){if(i=f[p],s=this.index[i][c[i]],!s)return[];s.length<h&&(h=s.length,d=p)}for(var y=f[d],v=this.index[y][c[y]],g=f.slice(0,d).concat(f.slice(d+1)),b=[],w=["subject","predicate","object","why"],T=0;T<v.length;T++){var E=v[T];for(p=0;p<g.length;p++)if(i=g[p],!this.canon(E[w[i]]).equals(u[i])){E=null;break}if(null!=E&&(b.push(E),a))break}return b}},{key:"uris",value:function(e){var t=this.canon(e),r=this.aliases[this.id(t)];if(!t.value)return[];var n=[t.value];if(r)for(var a=0;a<r.length;a++)n.push(r[a].uri);return n}},{key:"length",get:function(){return this.statements.length}}],[{key:"defaultGraphURI",get:function(){return d.defaultGraphURI}}]),r}(p.default);t.default=F,(0,l.default)(F,"handleRDFType",void 0),F.handleRDFType=j},c973:function(e,t,r){function n(e,t,r,n,a,i,s){try{var o=e[i](s),u=o.value}catch(c){return void r(c)}o.done?t(u):Promise.resolve(u).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var s=e.apply(t,r);function o(e){n(s,a,i,o,u,"next",e)}function u(e){n(s,a,i,o,u,"throw",e)}o(void 0)}))}}r("d3b7"),e.exports=a,e.exports["default"]=e.exports,e.exports.__esModule=!0},cc85:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.convertToJson=o,t.convertToNQuads=u;var a=n(r("2f24")),i=n(r("46bd")),s=r("dae0");function o(e,t){var r,n=new s.Parser,o=new s.Writer({format:"N-Quads"});a.default.waterfall([function(t){n.parse(e,(function(e,r,n){e?t(e):null!==r?o.addQuad(r):o.end(t)}))},function(e,t){try{i.default.fromRDF(e,{format:"application/nquads"}).then((function(e){t(null,e)}))}catch(r){t(r)}},function(e,n){r=JSON.stringify(e),t(null,r)}],(function(e,n){t(e,r)}))}function u(e,t){var r,n=new s.Parser,i=new s.Writer({format:"N-Quads"});a.default.waterfall([function(t){n.parse(e,(function(e,r,n){e?t(e):null!==quad?i.addQuad(quad):i.end(t)}))},function(e,n){r=e,t(null,r)}],(function(e,n){t(e,r)}))}},d4a2:function(e,t){t.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",auml:"ä",Aring:"Å",aring:"å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",ouml:"ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},d63e3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringQuadToQuad=t.quadToStringQuad=t.stringToTerm=t.getLiteralLanguage=t.getLiteralType=t.getLiteralValue=t.termToString=void 0;const n=r("c513"),a=new n.DataFactory;function i(e){if(e)switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"");case"Quad":return`<<${i(e.subject)} ${i(e.predicate)} ${i(e.object)}${"DefaultGraph"===e.graph.termType?"":" "+i(e.graph)}>>`;case"Variable":return"?"+e.value;case"DefaultGraph":return e.value}}function s(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function o(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function u(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""}function c(e,t){if(t=t||a,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":if(!t.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return t.variable(e.substr(1));case'"':const r=u(e),n=t.namedNode(o(e));return t.literal(s(e),r||n);case"<":default:if(e.startsWith("<<")&&e.endsWith(">>")){const r=e.slice(2,-2),n=[];let a=0,i=0;for(let t=0;t<r.length;t++){const s=r[t];if("<"===s&&a++,">"===s){if(0===a)throw new Error("Found closing tag without opening tag in "+e);a--}" "===s&&0===a&&(n.push(r.slice(i,t)),i=t+1)}if(0!==a)throw new Error("Found opening tag without closing tag in "+e);if(n.push(r.slice(i,r.length)),3!==n.length&&4!==n.length)throw new Error("Nested quad syntax error "+e);return t.quad(c(n[0]),c(n[1]),c(n[2]),n[3]?c(n[3]):void 0)}return t.namedNode(e)}}function l(e){return{subject:i(e.subject),predicate:i(e.predicate),object:i(e.object),graph:i(e.graph)}}function f(e,t){return t=t||a,t.quad(c(e.subject,t),c(e.predicate,t),c(e.object,t),c(e.graph,t))}t.termToString=i,t.getLiteralValue=s,t.getLiteralType=o,t.getLiteralLanguage=u,t.stringToTerm=c,t.quadToStringQuad=l,t.stringQuadToQuad=f},dbce:function(e,t,r){r("10d1"),r("d3b7"),r("3ca3"),r("ddb0"),r("e439");var n=r("7037")["default"];function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var o=i?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=e[s]}return r["default"]=e,t&&t.set(e,r),r}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},dfa6:function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("7037")),s=n(r("3897")),o=r("1079"),u=function(){function e(e){return encodeURI(e)}var t={encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},decode:function(e){var t="",r=0;while(r<e.length){var n=e.charCodeAt(r);n<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(t+=String.fromCharCode((31&n)<<6|63&e.charCodeAt(r+1)),r+=2):(t+=String.fromCharCode((15&n)<<12|(63&e.charCodeAt(r+1))<<6|63&e.charCodeAt(r+2)),r+=3)}return t}},r="http://www.w3.org/2000/10/swap/log#",n=function(e){return e},a=function(e){return e},u=function(e){if(e.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},c=function(e){return e.length},l=function(e,t,r){if("undefined"==typeof e.slice)throw"@@ mising.js: No .slice function for "+e+" of type "+(0,i.default)(e);return"undefined"==typeof r||null==r?e.slice(t):e.slice(t,r)},f=Error("dummy error stop iteration"),d=function(e){return this.last=0,this.li=e,this.next=function(){if(this.last==this.li.length)throw f;return this.li[this.last++]},this},p=function(e,t){return e.indexOf(t)},h=function(e,t){if(!e){if(t)throw"python Assertion failed: "+t;throw"(python) Assertion failed."}},y=function(e){return String.fromCharCode(e)};String.prototype.encode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return t.encode(this)},String.prototype.decode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return this};var v=function(e,t){return s.join(t,e)},m=null,g=0,b=0,w=function(e){},T="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",E="http://www.w3.org/2002/07/owl#sameAs";var N="#",x="http://www.w3.org/2001/XMLSchema#integer",_="http://www.w3.org/2001/XMLSchema#double",O="http://www.w3.org/2001/XMLSchema#decimal",I="http://www.w3.org/2001/XMLSchema#date",R="http://www.w3.org/2001/XMLSchema#dateTime",A="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",C=A+":",S=(new RegExp("^[ \\t]*(#[^\\n]*)?\\r?\\n","g"),new RegExp("^[ \\t]*(#[^\\n]*)?$","g"),new RegExp("^[ \\t]*","g"),new RegExp("^[-+]?[0-9]+","g"),new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g")),D=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),k=(new RegExp("^[0-9]+","g"),new RegExp('[\\\\\\r\\n\\"]',"g")),j=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");function F(e,t,r,n,a,i,s,o){return new P(e,t,r,n,a,i,s,o)}function P(e,t,r,n,i,s,o,c){"undefined"==typeof t&&(t=null),"undefined"==typeof r&&(r=""),"undefined"==typeof n&&(n=null),"undefined"==typeof i&&(i=""),"undefined"==typeof s&&(s=null),"undefined"==typeof o&&(o=""),"undefined"==typeof c&&(c=null),this._bindings=new u([]),this._flags=o,""!=r&&(h(r.indexOf(":")>=0,"Document URI not absolute: "+r),this._bindings[""]=r+"#"),this._store=e,i&&e.setGenPrefix(i),this._thisDoc=r,this.source=e.sym(r),this.lines=0,this.statementCount=0,this.startOfLine=0,this.previousLine=0,this._genPrefix=i,this.keywords=new a(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new u([]),this._variables=new u([]),this._parentVariables=new u([]),this._reason=c,this._reason2=null,g&&(this._reason2=why_BecauseOfData(e.sym(r),this._reason)),this._baseURI=n||(r||null),h(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),null==t?this._thisDoc?this._formula=e.formula(r+"#_formula"):this._formula=e.formula():this._formula=t,this._context=this._formula,this._parentContext=null}function L(e,t,r,n,a){this._str=r.encode("utf-8"),this._str=r,this._i=n,this._why=a,this.lines=t,this._uri=e}function U(e,t,r,n,a){var i=t+1,s="Line "+i+" of <"+e+">: Bad syntax: "+a+'\nat: "'+r.slice(n,n+30)+'"',o=new SyntaxError(s,e,i);return o.lineNo=i,o.characterInFile=n,o.syntaxProblem=a,o}return P.prototype.here=function(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)},P.prototype.formula=function(){return this._formula},P.prototype.loadStream=function(e){return this.loadBuf(e.read())},P.prototype.loadBuf=function(e){return this.startDoc(),this.feed(e),this.endDoc()},P.prototype.feed=function(e){var t=e.decode("utf-8"),r=0;while(r>=0){var n=this.skipSpace(t,r);if(n<0)return;r=this.directiveOrStatement(t,n);if(r<0)throw U(this._thisDoc,this.lines,t,n,"expected directive or statement")}},P.prototype.directiveOrStatement=function(e,t){var r=this.skipSpace(e,t);if(r<0)return r;var n=this.directive(e,r);if(n>=0)return this.checkDot(e,n);n=this.statement(e,r);return n>=0?this.checkDot(e,n):n},P.prototype.tok=function(e,t,r){if("@"==t.slice(r,r+1))r=r+1;else if((0,o.ArrayIndexOf)(this.keywords,e)<0)return-1;var n=r+c(e);return t.slice(r,n)==e&&A.indexOf(t.charAt(n))>=0?n:-1},P.prototype.directive=function(t,r){var n=this.skipSpace(t,r);if(n<0)return n;var i=new a([]);n=this.tok("bind",t,r);if(n>0)throw U(this._thisDoc,this.lines,t,r,"keyword bind is obsolete: use @prefix");n=this.tok("keywords",t,r);if(n>0){r=this.commaSeparatedList(t,n,i,!1);if(r<0)throw U(this._thisDoc,this.lines,t,r,"'@keywords' needs comma separated list of words");return this.setKeywords(l(i,null,null)),b>80&&w("Keywords ",this.keywords),r}n=this.tok("forAll",t,r);if(n>0){r=this.commaSeparatedList(t,n,i,!0);if(r<0)throw U(this._thisDoc,this.lines,t,r,"Bad variable list after @forAll");var s=new d(i);try{while(1){var u=s.next();((0,o.ArrayIndexOf)(this._variables,u)<0||(0,o.ArrayIndexOf)(this._parentVariables,u)>=0)&&(this._variables[u]=this._context.newUniversal(u))}}catch(y){if(y!=f)throw y}return r}n=this.tok("forSome",t,r);if(n>0){r=this.commaSeparatedList(t,n,i,this.uri_ref2);if(r<0)throw U(this._thisDoc,this.lines,t,r,"Bad variable list after @forSome");s=new d(i);try{while(1){u=s.next();this._context.declareExistential(u)}}catch(y){if(y!=f)throw y}return r}n=this.tok("prefix",t,r);if(n>=0){var c=new a([]);r=this.qname(t,n,c);if(r<0)throw U(this._thisDoc,this.lines,t,n,"expected qname after @prefix");n=this.uri_ref2(t,r,c);if(n<0)throw U(this._thisDoc,this.lines,t,r,"expected <uriref> after @prefix _qname_");var p=c[1].uri;if(this._baseURI)p=v(this._baseURI,p);else h(p.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return h(p.indexOf(":")>=0),this._bindings[c[0][0]]=p,this.bind(c[0][0],e(p)),n}n=this.tok("base",t,r);if(n>=0){c=new a([]),r=this.uri_ref2(t,n,c);if(r<0)throw U(this._thisDoc,this.lines,t,n,"expected <uri> after @base ");p=c[0].uri;if(!this._baseURI)throw U(this._thisDoc,this.lines,t,n,"With no previous base URI, cannot use relative URI in @base  <"+p+">");p=v(this._baseURI,p);return h(p.indexOf(":")>=0),this._baseURI=p,r}return-1},P.prototype.bind=function(e,t){""==e||this._store.setPrefixForURI(e,t)},P.prototype.setKeywords=function(e){null==e?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)},P.prototype.startDoc=function(){},P.prototype.endDoc=function(){return this._formula},P.prototype.makeStatement=function(e){e[0].add(e[2],e[1],e[3],this.source),this.statementCount+=1},P.prototype.statement=function(e,t){var r=new a([]);t=this.object(e,t,r);if(t<0)return t;var n=this.property_list(e,t,r[0]);if(n<0)throw U(this._thisDoc,this.lines,e,t,"expected propertylist");return n},P.prototype.subject=function(e,t,r){return this.item(e,t,r)},P.prototype.verb=function(e,t,i){var s=this.skipSpace(e,t);if(s<0)return s;var o=new a([]);s=this.tok("has",e,t);if(s>=0){t=this.prop(e,s,o);if(t<0)throw U(this._thisDoc,this.lines,e,s,"expected property after 'has'");return i.push(new n(["->",o[0]])),t}s=this.tok("is",e,t);if(s>=0){t=this.prop(e,s,o);if(t<0)throw U(this._thisDoc,this.lines,e,s,"expected <property> after 'is'");s=this.skipSpace(e,t);if(s<0)throw U(this._thisDoc,this.lines,e,t,"End of file found, expected property after 'is'");t=s,s=this.tok("of",e,t);if(s<0)throw U(this._thisDoc,this.lines,e,t,"expected 'of' after 'is' <prop>");return i.push(new n(["<-",o[0]])),s}s=this.tok("a",e,t);if(s>=0)return i.push(new n(["->",this._store.sym(T)])),s;if("<="==e.slice(t,t+2))return i.push(new n(["<-",this._store.sym(r+"implies")])),t+2;if("="==e.slice(t,t+1))return">"==e.slice(t+1,t+2)?(i.push(new n(["->",this._store.sym(r+"implies")])),t+2):(i.push(new n(["->",this._store.sym(E)])),t+1);if(":="==e.slice(t,t+2))return i.push(new n(["->",r+"becomes"])),t+2;s=this.prop(e,t,o);if(s>=0)return i.push(new n(["->",o[0]])),s;if(">-"==e.slice(t,t+2)||"<-"==e.slice(t,t+2))throw U(this._thisDoc,this.lines,e,s,">- ... -> syntax is obsolete.");return-1},P.prototype.prop=function(e,t,r){return this.item(e,t,r)},P.prototype.item=function(e,t,r){return this.path(e,t,r)},P.prototype.blankNode=function(e){return this._context.bnode(e,this._reason2)},P.prototype.path=function(e,t,r){var a=this.nodeOrLiteral(e,t,r);if(a<0)return a;while("!^.".indexOf(e.slice(a,a+1))>=0){var i=e.slice(a,a+1);if("."==i){var s=e.slice(a+1,a+2);if(!s||C.indexOf(s)>=0&&":?<[{(".indexOf(s)<0)break}var o=r.pop(),u=this.blankNode(this.here(a));a=this.node(e,a+1,r);if(a<0)throw U(this._thisDoc,this.lines,e,a,"EOF found in middle of path syntax");var c=r.pop();"^"==i?this.makeStatement(new n([this._context,c,u,o])):this.makeStatement(new n([this._context,c,o,u])),r.push(u)}return a},P.prototype.anonymousNode=function(e){var t=this._anonymousNodes[e];if(t)return t;t=this._store.bnode(e);return this._anonymousNodes[e]=t,t},P.prototype.node=function(e,t,r,i){"undefined"==typeof i&&(i=null);var s=i,o=this.skipSpace(e,t);if(o<0)return o;t=o;var l=e.slice(t,t+1);if("["==l){var p=this.here(t);o=this.skipSpace(e,t+1);if(o<0)throw U(this._thisDoc,this.lines,e,t,"EOF after '['");if("="==e.slice(o,o+1)){t=o+1;var h=new a([]);o=this.objectList(e,t,h);if(!(o>=0))throw U(this._thisDoc,this.lines,e,t,"objectList expected after [= ");s=h[0];if(c(h)>1){var y=new d(h);try{while(1){var v=y.next();this.makeStatement(new n([this._context,this._store.sym(E),s,v]))}}catch(R){if(R!=f)throw R}}o=this.skipSpace(e,o);if(o<0)throw U(this._thisDoc,this.lines,e,t,"EOF when objectList expected after [ = ");if(";"==e.slice(o,o+1))o=o+1}if(null==s)s=this.blankNode(p);t=this.property_list(e,o,s);if(t<0)throw U(this._thisDoc,this.lines,e,o,"property_list expected");o=this.skipSpace(e,t);if(o<0)throw U(this._thisDoc,this.lines,e,t,"EOF when ']' expected after [ <propertyList>");if("]"!=e.slice(o,o+1))throw U(this._thisDoc,this.lines,e,o,"']' expected");return r.push(s),o+1}if("{"==l){var g=e.slice(t+1,t+2);if("$"==g){t+=1;o=t+1;var b=new a([]),w=!0;while(1){t=this.skipSpace(e,o);if(t<0)throw U(this._thisDoc,this.lines,e,t,"needed '$}', found end.");if("$}"==e.slice(t,t+2)){o=t+2;break}if(w)w=!1;else{if(","!=e.slice(t,t+1))throw U(this._thisDoc,this.lines,e,t,"expected: ','");t+=1}var T=new a([]);o=this.item(e,t,T);if(o<0)throw U(this._thisDoc,this.lines,e,t,"expected item in set or '$}'");b.push(T[0])}return r.push(this._store.newSet(b,this._context)),o}o=t+1;var N=this._parentContext;this._parentContext=this._context;var x=this._anonymousNodes,_=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new u([]),this._variables=this._variables.slice();var O=this._reason2;if(this._reason2=m,null==s)s=this._store.formula();this._context=s;while(1){t=this.skipSpace(e,o);if(t<0)throw U(this._thisDoc,this.lines,e,t,"needed '}', found end.");if("}"==e.slice(t,t+1)){o=t+1;break}o=this.directiveOrStatement(e,t);if(o<0)throw U(this._thisDoc,this.lines,e,t,"expected statement or '}'")}return this._anonymousNodes=x,this._variables=this._parentVariables,this._parentVariables=_,this._context=this._parentContext,this._reason2=O,this._parentContext=N,r.push(s.close()),o}if("("==l){var I=this._store.list;g=e.slice(t+1,t+2);if("$"==g){I=this._store.newSet;t+=1}o=t+1,b=new a([]);while(1){t=this.skipSpace(e,o);if(t<0)throw U(this._thisDoc,this.lines,e,t,"needed ')', found end.");if(")"==e.slice(t,t+1)){o=t+1;break}T=new a([]),o=this.item(e,t,T);if(o<0)throw U(this._thisDoc,this.lines,e,t,"expected item in list or ')'");b.push(T[0])}return r.push(I(b,this._context)),o}o=this.tok("this",e,t);if(o>=0)throw U(this._thisDoc,this.lines,e,t,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");o=this.tok("true",e,t);if(o>=0)return r.push(!0),o;o=this.tok("false",e,t);if(o>=0)return r.push(!1),o;if(null==s){o=this.uri_ref2(e,t,r);if(o>=0)return o}return-1},P.prototype.property_list=function(e,t,r){while(1){var i=this.skipSpace(e,t);if(i<0)throw U(this._thisDoc,this.lines,e,t,"EOF found when expected verb in property list");if(":-"!=e.slice(i,i+2)){t=i;var s=new a([]);i=this.verb(e,t,s);if(i<=0)return t;var o=new a([]);t=this.objectList(e,i,o);if(t<0)throw U(this._thisDoc,this.lines,e,i,"objectList expected");var u=new d(o);try{while(1){var c=u.next(),l=s[0],p=l[0],h=l[1];"->"==p?this.makeStatement(new n([this._context,h,r,c])):this.makeStatement(new n([this._context,h,c,r]))}}catch(v){if(v!=f)throw v}i=this.skipSpace(e,t);if(i<0)throw U(this._thisDoc,this.lines,e,i,"EOF found in list of objects");if(";"!=e.slice(t,t+1))return t;t=t+1}else{var t=i+2,y=new a([]),i=this.node(e,t,y,r);if(i<0)throw U(this._thisDoc,this.lines,e,t,"bad {} or () or [] node after :- ");var t=i}}},P.prototype.commaSeparatedList=function(e,t,r,n){var a=this.skipSpace(e,t);if(a<0)throw U(this._thisDoc,this.lines,e,a,"EOF found expecting comma sep list");if("."==e.charAt(a))return t;if(n)a=this.uri_ref2(e,a,r);else a=this.bareWord(e,a,r);if(a<0)return-1;while(1){t=this.skipSpace(e,a);if(t<0)return t;var i=e.slice(t,t+1);if(","!=i)return"."!=i?-1:t;if(n)a=this.uri_ref2(e,t+1,r);else a=this.bareWord(e,t+1,r);if(a<0)throw U(this._thisDoc,this.lines,e,a,"bad list content")}},P.prototype.objectList=function(e,t,r){t=this.object(e,t,r);if(t<0)return-1;while(1){var n=this.skipSpace(e,t);if(n<0)throw U(this._thisDoc,this.lines,e,n,"EOF found after object");if(","!=e.slice(n,n+1))return n;t=this.object(e,n+1,r);if(t<0)return t}},P.prototype.checkDot=function(e,t){var r=this.skipSpace(e,t);if(r<0)return r;if("."==e.slice(r,r+1))return r+1;if("}"==e.slice(r,r+1))return r;if("]"==e.slice(r,r+1))return r;throw U(this._thisDoc,this.lines,e,r,"expected '.' or '}' or ']' at end of statement")},P.prototype.uri_ref2=function(e,t,r){var n=new a([]),i=this.qname(e,t,n);if(i>=0){var s=n[0],u=s[0],f=s[1];if(null==u){h(0,"not used?");var d=this._baseURI+N}else{d=this._bindings[u];if(!d){if("_"==u)return r.push(this.anonymousNode(f)),i;throw U(this._thisDoc,this.lines,e,t,"Prefix "+u+" not bound.")}}var p=this._store.sym(d+f);return(0,o.ArrayIndexOf)(this._variables,p)>=0?r.push(this._variables[p]):r.push(p),i}t=this.skipSpace(e,t);if(t<0)return-1;if("?"==e.charAt(t)){var y=new a([]);i=this.variable(e,t,y);return i>0?(r.push(y[0]),i):-1}if("<"==e.charAt(t)){t=t+1;var m=t;while(t<c(e)){if(">"==e.charAt(t)){var g=e.slice(m,t);if(this._baseURI)g=v(this._baseURI,g);else h(g.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if("#"==e.slice(t-1,t)&&"#"!=l(g,-1,null))g=g+"#";p=this._store.sym(g);return(0,o.ArrayIndexOf)(this._variables,p)>=0?r.push(this._variables[p]):r.push(p),t+1}t=t+1}throw U(this._thisDoc,this.lines,e,i,"unterminated URI reference")}if(this.keywordsSet){y=new a([]),i=this.bareWord(e,t,y);if(i<0)return-1;if((0,o.ArrayIndexOf)(this.keywords,y[0])>=0)throw U(this._thisDoc,this.lines,e,t,'Keyword "'+y[0]+'" not allowed here.');return r.push(this._store.sym(this._bindings[""]+y[0])),i}return-1},P.prototype.skipSpace=function(e,t){for(var r=" \n\r\t\f\v            ​\u2028\u2029　",n=t||0;n<e.length;n++){var a=e.charAt(n);if(r.indexOf(a)<0){if("#"!==e.charAt(n))return n;for(;;n++){if(n===e.length)return-1;if("\n"===e.charAt(n)){this.lines=this.lines+1;break}}}else"\n"===e.charAt(n)&&(this.lines=this.lines+1)}return-1},P.prototype.variable=function(e,t,r){var n=this.skipSpace(e,t);if(n<0)return-1;if("?"!=e.slice(n,n+1))return-1;n+=1,t=n;if("0123456789-".indexOf(e.charAt(n))>=0)throw U(this._thisDoc,this.lines,e,n,"Varible name can't start with '"+e.charAt(n)+"s'");while(t<c(e)&&C.indexOf(e.charAt(t))<0)t=t+1;if(null==this._parentContext)throw U(this._thisDoc,this.lines,e,n,"Can't use ?xxx syntax for variable in outermost level: "+e.slice(n-1,t));return r.push(this._store.variable(e.slice(n,t))),t},P.prototype.bareWord=function(e,t,r){var n=this.skipSpace(e,t);if(n<0)return-1;var a=e.charAt(n);if("0123456789-".indexOf(a)>=0)return-1;if(C.indexOf(a)>=0)return-1;t=n;while(t<c(e)&&C.indexOf(e.charAt(t))<0)t=t+1;return r.push(e.slice(n,t)),t},P.prototype.qname=function(e,t,r){t=this.skipSpace(e,t);if(t<0)return-1;var a=e.charAt(t);if("0123456789-+".indexOf(a)>=0)return-1;if(C.indexOf(a)<0){var i=a;t=t+1;while(t<c(e)){a=e.charAt(t);if(!(C.indexOf(a)<0))break;i=i+a,t=t+1}}else i="";if(t<c(e)&&":"==e.charAt(t)){var s=i;t=t+1,i="";while(t<c(e)){a=e.charAt(t);if(!(C.indexOf(a)<0))break;i=i+a,t=t+1}return r.push(new n([s,i])),t}return i&&this.keywordsSet&&(0,o.ArrayIndexOf)(this.keywords,i)<0?(r.push(new n(["",i])),t):-1},P.prototype.object=function(e,t,r){var n=this.subject(e,t,r);if(n>=0)return n;n=this.skipSpace(e,t);if(n<0)return-1;t=n;var a=null,i=e.charAt(t);if('"'==i||"'"==i){a=e.slice(t,t+3==i+i)?i+i+i:i;t=t+c(a);var s=this.strconst(e,t,a),o=(n=s[0],s[1]);return r.push(this._store.literal(o)),w("New string const ",o,n),n}return-1},P.prototype.nodeOrLiteral=function(e,t,r){var n=this.node(e,t,r);if(n>=0)return n;n=this.skipSpace(e,t);if(n<0)return-1;t=n;var i=e.charAt(t);if("-+0987654321".indexOf(i)>=0){D.lastIndex=0;var s=D.exec(e.slice(t));if(null!=s){var o=s[0];n=t+o.length,o.indexOf("T")>=0?r.push(this._store.literal(o,this._store.sym(R))):r.push(this._store.literal(o,this._store.sym(I)))}else{S.lastIndex=0;s=S.exec(e.slice(t));if(null==s)throw U(this._thisDoc,this.lines,e,t,"Bad number or date syntax");n=t+S.lastIndex;o=e.slice(t,n);o.indexOf("e")>=0?r.push(this._store.literal(parseFloat(o),this._store.sym(_))):e.slice(t,n).indexOf(".")>=0?r.push(this._store.literal(parseFloat(o),this._store.sym(O))):r.push(this._store.literal(parseInt(o),this._store.sym(x)))}return n}if('"'==e.charAt(t)){if('"""'==e.slice(t,t+3))var u='"""';else u='"';t=t+c(u);var l=null,f=this.strconst(e,t,u),d=(n=f[0],f[1]),p=null;if("@"==e.slice(n,n+1)){j.lastIndex=0;s=j.exec(e.slice(n+1));if(null==s)throw U(this._thisDoc,startline,e,t,"Bad language code syntax on string literal, after @");t=j.lastIndex+n+1,p=e.slice(n+1,t),n=t}if("^^"==e.slice(n,n+2)){var h=new a([]);n=this.uri_ref2(e,n+2,h),l=h[0]}return r.push(this._store.literal(d,p||l)),n}return-1},P.prototype.strconst=function(e,t,r){var a=t,i="",s=this.lines;while(a<c(e)){t=a+c(r);if(e.slice(a,t)==r)return new n([t,i]);if('"'!=e.charAt(a)){k.lastIndex=0;var o=k.exec(e.slice(a));if(!o)throw U(this._thisDoc,s,e,a,"Closing quote missing in string at ^ in "+e.slice(a-20,a)+"^"+e.slice(a,a+20));t=a+k.lastIndex-1,i=i+e.slice(a,t);var u=e.charAt(t);if('"'!=u)if("\r"!=u){if("\n"==u){if('"'==r)throw U(this._thisDoc,s,e,t,"newline found in string literal");this.lines=this.lines+1;i=i+u,a=t+1;this.previousLine=this.startOfLine,this.startOfLine=a}else if("\\"==u){a=t+1,u=e.slice(a,a+1);if(!u)throw U(this._thisDoc,s,e,t,"unterminated string literal (2)");var l=p('abfrtvn\\"',u);if(l>=0){var f='a\b\f\r\t\v\n\\"'.charAt(l);i=i+f,a=a+1}else if("u"==u){var d=this.uEscape(e,a+1,s);a=d[0],u=d[1],i=i+u}else{if("U"!=u)throw U(this._thisDoc,this.lines,e,t,"bad escape");d=this.UEscape(e,a+1,s),a=d[0],u=d[1],i=i+u}}}else var a=t+1;else var a=t}else var i=i+'"',a=a+1}throw U(this._thisDoc,this.lines,e,t,"unterminated string literal")},P.prototype.uEscape=function(e,t,r){var a=t,i=0,s=0;while(i<4){var o=e.slice(a,a+1),u=o.toLowerCase();a=a+1;if(""==u)throw U(this._thisDoc,r,e,t,"unterminated string literal(3)");var c=p("0123456789abcdef",u);if(c<0)throw U(this._thisDoc,r,e,t,"bad string literal hex escape");s=16*s+c,i=i+1}var l=String.fromCharCode(s);return new n([a,l])},P.prototype.UEscape=function(e,t,r){var a=t,i=0,s="\\U";while(i<8){var o=e.slice(a,a+1),u=o.toLowerCase();a=a+1;if(""==u)throw U(this._thisDoc,r,e,t,"unterminated string literal(3)");var c=p("0123456789abcdef",u);if(c<0)throw U(this._thisDoc,r,e,t,"bad string literal hex escape");s=s+u,i=i+1}var f=y("0x"+l(s,2,10)-0);return new n([a,f])},L.prototype.toString=function(){var e=this._str,t=this._i,r=0;if(t>60){var a="...";r=t-60}else a="";if(c(e)-t>60)var i="...";else i="";return'Line %i of <%s>: Bad syntax (%s) at ^ in:\n"%s%s^%s%s"'%new n([this.lines+1,this._uri,this._why,a,e.slice(r,t),e.slice(t,t+60),i])},F}();t.default=u},e1b7:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.jsonldObjectToTerm=s,t.default=c;var a=n(r("46bd")),i=r("1079");function s(e,t){return"string"===typeof t?e.rdfFactory.literal(t):Object.prototype.hasOwnProperty.call(t,"@list")?!0===e.rdfFactory.supports["COLLECTIONS"]?u(e,t["@list"]):o(e,t):Object.prototype.hasOwnProperty.call(t,"@id")?e.rdfFactory.namedNode(t["@id"]):Object.prototype.hasOwnProperty.call(t,"@language")?e.rdfFactory.literal(t["@value"],t["@language"]):Object.prototype.hasOwnProperty.call(t,"@type")?e.rdfFactory.literal(t["@value"],e.rdfFactory.namedNode(t["@type"])):Object.prototype.hasOwnProperty.call(t,"@value")?e.rdfFactory.literal(t["@value"]):e.rdfFactory.literal(t)}function o(e,t){var r=t["@id"]?e.rdfFactory.namedNode(t["@id"]):e.rdfFactory.blankNode(),n=t["@list"].map((function(t){return s(e,t)})),a=(0,i.arrayToStatements)(e.rdfFactory,r,n);return e.addAll(a),r}function u(e,t){if(!Array.isArray(t))throw new TypeError("Object must be an array");return e.rdfFactory.collection(t.map((function(t){return s(e,t)})))}function c(e,t,r,n){var i=r&&Object.prototype.hasOwnProperty.call(r,"termType")?r.value:r;return a.default.flatten(JSON.parse(e),null,{base:i}).then((function(e){return e.reduce((function(e,r){for(var n=r["@id"]?t.rdfFactory.namedNode(r["@id"]):t.rdfFactory.blankNode(),a=0,i=Object.keys(r);a<i.length;a++){var o=i[a];if("@id"!==o){var u=r[o];if(Array.isArray(u))for(var c=0;c<u.length;c++)t.addStatement(t.rdfFactory.quad(n,t.rdfFactory.namedNode(o),s(t,u[c])));else t.addStatement(t.rdfFactory.quad(n,t.rdfFactory.namedNode(o),s(t,u)))}}return t}),t)})).then(n).catch(n)}},e2d8:function(e,t,r){(function(t){var r=200,n="__lodash_hash_undefined__",a=1/0,i="[object Function]",s="[object GeneratorFunction]",o=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")();function d(e,t){var r=e?e.length:0;return!!r&&y(e,t,0)>-1}function p(e,t,r){var n=-1,a=e?e.length:0;while(++n<a)if(r(t,e[n]))return!0;return!1}function h(e,t,r,n){var a=e.length,i=r+(n?1:-1);while(n?i--:++i<a)if(t(e[i],i,e))return i;return-1}function y(e,t,r){if(t!==t)return h(e,v,r);var n=r-1,a=e.length;while(++n<a)if(e[n]===t)return n;return-1}function v(e){return e!==e}function m(e,t){return e.has(t)}function g(e,t){return null==e?void 0:e[t]}function b(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}function w(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var T=Array.prototype,E=Function.prototype,N=Object.prototype,x=f["__core-js_shared__"],_=function(){var e=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),O=E.toString,I=N.hasOwnProperty,R=N.toString,A=RegExp("^"+O.call(I).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=T.splice,S=se(f,"Map"),D=se(f,"Set"),k=se(Object,"create");function j(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function F(){this.__data__=k?k(null):{}}function P(e){return this.has(e)&&delete this.__data__[e]}function L(e){var t=this.__data__;if(k){var r=t[e];return r===n?void 0:r}return I.call(t,e)?t[e]:void 0}function U(e){var t=this.__data__;return k?void 0!==t[e]:I.call(t,e)}function M(e,t){var r=this.__data__;return r[e]=k&&void 0===t?n:t,this}function V(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function q(){this.__data__=[]}function B(e){var t=this.__data__,r=te(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():C.call(t,r,1),!0}function $(e){var t=this.__data__,r=te(t,e);return r<0?void 0:t[r][1]}function G(e){return te(this.__data__,e)>-1}function H(e,t){var r=this.__data__,n=te(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}function X(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Q(){this.__data__={hash:new j,map:new(S||V),string:new j}}function z(e){return ie(this,e)["delete"](e)}function W(e){return ie(this,e).get(e)}function J(e){return ie(this,e).has(e)}function Y(e,t){return ie(this,e).set(e,t),this}function K(e){var t=-1,r=e?e.length:0;this.__data__=new X;while(++t<r)this.add(e[t])}function Z(e){return this.__data__.set(e,n),this}function ee(e){return this.__data__.has(e)}function te(e,t){var r=e.length;while(r--)if(fe(e[r][0],t))return r;return-1}function re(e){if(!pe(e)||ue(e))return!1;var t=de(e)||b(e)?A:u;return t.test(ce(e))}function ne(e,t,n){var a=-1,i=d,s=e.length,o=!0,u=[],c=u;if(n)o=!1,i=p;else if(s>=r){var l=t?null:ae(e);if(l)return w(l);o=!1,i=m,c=new K}else c=t?[]:u;e:while(++a<s){var f=e[a],h=t?t(f):f;if(f=n||0!==f?f:0,o&&h===h){var y=c.length;while(y--)if(c[y]===h)continue e;t&&c.push(h),u.push(f)}else i(c,h,n)||(c!==u&&c.push(h),u.push(f))}return u}j.prototype.clear=F,j.prototype["delete"]=P,j.prototype.get=L,j.prototype.has=U,j.prototype.set=M,V.prototype.clear=q,V.prototype["delete"]=B,V.prototype.get=$,V.prototype.has=G,V.prototype.set=H,X.prototype.clear=Q,X.prototype["delete"]=z,X.prototype.get=W,X.prototype.has=J,X.prototype.set=Y,K.prototype.add=K.prototype.push=Z,K.prototype.has=ee;var ae=D&&1/w(new D([,-0]))[1]==a?function(e){return new D(e)}:he;function ie(e,t){var r=e.__data__;return oe(t)?r["string"==typeof t?"string":"hash"]:r.map}function se(e,t){var r=g(e,t);return re(r)?r:void 0}function oe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ue(e){return!!_&&_ in e}function ce(e){if(null!=e){try{return O.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function le(e,t){return e&&e.length?ne(e,void 0,t):[]}function fe(e,t){return e===t||e!==e&&t!==t}function de(e){var t=pe(e)?R.call(e):"";return t==i||t==s}function pe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function he(){}e.exports=le}).call(this,r("c8ba"))},e40c:function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r("7037")),s=a(r("970b")),o=a(r("5bc3")),u=a(r("9523")),c=a(r("c947")),l=r("3897"),f=a(r("902d")),d=a(r("491a")),p=a(r("7971")),h=r("ab32"),y=n(r("4b68")),v=r("073a");function m(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=g(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function g(e,t){if(e){if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=function(){function e(t){if((0,s.default)(this,e),(0,u.default)(this,"store",void 0),(0,u.default)(this,"ifps",void 0),(0,u.default)(this,"fps",void 0),(0,u.default)(this,"patchControl",void 0),(0,u.default)(this,"ns",void 0),t=t||new c.default,t.updater)throw new Error("You can't have two UpdateManagers for the same store");t.fetcher||(t.fetcher=new f.default(t)),this.store=t,t.updater=this,this.ifps={},this.fps={},this.ns={},this.ns.link=(0,d.default)("http://www.w3.org/2007/ont/link#"),this.ns.http=(0,d.default)("http://www.w3.org/2007/ont/http#"),this.ns.httph=(0,d.default)("http://www.w3.org/2007/ont/httph#"),this.ns.ldp=(0,d.default)("http://www.w3.org/ns/ldp#"),this.ns.rdf=(0,d.default)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.rdfs=(0,d.default)("http://www.w3.org/2000/01/rdf-schema#"),this.ns.rdf=(0,d.default)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.owl=(0,d.default)("http://www.w3.org/2002/07/owl#"),this.patchControl=[]}return(0,o.default)(e,[{key:"patchControlFor",value:function(e){return this.patchControl[e.value]||(this.patchControl[e.value]=[]),this.patchControl[e.value]}},{key:"editable",value:function(e,t){if(!e)return!1;if(t||(t=this.store),e=(0,v.termValue)(e),"file:///"===e.slice(0,8))return!!t.holds(this.store.rdfFactory.namedNode(e),this.store.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.store.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#MachineEditableDocument"))&&"LOCALFILE";for(var r,n,a=!1,i=t.each(void 0,this.ns.link("requestedURI"),(0,l.docpart)(e)),s=0;s<i.length;s++)if(r=i[s],void 0!==r){var o=t.any(r,this.ns.link("response"));if(void 0!==r){var u=t.anyValue(o,this.ns.httph("wac-allow"));if(u){var c,f=m(u.split(","));try{for(f.s();!(c=f.n()).done;){var d=c.value,p=d.split("=");if(p[0].includes("user")&&!p[1].includes("write")&&!p[1].includes("append"))return!1}}catch(E){f.e(E)}finally{f.f()}}var h=t.each(o,this.ns.httph("accept-patch"));if(h.length)for(var y=0;y<h.length;y++)if(n=h[y].value.trim(),n.indexOf("application/sparql-update")>=0)return"SPARQL";var g=t.each(o,this.ns.httph("ms-author-via"));if(g.length)for(var b=0;b<g.length;b++){if(n=g[b].value.trim(),n.indexOf("SPARQL")>=0)return"SPARQL";if(n.indexOf("DAV")>=0)return"DAV"}var w=t.each(o,this.ns.http("status"));if(w.length)for(var T=0;T<w.length;T++)200!==w[T]&&404!==w[T]||(a=!0)}}if(0===i.length);else if(a)return!1}},{key:"anonymize",value:function(e){return"_:"===e.toNT().substr(0,2)&&this.mentioned(e)?"?"+e.toNT().substr(2):e.toNT()}},{key:"anonymizeNT",value:function(e){return this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+" ."}},{key:"statementBnodes",value:function(e){return[e.subject,e.predicate,e.object].filter((function(e){return(0,h.isBlankNode)(e)}))}},{key:"statementArrayBnodes",value:function(e){for(var t=[],r=0;r<e.length;r++)t=t.concat(this.statementBnodes(e[r]));t.sort();for(var n=[],a=0;a<t.length;a++)0!==a&&t[a].equals(t[a-1])||n.push(t[a]);return n}},{key:"cacheIfps",value:function(){this.ifps={};for(var e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("InverseFunctionalProperty")),t=0;t<e.length;t++)this.ifps[e[t].value]=!0;this.fps={},e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("FunctionalProperty"));for(var r=0;r<e.length;r++)this.fps[e[r].value]=!0}},{key:"bnodeContext2",value:function(e,t,r){for(var n,a,i=this.store.statementsMatching(void 0,void 0,e,t),s=0;s<i.length;s++)if(this.fps[i[s].predicate.value]){if(n=i[s].subject,!n.isBlank)return[i[s]];if(r&&(a=this.bnodeContext2(n,t,r-1),a))return a.concat([i[s]])}i=this.store.statementsMatching(e,void 0,void 0,t);for(var o=0;o<i.length;o++)if(this.ifps[i[o].predicate.value]){if(n=i[o].object,!n.isBlank)return[i[o]];if(r&&(a=this.bnodeContext2(n,t,r-1),a))return a.concat([i[o]])}return null}},{key:"bnodeContext1",value:function(e,t){for(var r=0;r<3;r++){var n=this.bnodeContext2(e,t,r);if(null!==n)return n}return this.store.connectedStatements(e,t)}},{key:"mentioned",value:function(e){return 0!==this.store.statementsMatching(e,null,null,null).length||0!==this.store.statementsMatching(null,e).length||0!==this.store.statementsMatching(null,null,e).length}},{key:"bnodeContext",value:function(e,t){var r=[];if(e.length){this.cacheIfps();for(var n=0;n<e.length;n++){var a=e[n];this.mentioned(a)&&(r=r.concat(this.bnodeContext1(a,t)))}}return r}},{key:"statementContext",value:function(e){var t=this.statementBnodes(e);return this.bnodeContext(t,e.graph)}},{key:"contextWhere",value:function(e){var t=this;return e&&0!==e.length?"WHERE { "+e.map((function(e){return t.anonymizeNT(e)})).join("\n")+" }\n":""}},{key:"fire",value:function(e,t,r){var n=this;return Promise.resolve().then((function(){if(!e)throw new Error("No URI given for remote editing operation: "+t);var r={noMeta:!0,contentType:"application/sparql-update",body:t};return n.store.fetcher.webOperation("PATCH",e,r)})).then((function(n){if(!n.ok){var a="UpdateManager: update failed for <"+e+"> status="+n.status+", "+n.statusText+"\n   for query: "+t;throw new Error(a)}r(e,n.ok,n.responseText,n)})).catch((function(t){r(e,!1,t.message,t)}))}},{key:"update_statement",value:function(e){if(!e||e.graph){var t=this,r=this.statementContext(e);return{statement:e?[e.subject,e.predicate,e.object,e.graph]:void 0,statementNT:e?this.anonymizeNT(e):void 0,where:t.contextWhere(r),set_object:function(e,r){var n=this.where;n+="DELETE DATA { "+this.statementNT+" } ;\n",n+="INSERT DATA { "+this.anonymize(this.statement[0])+" "+this.anonymize(this.statement[1])+" "+this.anonymize(e)+"  . }\n",t.fire(this.statement[3].value,n,r)}}}}},{key:"insert_statement",value:function(e,t){var r=e instanceof Array?e[0]:e,n=this.contextWhere(this.statementContext(r));if(e instanceof Array){for(var a="",i=0;i<e.length;i++)a+=e[i]+"\n";n+="INSERT DATA { "+a+" }\n"}else n+="INSERT DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(r.graph.value,n,t)}},{key:"delete_statement",value:function(e,t){var r=e instanceof Array?e[0]:e,n=this.contextWhere(this.statementContext(r));if(e instanceof Array){for(var a="",i=0;i<e.length;i++)a+=e[i]+"\n";n+="DELETE DATA { "+a+" }\n"}else n+="DELETE DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(r.graph.value,n,t)}},{key:"requestDownstreamAction",value:function(e,t){var r=this.patchControlFor(e);if(r.pendingUpstream)if(r.downstreamAction){if(""+r.downstreamAction!==""+t)throw new Error("Can't wait for > 1 different downstream actions")}else r.downstreamAction=t;else t(e)}},{key:"clearUpstreamCount",value:function(e){var t=this.patchControlFor(e);t.upstreamCount=0}},{key:"getUpdatesVia",value:function(e){var t=this.store.fetcher.getHeader(e,"updates-via");return t&&t.length?t[0].trim():null}},{key:"addDownstreamChangeListener",value:function(e,t){var r=this,n=this.patchControlFor(e);n.downstreamChangeListeners||(n.downstreamChangeListeners=[]),n.downstreamChangeListeners.push(t),this.setRefreshHandler(e,(function(e){r.reloadAndSync(e)}))}},{key:"reloadAndSync",value:function(e){var t=this.patchControlFor(e),r=this;if(t.reloading)t.outOfDate=!0;else{t.reloading=!0;var n=1e3,a=function a(){r.reload(r.store,e,(function(e,r,i){if(e){if(t.downstreamChangeListeners)for(var s=0;s<t.downstreamChangeListeners.length;s++)t.downstreamChangeListeners[s]();t.reloading=!1,t.outOfDate&&(t.outOfDate=!1,a())}else t.reloading=!1,0===i.status&&(t.reloading=!0,n*=2,setTimeout(a,n))}))};a()}}},{key:"setRefreshHandler",value:function(e,t){var r=this.getUpdatesVia(e),n=t,a=this,i=this,s=1500,o=0;if(!r)return!1;r=(0,l.join)(r,e.value);var u=r.replace(/^http:/,"ws:").replace(/^https:/,"wss:"),c=function t(){var r;if("undefined"!==typeof WebSocket)r=new WebSocket(u);else{if("undefined"===typeof window||!window.WebSocket)return;r=window.WebSocket(u)}r.onopen=function(){s=1500,this.send("sub "+e.value),o&&i.requestDownstreamAction(e,n)};var c=a.patchControlFor(e);c.upstreamCount=0,r.onerror=function(e){},r.onclose=function(e){s*=2,o+=1,setTimeout((function(){t()}),s)},r.onmessage=function(t){if(t.data&&"pub"===t.data.slice(0,3)){if("upstreamCount"in c&&(c.upstreamCount-=1,c.upstreamCount>=0))return;c.upstreamCount=0,a.requestDownstreamAction(e,n)}}};return c(),!0}},{key:"updateMany",value:function(e,t){var r=e.concat(t).map((function(e){return e.why})),n=Array.from(new Set(r)),a=this,i=n.map((function(r){return a.update(e.filter((function(e){return e.why.equals(r)})),t.filter((function(e){return e.why.equals(r)})))}));return console.log(" @@@@@@@     updateMany to: ".concat(i.length," ")),Promise.all(i)}},{key:"update",value:function(e,t,r,n){var a=this;if(!r){var s=this;return new Promise((function(r,n){s.update(e,t,(function(e,t,a){t?r():n(new Error(a))}))}))}try{var o=this.store,u=e?(0,h.isStore)(e)?e.statements:e instanceof Array?e:[e]:[],c=t?(0,h.isStore)(t)?t.statements:t instanceof Array?t:[t]:[];if(!(u instanceof Array))throw new Error("Type Error "+(0,i.default)(u)+": "+u);if(!(c instanceof Array))throw new Error("Type Error "+(0,i.default)(c)+": "+c);if(0===u.length&&0===c.length)return r(null,!0);var l=u.length?u[0].graph:c[0].graph;if(!l){var f="Error patching: statement does not specify which document to patch:"+u[0]+", "+c[0];throw new Error(f)}var d=this.patchControlFor(l),p=Date.now(),v=["subject","predicate","object","why"],m=["insert","delete"],g={delete:u,insert:c};m.map((function(e){g[e].map((function(e){if(!l.equals(e.graph))throw new Error("update: destination "+l+" inconsistent with delete quad "+e.graph);v.map((function(t){if("undefined"===typeof e[t])throw new Error("update: undefined "+t+" of statement.")}))}))}));var b=this.editable(l.value,o);if(!1===b)throw new Error("Update: Can't make changes in uneditable "+l);if(void 0===b){if(n)throw new Error("Update: Loaded "+l+"but stil can't figure out what editing protcol it supports.");return void this.store.fetcher.load(l).then((function(n){a.update(e,t,r,!0)}),(function(n){if(404!==n.response.status)throw new Error("Update: Can't get updatability status ".concat(l," before patching: ").concat(n));a.update(e,t,r,!0)}))}if(b.indexOf("SPARQL")>=0){var w=[];u.length&&(w=this.statementArrayBnodes(u)),c.length&&(w=w.concat(this.statementArrayBnodes(c)));var T=this.bnodeContext(w,l),E=this.contextWhere(T),N="";if(E.length){if(u.length){N+="DELETE { ";for(var x=0;x<u.length;x++)N+=this.anonymizeNT(u[x])+"\n";N+=" }\n"}if(c.length){N+="INSERT { ";for(var _=0;_<c.length;_++)N+=this.anonymizeNT(c[_])+"\n";N+=" }\n"}N+=E}else{if(u.length){N+="DELETE DATA { ";for(var O=0;O<u.length;O++)N+=this.anonymizeNT(u[O])+"\n";N+=" } \n"}if(c.length){u.length&&(N+=" ; "),N+="INSERT DATA { ";for(var I=0;I<c.length;I++)N+=this.anonymizeNT(c[I])+"\n";N+=" }\n"}}d.pendingUpstream=d.pendingUpstream?d.pendingUpstream+1:1,"upstreamCount"in d&&(d.upstreamCount+=1),this.fire(l.value,N,(function(e,t,n,a){if(a.elapsedTimeMs=Date.now()-p,console.log("    UpdateManager: Return "+(t?"success ":"FAILURE ")+a.status+" elapsed "+a.elapsedTimeMs+"ms"),t){try{o.remove(u)}catch(f){t=!1,n="Remote Ok BUT error deleting "+u.length+" from store!!! "+f}for(var i=0;i<c.length;i++)o.add(c[i].subject,c[i].predicate,c[i].object,l)}if(r(e,t,n,a),d.pendingUpstream-=1,0===d.pendingUpstream&&d.downstreamAction){var s=d.downstreamAction;delete d.downstreamAction,s(l)}}))}else if(b.indexOf("DAV")>=0)this.updateDav(l,u,c,r);else{if(!(b.indexOf("LOCALFILE")>=0))throw new Error("Unhandled edit method: '"+b+"' for "+l);try{this.updateLocalFile(l,u,c,r)}catch(R){r(l.value,!1,"Exception trying to write back file <"+l.value+">\n")}}}catch(R){r(void 0,!1,"Exception in update: "+R+"\n"+y.stackString(R))}}},{key:"updateDav",value:function(e,t,r,n){var a=this.store,i=a.any(e,this.ns.link("request"));if(!i)throw new Error("No record of our HTTP GET request for document: "+e);var s=a.any(i,this.ns.link("response"));if(!s)return null;for(var o=a.the(s,this.ns.httph("content-type")).value,u=a.statementsMatching(void 0,void 0,void 0,e).slice(),c=0;c<t.length;c++)y.RDFArrayRemove(u,t[c]);for(var f=0;f<r.length;f++)u.push(r[f]);var d,p=this.serialize(e.value,u,o),h=a.the(s,this.ns.httph("content-location"));h&&(d=(0,l.join)(h.value,d));var v={contentType:o,noMeta:!0,body:p};return a.fetcher.webOperation("PUT",d,v).then((function(i){if(!i.ok)throw new Error(i.error);for(var s=0;s<t.length;s++)a.remove(t[s]);for(var o=0;o<r.length;o++)a.add(r[o].subject,r[o].predicate,r[o].object,e);n(e.value,i.ok,i.responseText,i)})).catch((function(t){n(e.value,!1,t.message,t)}))}},{key:"updateLocalFile",value:function(e,t,r,n){for(var a=this.store,i=a.statementsMatching(void 0,void 0,void 0,e).slice(),s=0;s<t.length;s++)y.RDFArrayRemove(i,t[s]);for(var o=0;o<r.length;o++)i.push(r[o]);var u=e.value.lastIndexOf(".");if(u<1)throw new Error("Rewriting file: No filename extension: "+e.value);var c=e.value.slice(u+1),l=f.default.CONTENT_TYPE_BY_EXT[c];if(!l)throw new Error("File extension ."+c+" not supported for data write");var d=this.serialize(e.value,i,l),p=e.value.slice(7),h=Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);if(h.initWithPath(p),!h.exists())throw new Error("Rewriting file <"+e.value+"> but it does not exist!");var v=Components.classes["@mozilla.org/network/file-output-stream;1"].createInstance(Components.interfaces.nsIFileOutputStream);v.init(h,42,parseInt("0666",8),0),v.write(d,d.length),v.close();for(var m=0;m<t.length;m++)a.remove(t[m]);for(var g=0;g<r.length;g++)a.add(r[g].subject,r[g].predicate,r[g].object,e);n(e.value,!0,"")}},{key:"serialize",value:function(e,t,r){var n,a=this.store;if("string"===typeof t)return t;var i=(0,p.default)(a);switch(i.suggestNamespaces(a.namespaces),i.setBase(e),r){case"text/xml":case"application/rdf+xml":n=i.statementsToXML(t);break;case"text/n3":case"text/turtle":case"application/x-turtle":case"application/n3":n=i.statementsToN3(t);break;default:throw new Error("Content-type "+r+" not supported for data serialization")}return n}},{key:"put",value:function(e,t,r,n){var a,i=this,s=this.store;return Promise.resolve().then((function(){return a=i.serialize(e.value,t,r),s.fetcher.webOperation("PUT",e.value,{contentType:r,body:a})})).then((function(r){if(!r.ok)return n(e.value,r.ok,r.error,r);delete s.fetcher.nonexistent[e.value],delete s.fetcher.requested[e.value],"string"!==typeof t&&t.map((function(e){s.addStatement(e)})),n(e.value,r.ok,"",r)})).catch((function(t){n(e.value,!1,t.message)}))}},{key:"reload",value:function(e,t,r){var n=Date.now(),a={force:!0,noMeta:!0,clearPreviousData:!0};e.fetcher.nowOrWhenFetched(t.value,a,(function(e,a,i){if(e)if(i.onErrorWasCalled||200!==i.status)r(!1,"Non-HTTP error reloading data: "+a,i);else{var s=Date.now()-n;t.reloadTimeTotal||(t.reloadTimeTotal=0),t.reloadTimeCount||(t.reloadTimeCount=0),t.reloadTimeTotal+=s,t.reloadTimeCount+=1,r(!0)}else r(!1,"Error reloading data: "+a,i)}))}}]),e}();t.default=w},e43f:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("bd36"))},e6e5:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r("4f5c"),t),a(r("56af"),t),a(r("fb42"),t),a(r("0bc7"),t),a(r("21ee"),t),a(r("424d"),t),a(r("5bc9"),t)},e88a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("9b92");class a{constructor(e,t){this._paths=e,this._source=t}supports(e){return"string"===typeof e}resolve(e,{settings:t}){return this._createSubjectPath((0,n.namedNode)(e),t)}_createSubjectPath(e,{createQueryEngine:t}){const r=this._source||Promise.resolve(e).catch(()=>null),n=t(r);return this._paths.create({queryEngine:n},{subject:e})}}t.default=a},ed6d:function(e,t,r){var n=r("4a4b");function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}e.exports=a,e.exports["default"]=e.exports,e.exports.__esModule=!0},ef12:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("2c03"),a=r("9659");class i{static flatten(e){return Array.prototype.concat(...e).filter(e=>e)}static inScopeVariables(e){const t=[];function r(e){t.find(t=>e.value===t.value)||t.push(e)}function a(e){"Variable"===e.subject.termType&&r(e.subject),"Variable"===e.predicate.termType&&r(e.predicate),"Variable"===e.object.termType&&r(e.object),"Variable"===e.graph.termType&&r(e.graph),"Quad"===e.subject.termType&&a(e.subject),"Quad"===e.predicate.termType&&a(e.predicate),"Quad"===e.object.termType&&a(e.object),"Quad"===e.graph.termType&&a(e.graph)}return i.recurseOperation(e,{[n.types.EXPRESSION]:e=>{let t=e;if("aggregate"===t.expressionType&&t.variable){let e=t;r(e.variable)}return!0},[n.types.EXTEND]:e=>{let t=e;return r(t.variable),!0},[n.types.GRAPH]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.GROUP]:e=>{let t=e;return t.variables.forEach(r),!0},[n.types.PATH]:e=>{let t=e;return"Variable"===t.subject.termType&&r(t.subject),"Variable"===t.object.termType&&r(t.object),"Variable"===t.graph.termType&&r(t.graph),"Quad"===t.subject.termType&&a(t.subject),"Quad"===t.object.termType&&a(t.object),"Quad"===t.graph.termType&&a(t.graph),!0},[n.types.PATTERN]:e=>{let t=e;return a(t),!0},[n.types.PROJECT]:e=>{let t=e;return t.variables.forEach(r),!1},[n.types.SERVICE]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.VALUES]:e=>{let t=e;return t.variables.forEach(r),!0}}),t}static recurseOperation(e,t){let r=e,a=!0;if(t[e.type]&&(a=t[e.type](e)),!a)return;let s=e=>i.recurseOperation(e,t);switch(r.type){case n.types.ALT:const e=r;s(e.left),s(e.right);break;case n.types.ASK:const t=r;s(t.input);break;case n.types.BGP:const a=r;a.patterns.forEach(s);break;case n.types.CONSTRUCT:const i=r;s(i.input),i.template.map(s);break;case n.types.DESCRIBE:const o=r;s(o.input);break;case n.types.DISTINCT:const u=r;s(u.input);break;case n.types.EXPRESSION:const c=r;if(c.expressionType===n.expressionTypes.EXISTENCE){const e=c;s(e.input)}break;case n.types.EXTEND:const l=r;s(l.input),s(l.expression);break;case n.types.FILTER:const f=r;s(f.input),s(f.expression);break;case n.types.FROM:const d=r;s(d.input);break;case n.types.GRAPH:const p=r;s(p.input);break;case n.types.GROUP:const h=r;s(h.input),h.aggregates.forEach(s);break;case n.types.INV:const y=r;s(y.path);break;case n.types.JOIN:const v=r;s(v.left),s(v.right);break;case n.types.LEFT_JOIN:const m=r;s(m.left),s(m.right),m.expression&&s(m.expression);break;case n.types.LINK:break;case n.types.MINUS:const g=r;s(g.left),s(g.right);break;case n.types.NPS:break;case n.types.ONE_OR_MORE_PATH:const b=r;s(b.path);break;case n.types.ORDER_BY:const w=r;s(w.input),w.expressions.forEach(s);break;case n.types.PATH:const T=r;s(T.predicate);break;case n.types.PATTERN:break;case n.types.PROJECT:const E=r;s(E.input);break;case n.types.REDUCED:const N=r;s(N.input);break;case n.types.SEQ:const x=r;s(x.left),s(x.right);break;case n.types.SERVICE:const _=r;s(_.input);break;case n.types.SLICE:const O=r;s(O.input);break;case n.types.UNION:const I=r;s(I.left),s(I.right);break;case n.types.VALUES:break;case n.types.ZERO_OR_MORE_PATH:const R=r;s(R.path);break;case n.types.ZERO_OR_ONE_PATH:const A=r;s(A.path);break;case n.types.COMPOSITE_UPDATE:const C=r;C.updates.forEach(e=>s(e));break;case n.types.DELETE_INSERT:const S=r;S.delete&&S.delete.forEach(e=>s(e)),S.insert&&S.insert.forEach(e=>s(e)),S.where&&s(S.where);break;case n.types.LOAD:break;case n.types.CLEAR:break;case n.types.CREATE:break;case n.types.DROP:break;case n.types.ADD:break;case n.types.MOVE:break;case n.types.COPY:break;default:throw new Error("Unknown Operation type "+r.type)}}static mapOperation(e,t,r){let s=e,o=!0;if(r=r||new a.default,t[e.type]&&({result:s,recurse:o}=t[e.type](e,r)),!o)return s;let u=e=>i.mapOperation(e,t,r);switch(s.type){case n.types.ALT:const e=s;return r.createAlt(u(e.left),u(e.right));case n.types.ASK:const a=s;return r.createAsk(u(a.input));case n.types.BGP:const o=s;return r.createBgp(o.patterns.map(u));case n.types.CONSTRUCT:const c=s;return r.createConstruct(u(c.input),c.template.map(u));case n.types.DESCRIBE:const l=s;return r.createDescribe(u(l.input),l.terms);case n.types.DISTINCT:const f=s;return r.createDistinct(u(f.input));case n.types.EXPRESSION:const d=s;return i.mapExpression(d,t,r);case n.types.EXTEND:const p=s;return r.createExtend(u(p.input),p.variable,u(p.expression));case n.types.FILTER:const h=s;return r.createFilter(u(h.input),u(h.expression));case n.types.FROM:const y=s;return r.createFrom(u(y.input),[].concat(y.default),[].concat(y.named));case n.types.GRAPH:const v=s;return r.createGraph(u(v.input),v.name);case n.types.GROUP:const m=s;return r.createGroup(u(m.input),[].concat(m.variables),m.aggregates.map(u));case n.types.INV:const g=s;return r.createInv(u(g.path));case n.types.JOIN:const b=s;return r.createJoin(u(b.left),u(b.right));case n.types.LEFT_JOIN:const w=s;return r.createLeftJoin(u(w.left),u(w.right),w.expression?u(w.expression):void 0);case n.types.LINK:const T=s;return r.createLink(T.iri);case n.types.MINUS:const E=s;return r.createMinus(u(E.left),u(E.right));case n.types.NPS:const N=s;return r.createNps([].concat(N.iris));case n.types.ONE_OR_MORE_PATH:const x=s;return r.createOneOrMorePath(u(x.path));case n.types.ORDER_BY:const _=s;return r.createOrderBy(u(_.input),_.expressions.map(u));case n.types.PATH:const O=s;return r.createPath(O.subject,u(O.predicate),O.object,O.graph);case n.types.PATTERN:const I=s;return r.createPattern(I.subject,I.predicate,I.object,I.graph);case n.types.PROJECT:const R=s;return r.createProject(u(R.input),[].concat(R.variables));case n.types.REDUCED:const A=s;return r.createReduced(u(A.input));case n.types.SEQ:const C=s;return r.createSeq(u(C.left),u(C.right));case n.types.SERVICE:const S=s;return r.createService(u(S.input),S.name,S.silent);case n.types.SLICE:const D=s;return r.createSlice(u(D.input),D.start,D.length);case n.types.UNION:const k=s;return r.createUnion(u(k.left),u(k.right));case n.types.VALUES:const j=s;return r.createValues([].concat(j.variables),j.bindings.map(e=>Object.assign({},e)));case n.types.ZERO_OR_MORE_PATH:const F=s;return r.createZeroOrMorePath(u(F.path));case n.types.ZERO_OR_ONE_PATH:const P=s;return r.createZeroOrOnePath(u(P.path));case n.types.COMPOSITE_UPDATE:const L=s;return r.createCompositeUpdate(L.updates.map(u));case n.types.DELETE_INSERT:const U=s;return r.createDeleteInsert(U.delete?U.delete.map(u):void 0,U.insert?U.insert.map(u):void 0,U.where?u(U.where):void 0);case n.types.LOAD:const M=s;return r.createLoad(M.source,M.destination,M.silent);case n.types.CLEAR:const V=s;return r.createClear(V.source,V.silent);case n.types.CREATE:const q=s;return r.createCreate(q.source,q.silent);case n.types.DROP:const B=s;return r.createDrop(B.source,B.silent);case n.types.ADD:const $=s;return r.createAdd($.source,$.destination);case n.types.MOVE:const G=s;return r.createMove(G.source,G.destination);case n.types.COPY:const H=s;return r.createCopy(H.source,H.destination);default:throw new Error("Unknown Operation type "+s)}}static mapExpression(e,t,r){let a=e=>i.mapOperation(e,t,r);switch(e.expressionType){case n.expressionTypes.AGGREGATE:if(e.variable){const t=e;return r.createBoundAggregate(t.variable,t.aggregator,a(t.expression),t.distinct,t.separator)}const t=e;return r.createAggregateExpression(t.aggregator,a(t.expression),t.distinct,t.separator);case n.expressionTypes.EXISTENCE:const i=e;return r.createExistenceExpression(i.not,a(i.input));case n.expressionTypes.NAMED:const s=e;return r.createNamedExpression(s.name,s.args.map(a));case n.expressionTypes.OPERATOR:const o=e;return r.createOperatorExpression(o.operator,o.args.map(a));case n.expressionTypes.TERM:const u=e;return r.createTermExpression(u.term);case n.expressionTypes.WILDCARD:return r.createWildcardExpression();default:throw new Error("Unknown Expression type "+e.expressionType)}}static createUniqueVariable(e,t,r){let n=0,a=e;while(t[a])a=e+n++;return r.variable(a)}static isTerm(e){return void 0!==e.termType&&"Quad"!==e.termType&&"Wildcard"!==e.termType}static isWildcard(e){return"Wildcard"===e.termType}}t.default=i},ef3c:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b"),a=r("9b92"),i=s(r("9c67"));function s(e){return e&&e.__esModule?e:{default:e}}const{as:o}=i.default["@context"];class u{constructor({activitiesPath:e="/public/activities"}={}){this.requireUser=!0,this.activitiesPath=e}handle(e,t){const r=this,{root:i}=t,{settings:{queryEngine:s}}=e;return(e="".concat(o,"Like"))=>(0,n.toIterablePromise)((async function*(){let n;try{n=await i.user}catch(f){if(r.requireUser)throw f;return}const o=await i.user.pim$storage,u=new URL(r.activitiesPath,o||n).href,c=[],l=(0,a.namedNode)(n);e=(0,a.namedNode)(e);for await(const a of t)if("NamedNode"===a.termType){const t={actor:l,type:e,object:a};for await(const e of r.createResults(t,u,s))c.push(e)}for(const e of await r.processResults(c,u,s))yield i[e.value]}))}async processResults(e){return e}}t.default=u},f036:function(e,t,r){(function(e,n){var a=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[6,12,15,28,41,50,55,107,117,120,122,123,132,133,138,320,321,322,323,324],n=[2,208],a=[107,117,120,122,123,132,133,138,320,321,322,323,324],i=[1,20],s=[1,29],o=[6,90],u=[45,46,58],c=[45,58],l=[1,58],f=[1,60],d=[1,56],p=[1,59],h=[1,65],y=[1,66],v=[26,34,35],m=[13,16,310],g=[119,141,318,325],b=[13,16,119,141,310],w=[1,88],T=[1,92],E=[1,94],N=[119,141,318,319,325],x=[13,16,119,141,310,319],_=[1,100],O=[2,250],I=[1,99],R=[13,16,34,35,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310],A=[6,45,46,58,68,75,78,86,88,90],C=[6,13,16,34,45,46,58,68,75,78,86,88,90,310],S=[6,13,16,26,34,35,37,38,45,46,48,58,68,75,78,86,87,88,90,93,100,116,119,132,133,135,140,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,248,252,256,271,276,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,328,329,331,332,333,334,335,336,337,338],D=[34,35,45,46,58],k=[13,16,34,35,87,273,274,275,277,279,280,282,283,286,288,297,298,299,300,301,302,303,304,305,306,307,308,309,310,338,339,340,341,342,343],j=[2,451],F=[1,123],P=[1,117],L=[1,124],U=[1,125],M=[6,13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],V=[2,309],q=[1,142],B=[1,140],$=[6,191],G=[2,326],H=[2,314],X=[45,135],Q=[6,48,78,86,88,90],z=[2,254],W=[1,156],J=[1,158],Y=[6,48,75,78,86,88,90],K=[2,252],Z=[1,164],ee=[1,176],te=[1,174],re=[1,184],ne=[1,182],ae=[1,175],ie=[1,180],se=[1,181],oe=[1,185],ue=[1,186],ce=[1,189],le=[1,190],fe=[1,191],de=[1,192],pe=[1,193],he=[1,194],ye=[1,195],ve=[1,196],me=[1,197],ge=[1,198],be=[1,199],we=[6,68,75,78,86,88,90],Te=[37,38,191,248,276],Ee=[37,38,191,248,252,276],Ne=[37,38,191,248,252,256,271,276,293,304,305,306,307,308,309,332,333,334,335,336,337,338],xe=[26,37,38,191,248,252,256,271,276,293,304,305,306,307,308,309,329,332,333,334,335,336,337,338],_e=[1,229],Oe=[1,230],Ie=[1,232],Re=[1,233],Ae=[1,234],Ce=[1,235],Se=[1,237],De=[1,238],ke=[2,458],je=[1,240],Fe=[1,241],Pe=[1,242],Le=[1,248],Ue=[1,243],Me=[1,244],Ve=[1,245],qe=[1,246],Be=[1,247],$e=[13,16,48,87,100,229,297,298,299,300,301,302,303,304,305,306,307,308,309,310],Ge=[48,93],He=[34,38],Xe=[6,116,191],Qe=[48,119],ze=[6,48,86,88,90],We=[2,338],Je=[2,330],Ye=[1,293],Ke=[1,295],Ze=[48,119,326],et=[13,16,34,195,310],tt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],rt=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,248,252,256,271,276,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,329,332,333,334,335,336,337,338],nt=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,248,252,256,271,276,293,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,329,332,333,334,335,336,337,338],at=[13,16,34,35,87,217,271,273,274,275,277,279,280,282,283,286,288,297,298,299,300,301,302,303,304,305,306,307,308,309,310,332,338,339,340,341,342,343],it=[1,329],st=[1,330],ot=[1,332],ut=[1,331],ct=[6,13,16,26,34,35,37,38,46,48,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,224,229,243,244,248,252,256,271,273,274,275,276,277,279,280,282,283,286,288,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,329,332,333,334,335,336,337,338,339,340,341,342,343],lt=[1,340],ft=[1,339],dt=[35,93],pt=[1,353],ht=[1,354],yt=[1,367],vt=[6,48,90],mt=[6,13,16,35,48,78,86,88,90,273,274,275,277,279,280,282,283,286,288,310,338,339,340,341,342,343],gt=[6,13,16,34,35,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,224,229,243,244,273,274,275,277,279,280,282,283,286,288,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,338,339,340,341,342,343],bt=[46,48,90,119,167,168,170,173,174],wt=[1,386],Tt=[1,387],Et=[1,393],Nt=[1,392],xt=[48,119,191,225,326],_t=[2,370],Ot=[13,16,34,35,38,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310],It=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,224,225,229,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],Rt=[13,16,26,34,35,87,217,271,273,274,275,277,279,280,282,283,286,288,297,298,299,300,301,302,303,304,305,306,307,308,309,310,332,338,339,340,341,342,343],At=[13,16,38,48,87,100,229,297,298,299,300,301,302,303,304,305,306,307,308,309,310],Ct=[35,48],St=[2,329],Dt=[1,451],kt=[1,448],jt=[1,449],Ft=[6,13,16,26,34,35,37,38,46,48,68,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,224,229,243,244,248,252,256,271,273,274,275,276,277,279,280,282,283,286,288,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,327,329,332,333,334,335,336,337,338,339,340,341,342,343],Pt=[13,16,35,195,217,222,310],Lt=[2,384],Ut=[1,469],Mt=[46,48,90,119,167,168,170,173,174,326],Vt=[13,16,34,35,195,217,222,310],qt=[6,13,16,34,35,48,75,78,86,88,90,273,274,275,277,279,280,282,283,286,288,310,338,339,340,341,342,343],Bt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,224,225,229,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],$t=[6,13,16,34,35,48,81,83,86,88,90,273,274,275,277,279,280,282,283,286,288,310,338,339,340,341,342,343],Gt=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310],Ht=[13,16,34,310],Xt=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],Qt=[2,341],zt=[46,48,90,119,167,168,170,173,174,191,225,326],Wt=[13,16,34,35,37,38,46,48,87,90,93,119,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],Jt=[2,336],Yt=[13,16,35,195,217,310],Kt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,217,222,224,225,229,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],Zt=[13,16,38,87,100,229,297,298,299,300,301,302,303,304,305,306,307,308,309,310],er=[13,16,34,38,48,87,100,195,229,233,297,298,299,300,301,302,303,304,305,306,307,308,309,310],tr=[13,16,34,35,48,87,93,119,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310],rr=[13,16,34,35,38,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,328,329],nr=[13,16,26,34,35,38,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,328,329,331,332],ar=[1,630],ir=[1,631],sr=[2,324],or=[13,16,38,195,222,310],ur={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Prologue_repetition0:7,Query:8,Query_group0:9,Query_option0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectQuery:17,SelectClauseWildcard:18,SelectQuery_repetition0:19,WhereClause:20,SolutionModifierNoGroup:21,SelectClauseVars:22,SelectQuery_repetition1:23,SolutionModifier:24,SelectClauseBase:25,"*":26,SelectClauseVars_repetition_plus0:27,SELECT:28,SelectClauseBase_option0:29,SubSelect:30,SubSelect_option0:31,SubSelect_option1:32,SelectClauseItem:33,VAR:34,"(":35,Expression:36,AS:37,")":38,VarTriple:39,ConstructQuery:40,CONSTRUCT:41,ConstructTemplate:42,ConstructQuery_repetition0:43,ConstructQuery_repetition1:44,WHERE:45,"{":46,ConstructQuery_option0:47,"}":48,DescribeQuery:49,DESCRIBE:50,DescribeQuery_group0:51,DescribeQuery_repetition0:52,DescribeQuery_option0:53,AskQuery:54,ASK:55,AskQuery_repetition0:56,DatasetClause:57,FROM:58,DatasetClause_option0:59,iri:60,WhereClause_option0:61,GroupGraphPattern:62,SolutionModifier_option0:63,SolutionModifierNoGroup_option0:64,SolutionModifierNoGroup_option1:65,SolutionModifierNoGroup_option2:66,GroupClause:67,GROUP:68,BY:69,GroupClause_repetition_plus0:70,GroupCondition:71,BuiltInCall:72,FunctionCall:73,HavingClause:74,HAVING:75,HavingClause_repetition_plus0:76,OrderClause:77,ORDER:78,OrderClause_repetition_plus0:79,OrderCondition:80,ASC:81,BrackettedExpression:82,DESC:83,Constraint:84,LimitOffsetClauses:85,LIMIT:86,INTEGER:87,OFFSET:88,ValuesClause:89,VALUES:90,InlineData:91,InlineData_repetition0:92,NIL:93,InlineData_repetition1:94,InlineData_repetition_plus2:95,InlineData_repetition3:96,DataBlockValue:97,Literal:98,ConstTriple:99,UNDEF:100,DataBlockValueList:101,DataBlockValueList_repetition_plus0:102,Update:103,Update_repetition0:104,Update1:105,Update_option0:106,LOAD:107,Update1_option0:108,Update1_option1:109,Update1_group0:110,Update1_option2:111,GraphRefAll:112,Update1_group1:113,Update1_option3:114,GraphOrDefault:115,TO:116,CREATE:117,Update1_option4:118,GRAPH:119,INSERTDATA:120,QuadPattern:121,DELETEDATA:122,DELETEWHERE:123,Update1_option5:124,InsertClause:125,Update1_option6:126,Update1_repetition0:127,Update1_option7:128,DeleteClause:129,Update1_option8:130,Update1_repetition1:131,DELETE:132,INSERT:133,UsingClause:134,USING:135,UsingClause_option0:136,WithClause:137,WITH:138,IntoGraphClause:139,INTO:140,DEFAULT:141,GraphOrDefault_option0:142,GraphRefAll_group0:143,QuadPattern_option0:144,QuadPattern_repetition0:145,QuadsNotTriples:146,QuadsNotTriples_group0:147,QuadsNotTriples_option0:148,QuadsNotTriples_option1:149,QuadsNotTriples_option2:150,TriplesTemplate:151,TriplesTemplate_repetition0:152,TriplesSameSubject:153,TriplesTemplate_option0:154,GroupGraphPatternSub:155,GroupGraphPatternSub_option0:156,GroupGraphPatternSub_repetition0:157,GroupGraphPatternSubTail:158,GraphPatternNotTriples:159,GroupGraphPatternSubTail_option0:160,GroupGraphPatternSubTail_option1:161,TriplesBlock:162,TriplesBlock_repetition0:163,TriplesSameSubjectPath:164,TriplesBlock_option0:165,GraphPatternNotTriples_repetition0:166,OPTIONAL:167,MINUS:168,GraphPatternNotTriples_group0:169,SERVICE:170,GraphPatternNotTriples_option0:171,GraphPatternNotTriples_group1:172,FILTER:173,BIND:174,FunctionCall_option0:175,FunctionCall_repetition0:176,ExpressionList:177,ExpressionList_repetition0:178,ConstructTemplate_option0:179,ConstructTriples:180,ConstructTriples_repetition0:181,ConstructTriples_option0:182,TriplesSameSubject_group0:183,PropertyListNotEmpty:184,TriplesNode:185,PropertyList:186,PropertyList_option0:187,VerbObjectList:188,PropertyListNotEmpty_repetition0:189,SemiOptionalVerbObjectList:190,";":191,SemiOptionalVerbObjectList_option0:192,Verb:193,ObjectList:194,a:195,ObjectList_repetition0:196,GraphNode:197,TriplesSameSubjectPath_group0:198,PropertyListPathNotEmpty:199,TriplesNodePath:200,TriplesSameSubjectPath_option0:201,PropertyListPathNotEmpty_group0:202,PropertyListPathNotEmpty_repetition0:203,GraphNodePath:204,PropertyListPathNotEmpty_repetition1:205,PropertyListPathNotEmptyTail:206,PropertyListPathNotEmptyTail_group0:207,Path:208,Path_repetition0:209,PathSequence:210,PathSequence_repetition0:211,PathEltOrInverse:212,PathElt:213,PathPrimary:214,PathElt_option0:215,PathEltOrInverse_option0:216,"!":217,PathNegatedPropertySet:218,PathOneInPropertySet:219,PathNegatedPropertySet_repetition0:220,PathNegatedPropertySet_option0:221,"^":222,TriplesNode_repetition_plus0:223,"[":224,"]":225,TriplesNodePath_repetition_plus0:226,GraphNode_group0:227,GraphNodePath_group0:228,"<<":229,VarTriple_group0:230,VarTriple_group1:231,VarTriple_group2:232,">>":233,VarTriple_group3:234,VarTriple_group4:235,ConstTriple_group0:236,ConstTriple_group1:237,ConstTriple_group2:238,ConstTriple_group3:239,ConstTriple_group4:240,VarOrTerm:241,Term:242,BLANK_NODE_LABEL:243,ANON:244,ConditionalAndExpression:245,Expression_repetition0:246,ExpressionTail:247,"||":248,RelationalExpression:249,ConditionalAndExpression_repetition0:250,ConditionalAndExpressionTail:251,"&&":252,AdditiveExpression:253,RelationalExpression_group0:254,RelationalExpression_option0:255,IN:256,MultiplicativeExpression:257,AdditiveExpression_repetition0:258,AdditiveExpressionTail:259,AdditiveExpressionTail_group0:260,NumericLiteralPositive:261,AdditiveExpressionTail_repetition0:262,NumericLiteralNegative:263,AdditiveExpressionTail_repetition1:264,UnaryExpression:265,MultiplicativeExpression_repetition0:266,MultiplicativeExpressionTail:267,MultiplicativeExpressionTail_group0:268,UnaryExpression_option0:269,PrimaryExpression:270,"-":271,Aggregate:272,FUNC_ARITY0:273,FUNC_ARITY1:274,FUNC_ARITY2:275,",":276,IF:277,BuiltInCall_group0:278,BOUND:279,BNODE:280,BuiltInCall_option0:281,EXISTS:282,COUNT:283,Aggregate_option0:284,Aggregate_group0:285,FUNC_AGGREGATE:286,Aggregate_option1:287,GROUP_CONCAT:288,Aggregate_option2:289,Aggregate_option3:290,GroupConcatSeparator:291,SEPARATOR:292,"=":293,String:294,LANGTAG:295,"^^":296,DECIMAL:297,DOUBLE:298,BOOLEAN:299,STRING_LITERAL1:300,STRING_LITERAL2:301,STRING_LITERAL_LONG1:302,STRING_LITERAL_LONG2:303,INTEGER_POSITIVE:304,DECIMAL_POSITIVE:305,DOUBLE_POSITIVE:306,INTEGER_NEGATIVE:307,DECIMAL_NEGATIVE:308,DOUBLE_NEGATIVE:309,PNAME_LN:310,QueryOrUpdate_group0_option0:311,Prologue_repetition0_group0:312,SelectClauseBase_option0_group0:313,DISTINCT:314,REDUCED:315,DescribeQuery_group0_repetition_plus0_group0:316,DescribeQuery_group0_repetition_plus0:317,NAMED:318,SILENT:319,CLEAR:320,DROP:321,ADD:322,MOVE:323,COPY:324,ALL:325,".":326,UNION:327,"|":328,"/":329,PathElt_option0_group0:330,"?":331,"+":332,"!=":333,"<":334,">":335,"<=":336,">=":337,NOT:338,CONCAT:339,COALESCE:340,SUBSTR:341,REGEX:342,REPLACE:343,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",26:"*",28:"SELECT",34:"VAR",35:"(",37:"AS",38:")",41:"CONSTRUCT",45:"WHERE",46:"{",48:"}",50:"DESCRIBE",55:"ASK",58:"FROM",68:"GROUP",69:"BY",75:"HAVING",78:"ORDER",81:"ASC",83:"DESC",86:"LIMIT",87:"INTEGER",88:"OFFSET",90:"VALUES",93:"NIL",100:"UNDEF",107:"LOAD",116:"TO",117:"CREATE",119:"GRAPH",120:"INSERTDATA",122:"DELETEDATA",123:"DELETEWHERE",132:"DELETE",133:"INSERT",135:"USING",138:"WITH",140:"INTO",141:"DEFAULT",167:"OPTIONAL",168:"MINUS",170:"SERVICE",173:"FILTER",174:"BIND",191:";",195:"a",217:"!",222:"^",224:"[",225:"]",229:"<<",233:">>",243:"BLANK_NODE_LABEL",244:"ANON",248:"||",252:"&&",256:"IN",271:"-",273:"FUNC_ARITY0",274:"FUNC_ARITY1",275:"FUNC_ARITY2",276:",",277:"IF",279:"BOUND",280:"BNODE",282:"EXISTS",283:"COUNT",286:"FUNC_AGGREGATE",288:"GROUP_CONCAT",292:"SEPARATOR",293:"=",295:"LANGTAG",296:"^^",297:"DECIMAL",298:"DOUBLE",299:"BOOLEAN",300:"STRING_LITERAL1",301:"STRING_LITERAL2",302:"STRING_LITERAL_LONG1",303:"STRING_LITERAL_LONG2",304:"INTEGER_POSITIVE",305:"DECIMAL_POSITIVE",306:"DOUBLE_POSITIVE",307:"INTEGER_NEGATIVE",308:"DECIMAL_NEGATIVE",309:"DOUBLE_NEGATIVE",310:"PNAME_LN",314:"DISTINCT",315:"REDUCED",318:"NAMED",319:"SILENT",320:"CLEAR",321:"DROP",322:"ADD",323:"MOVE",324:"COPY",325:"ALL",326:".",327:"UNION",328:"|",329:"/",331:"?",332:"+",333:"!=",334:"<",335:">",336:"<=",337:">=",338:"NOT",339:"CONCAT",340:"COALESCE",341:"SUBSTR",342:"REGEX",343:"REPLACE"},productions_:[0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[17,4],[18,2],[22,2],[25,2],[30,4],[30,4],[33,1],[33,5],[33,5],[40,5],[40,7],[49,5],[54,4],[57,3],[20,2],[24,2],[21,3],[67,3],[71,1],[71,1],[71,3],[71,5],[71,1],[74,2],[77,3],[80,2],[80,2],[80,1],[80,1],[85,2],[85,2],[85,4],[85,4],[89,2],[91,4],[91,4],[91,6],[97,1],[97,1],[97,1],[97,1],[101,3],[103,3],[105,4],[105,3],[105,5],[105,4],[105,2],[105,2],[105,2],[105,6],[105,6],[129,2],[125,2],[134,3],[137,2],[139,3],[115,1],[115,2],[112,2],[112,1],[121,4],[146,7],[151,3],[62,3],[62,3],[155,2],[158,3],[162,3],[159,2],[159,2],[159,2],[159,3],[159,4],[159,2],[159,6],[159,6],[159,1],[84,1],[84,1],[84,1],[73,2],[73,6],[177,1],[177,4],[42,3],[180,3],[153,2],[153,2],[186,1],[184,2],[190,2],[188,2],[193,1],[193,1],[193,1],[194,2],[164,2],[164,2],[199,4],[206,1],[206,3],[208,2],[210,2],[213,2],[212,2],[214,1],[214,1],[214,2],[214,3],[218,1],[218,1],[218,4],[219,1],[219,1],[219,2],[219,2],[185,3],[185,3],[200,3],[200,3],[197,1],[197,1],[204,1],[204,1],[39,9],[39,5],[99,9],[99,5],[241,1],[241,1],[242,1],[242,1],[242,1],[242,1],[242,1],[36,2],[247,2],[245,2],[251,2],[249,1],[249,3],[249,4],[253,2],[259,2],[259,2],[259,2],[257,2],[267,2],[265,2],[265,2],[265,2],[270,1],[270,1],[270,1],[270,1],[270,1],[270,1],[82,3],[72,1],[72,2],[72,4],[72,6],[72,8],[72,2],[72,4],[72,2],[72,4],[72,3],[272,5],[272,5],[272,6],[291,4],[98,1],[98,2],[98,3],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[294,1],[294,1],[294,1],[294,1],[261,1],[261,1],[261,1],[263,1],[263,1],[263,1],[60,1],[60,1],[60,1],[311,0],[311,1],[5,1],[5,1],[312,1],[312,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,2],[27,1],[27,2],[313,1],[313,1],[29,0],[29,1],[31,0],[31,1],[32,0],[32,1],[43,0],[43,2],[44,0],[44,2],[47,0],[47,1],[316,1],[316,1],[317,1],[317,2],[51,1],[51,1],[52,0],[52,2],[53,0],[53,1],[56,0],[56,2],[59,0],[59,1],[61,0],[61,1],[63,0],[63,1],[64,0],[64,1],[65,0],[65,1],[66,0],[66,1],[70,1],[70,2],[76,1],[76,2],[79,1],[79,2],[92,0],[92,2],[94,0],[94,2],[95,1],[95,2],[96,0],[96,2],[102,1],[102,2],[104,0],[104,4],[106,0],[106,2],[108,0],[108,1],[109,0],[109,1],[110,1],[110,1],[111,0],[111,1],[113,1],[113,1],[113,1],[114,0],[114,1],[118,0],[118,1],[124,0],[124,1],[126,0],[126,1],[127,0],[127,2],[128,0],[128,1],[130,0],[130,1],[131,0],[131,2],[136,0],[136,1],[142,0],[142,1],[143,1],[143,1],[143,1],[144,0],[144,1],[145,0],[145,2],[147,1],[147,1],[148,0],[148,1],[149,0],[149,1],[150,0],[150,1],[152,0],[152,3],[154,0],[154,1],[156,0],[156,1],[157,0],[157,2],[160,0],[160,1],[161,0],[161,1],[163,0],[163,3],[165,0],[165,1],[166,0],[166,3],[169,1],[169,1],[171,0],[171,1],[172,1],[172,1],[175,0],[175,1],[176,0],[176,3],[178,0],[178,3],[179,0],[179,1],[181,0],[181,3],[182,0],[182,1],[183,1],[183,1],[187,0],[187,1],[189,0],[189,2],[192,0],[192,1],[196,0],[196,3],[198,1],[198,1],[201,0],[201,1],[202,1],[202,1],[203,0],[203,3],[205,0],[205,2],[207,1],[207,1],[209,0],[209,3],[211,0],[211,3],[330,1],[330,1],[330,1],[215,0],[215,1],[216,0],[216,1],[220,0],[220,3],[221,0],[221,1],[223,1],[223,2],[226,1],[226,2],[227,1],[227,1],[228,1],[228,1],[230,1],[230,1],[231,1],[231,1],[232,1],[232,1],[234,1],[234,1],[235,1],[235,1],[236,1],[236,1],[237,1],[237,1],[238,1],[238,1],[239,1],[239,1],[240,1],[240,1],[246,0],[246,2],[250,0],[250,2],[254,1],[254,1],[254,1],[254,1],[254,1],[254,1],[255,0],[255,1],[258,0],[258,2],[260,1],[260,1],[262,0],[262,2],[264,0],[264,2],[266,0],[266,2],[268,1],[268,1],[269,0],[269,1],[278,1],[278,1],[278,1],[278,1],[278,1],[281,0],[281,1],[284,0],[284,1],[285,1],[285,1],[287,0],[287,1],[289,0],[289,1],[290,0],[290,1]],performAction:function(e,t,r,n,a,i,s){var o=i.length-1;switch(a){case 1:if(i[o-1]=i[o-1]||{},un.base&&(i[o-1].base=un.base),un.base="",i[o-1].prefixes=un.prefixes,un.prefixes=null,"update"===i[o-1].type){const e={};for(const t of i[o-1].updates)if("insert"===t.updateType){const r={};for(const e of t.insert)if("bgp"===e.type||"graph"===e.type)for(const t of e.triples)"BlankNode"===t.subject.termType&&(r[t.subject.value]=!0),"BlankNode"===t.predicate.termType&&(r[t.predicate.value]=!0),"BlankNode"===t.object.termType&&(r[t.object.value]=!0);for(const t of Object.keys(r)){if(e[t])throw new Error("Detected reuse blank node across different INSERT DATA clauses");e[t]=!0}}}return i[o-1];case 3:this.$=Or(i[o-1],i[o],{type:"query"});break;case 4:un.base=Rr(i[o]);break;case 5:un.prefixes||(un.prefixes={}),i[o-1]=i[o-1].substr(0,i[o-1].length-1),i[o]=Rr(i[o]),un.prefixes[i[o-1]]=i[o];break;case 6:this.$=Or(i[o-3],jr(i[o-2]),i[o-1],i[o]);break;case 7:if(!un.skipUngroupedVariableCheck){const e=Zr(i[o-3].variables.map(e=>Yr(e.expression))).some(e=>"count"===e.aggregation&&!(e.expression instanceof cr));if(e||i[o].group)for(const t of i[o-3].variables)if("Variable"===t.termType){if(!i[o].group||!i[o].group.map(e=>Jr(e)).includes(Jr(t)))throw Error("Projection of ungrouped variable (?"+Jr(t)+")")}else if(0===Yr(t.expression).length){const e=Kr(t.expression);for(const t of e)if(!i[o].group.map(e=>Jr(e)).includes(Jr(t)))throw Error("Use of ungrouped variable in projection of operation (?"+Jr(t)+")")}}const e=i[o-1].where.filter(e=>"query"===e.type);if(e.length>0){const t=i[o-3].variables.filter(e=>e.variable&&e.variable.value).map(e=>e.variable.value),r=Zr(e.map(e=>e.variables)).map(e=>e.value||e.variable.value);for(const e of t)if(r.indexOf(e)>=0)throw Error("Target id of 'AS' (?"+e+") already used in subquery")}this.$=Or(i[o-3],jr(i[o-2]),i[o-1],i[o]);break;case 8:this.$=Or(i[o-1],{variables:[new cr]});break;case 9:const t=i[o].map(e=>e.value||e.variable.value),r=rn(t);if(r.length>0)throw Error("Two or more of the resulting columns have the same name (?"+r[0]+")");this.$=Or(i[o-1],{variables:i[o]});break;case 10:this.$=Or({queryType:"SELECT"},i[o]&&(i[o-1]=Nr(i[o]),i[o]={},i[o][i[o-1]]=!0,i[o]));break;case 11:case 12:this.$=Or(i[o-3],i[o-2],i[o-1],i[o],{type:"query"});break;case 13:case 100:case 136:case 164:this.$=Ar(i[o]);break;case 14:case 28:this.$=Sr(i[o-3],{variable:Ar(i[o-1])});break;case 15:this.$=nn(Sr(i[o-3],{variable:Ar(i[o-1])}));break;case 16:this.$=Or({queryType:"CONSTRUCT",template:i[o-3]},jr(i[o-2]),i[o-1],i[o]);break;case 17:this.$=Or({queryType:"CONSTRUCT",template:i[o-2]=i[o-2]?i[o-2].triples:[]},jr(i[o-5]),{where:[{type:"bgp",triples:_r([],i[o-2])}]},i[o]);break;case 18:this.$=Or({queryType:"DESCRIBE",variables:"*"===i[o-3]?[new cr]:i[o-3].map(Ar)},jr(i[o-2]),i[o-1],i[o]);break;case 19:this.$=Or({queryType:"ASK"},jr(i[o-2]),i[o-1],i[o]);break;case 20:case 61:this.$={iri:i[o],named:!!i[o-1]};break;case 21:this.$={where:i[o].patterns};break;case 22:this.$=Or(i[o-1],i[o]);break;case 23:this.$=Or(i[o-2],i[o-1],i[o]);break;case 24:this.$={group:i[o]};break;case 25:case 26:case 32:case 34:this.$=Sr(i[o]);break;case 27:this.$=Sr(i[o-1]);break;case 29:case 35:this.$=Sr(Ar(i[o]));break;case 30:this.$={having:i[o]};break;case 31:this.$={order:i[o]};break;case 33:this.$=Sr(i[o],{descending:!0});break;case 36:this.$={limit:Fr(i[o])};break;case 37:this.$={offset:Fr(i[o])};break;case 38:this.$={limit:Fr(i[o-2]),offset:Fr(i[o])};break;case 39:this.$={limit:Fr(i[o]),offset:Fr(i[o-2])};break;case 40:this.$={type:"values",values:i[o]};break;case 41:this.$=i[o-1].map((function(e){var t={};return t[i[o-3]]=e,t}));break;case 42:this.$=i[o-1].map((function(){return{}}));break;case 43:var u=i[o-4].length;i[o-4]=i[o-4].map(Ar),this.$=i[o-1].map((function(e){if(e.length!==u)throw Error("Inconsistent VALUES length");for(var t={},r=0;r<u;r++)t["?"+i[o-4][r].value]=e[r];return t}));break;case 46:this.$=nn(i[o]);break;case 47:this.$=void 0;break;case 48:case 92:case 116:case 165:this.$=i[o-1];break;case 49:this.$={type:"update",updates:xr(i[o-2],i[o-1])};break;case 50:this.$=Or({type:"load",silent:!!i[o-2],source:i[o-1]},i[o]&&{destination:i[o]});break;case 51:this.$={type:Nr(i[o-2]),silent:!!i[o-1],graph:i[o]};break;case 52:this.$={type:Nr(i[o-4]),silent:!!i[o-3],source:i[o-2],destination:i[o]};break;case 53:this.$={type:"create",silent:!!i[o-2],graph:{type:"graph",name:i[o]}};break;case 54:this.$={updateType:"insert",insert:an(i[o])};break;case 55:this.$={updateType:"delete",delete:sn(an(i[o]))};break;case 56:this.$={updateType:"deletewhere",delete:sn(i[o])};break;case 57:this.$=Or({updateType:"insertdelete"},i[o-5],{insert:i[o-4]||[]},{delete:i[o-3]||[]},jr(i[o-2],"using"),{where:i[o].patterns});break;case 58:this.$=Or({updateType:"insertdelete"},i[o-5],{delete:i[o-4]||[]},{insert:i[o-3]||[]},jr(i[o-2],"using"),{where:i[o].patterns});break;case 59:this.$=sn(i[o]);break;case 60:case 63:case 156:case 179:this.$=i[o];break;case 62:this.$={graph:i[o]};break;case 64:this.$={type:"graph",default:!0};break;case 65:case 66:this.$={type:"graph",name:i[o]};break;case 67:this.$={},this.$[Nr(i[o])]=!0;break;case 68:this.$=i[o-2]?Ir(i[o-1],[i[o-2]]):Ir(i[o-1]);break;case 69:var c=Or(i[o-3]||{triples:[]},{type:"graph",name:Ar(i[o-5])});this.$=i[o]?[c,i[o]]:[c];break;case 70:case 75:this.$={type:"bgp",triples:Ir(i[o-2],[i[o-1]])};break;case 71:this.$={type:"group",patterns:[i[o-1]]};break;case 72:for(const n of i[o-1].filter(e=>"bind"===e.type)){const e=i[o-1].indexOf(n),t=new Set;for(const r of i[o-1].slice(0,e))"group"!==r.type&&"bgp"!==r.type||tn(r).forEach(e=>t.add(e));if(t.has(n.variable.value))throw Error("Variable used to bind is already bound (?"+n.variable.value+")")}this.$={type:"group",patterns:i[o-1]};break;case 73:this.$=i[o-1]?Ir([i[o-1]],i[o]):Ir(i[o]);break;case 74:this.$=i[o]?[i[o-2],i[o]]:i[o-2];break;case 76:i[o-1].length?this.$={type:"union",patterns:Ir(i[o-1].map(Pr),[Pr(i[o])])}:this.$=i[o];break;case 77:this.$=Or(i[o],{type:"optional"});break;case 78:this.$=Or(i[o],{type:"minus"});break;case 79:this.$=Or(i[o],{type:"graph",name:Ar(i[o-1])});break;case 80:this.$=Or(i[o],{type:"service",name:Ar(i[o-1]),silent:!!i[o-2]});break;case 81:this.$={type:"filter",expression:i[o]};break;case 82:this.$={type:"bind",variable:Ar(i[o-1]),expression:i[o-3]};break;case 83:this.$=nn({type:"bind",variable:Ar(i[o-1]),expression:i[o-3]});break;case 88:this.$={type:"functionCall",function:i[o-1],args:[]};break;case 89:this.$={type:"functionCall",function:i[o-5],args:xr(i[o-2],i[o-1]),distinct:!!i[o-3]};break;case 90:case 107:case 118:case 208:case 216:case 218:case 230:case 232:case 242:case 246:case 266:case 268:case 272:case 276:case 299:case 305:case 316:case 326:case 332:case 338:case 342:case 352:case 354:case 358:case 366:case 370:case 378:case 380:case 384:case 386:case 395:case 427:case 429:case 439:case 443:case 445:case 447:this.$=[];break;case 91:this.$=xr(i[o-2],i[o-1]);break;case 93:this.$=Ir(i[o-2],[i[o-1]]);break;case 94:case 104:this.$=i[o].map((function(e){return Or(Mr(i[o-1]),e)}));break;case 95:this.$=_r(i[o].map((function(e){return Or(Mr(i[o-1].entity),e)})),i[o-1].triples);break;case 97:this.$=Ir([i[o-1]],i[o]);break;case 98:this.$=Ir(i[o]);break;case 99:this.$=Wr(i[o-1],i[o]);break;case 102:case 114:case 121:this.$=un.factory.namedNode(fr);break;case 103:this.$=xr(i[o-1],i[o]);break;case 105:this.$=i[o]?_r(i[o].map((function(e){return Or(Mr(i[o-1].entity),e)})),i[o-1].triples):i[o-1].triples;break;case 106:this.$=Wr(Ar(i[o-3]),xr(i[o-2],i[o-1]),i[o]);break;case 108:this.$=Wr(Ar(i[o-1]),i[o]);break;case 109:this.$=i[o-1].length?Dr("|",xr(i[o-1],i[o])):i[o];break;case 110:this.$=i[o-1].length?Dr("/",xr(i[o-1],i[o])):i[o];break;case 111:this.$=i[o]?Dr(i[o],[i[o-1]]):i[o-1];break;case 112:this.$=i[o-1]?Dr(i[o-1],[i[o]]):i[o];break;case 115:case 122:this.$=Dr(i[o-1],[i[o]]);break;case 119:this.$=Dr("|",xr(i[o-2],i[o-1]));break;case 123:this.$=Dr(i[o-1],[un.factory.namedNode(fr)]);break;case 124:case 126:this.$=Qr(i[o-1]);break;case 125:case 127:this.$=zr(i[o-1]);break;case 128:this.$={entity:i[o],triples:[]};break;case 130:this.$={entity:i[o],triples:[]};break;case 132:case 134:this.$=nn(un.factory.quad(i[o-4],i[o-3],i[o-2],Ar(i[o-6])));break;case 133:case 135:this.$=nn(un.factory.quad(i[o-3],i[o-2],i[o-1]));break;case 140:this.$=Vr(i[o].replace(/^(_:)/,""));break;case 141:this.$=Vr();break;case 142:this.$=un.factory.namedNode(hr);break;case 143:case 145:case 150:case 154:this.$=kr(i[o-1],i[o]);break;case 144:this.$=["||",i[o]];break;case 146:this.$=["&&",i[o]];break;case 148:this.$=Cr(i[o-1],[i[o-2],i[o]]);break;case 149:this.$=Cr(i[o-2]?"notin":"in",[i[o-3],i[o]]);break;case 151:case 155:this.$=[i[o-1],i[o]];break;case 152:this.$=["+",kr(i[o-1],i[o])];break;case 153:var l=Lr(i[o-1].value.replace("-",""),i[o-1].datatype);this.$=["-",kr(l,i[o])];break;case 157:this.$=Cr(i[o-1],[i[o]]);break;case 158:this.$=Cr("UMINUS",[i[o]]);break;case 167:this.$=Cr(Nr(i[o-1]));break;case 168:this.$=Cr(Nr(i[o-3]),[i[o-1]]);break;case 169:this.$=Cr(Nr(i[o-5]),[i[o-3],i[o-1]]);break;case 170:this.$=Cr(Nr(i[o-7]),[i[o-5],i[o-3],i[o-1]]);break;case 171:this.$=Cr(Nr(i[o-1]),i[o]);break;case 172:this.$=Cr("bound",[Ar(i[o-1])]);break;case 173:this.$=Cr(i[o-1],[]);break;case 174:this.$=Cr(i[o-3],[i[o-1]]);break;case 175:this.$=Cr(i[o-2]?"notexists":"exists",[Pr(i[o])]);break;case 176:case 177:this.$=Sr(i[o-1],{type:"aggregate",aggregation:Nr(i[o-4]),distinct:!!i[o-2]});break;case 178:this.$=Sr(i[o-2],{type:"aggregate",aggregation:Nr(i[o-5]),distinct:!!i[o-3],separator:i[o-1]||" "});break;case 180:this.$=Lr(i[o]);break;case 181:this.$=Ur(i[o-1],Nr(i[o].substr(1)));break;case 182:this.$=Lr(i[o-2],i[o]);break;case 183:case 196:this.$=Lr(i[o],vr);break;case 184:case 197:this.$=Lr(i[o],mr);break;case 185:case 198:this.$=Lr(Nr(i[o]),gr);break;case 188:this.$=Lr(i[o].toLowerCase(),br);break;case 189:case 190:this.$=Xr(i[o],1);break;case 191:case 192:this.$=Xr(i[o],3);break;case 193:this.$=Lr(i[o].substr(1),vr);break;case 194:this.$=Lr(i[o].substr(1),mr);break;case 195:this.$=Lr(i[o].substr(1).toLowerCase(),gr);break;case 199:this.$=un.factory.namedNode(Rr(i[o]));break;case 200:var f=i[o].indexOf(":"),d=i[o].substr(0,f),p=un.prefixes[d];if(!p)throw new Error("Unknown prefix: "+d);var h=Rr(p+i[o].substr(f+1));this.$=un.factory.namedNode(h);break;case 201:if(i[o]=i[o].substr(0,i[o].length-1),!(i[o]in un.prefixes))throw new Error("Unknown prefix: "+i[o]);h=Rr(un.prefixes[i[o]]);this.$=un.factory.namedNode(h);break;case 209:case 217:case 219:case 221:case 231:case 233:case 239:case 243:case 247:case 261:case 263:case 265:case 267:case 269:case 271:case 273:case 275:case 300:case 306:case 317:case 333:case 367:case 381:case 400:case 402:case 428:case 430:case 440:case 444:case 446:case 448:i[o-1].push(i[o]);break;case 220:case 238:case 260:case 262:case 264:case 270:case 274:case 399:case 401:this.$=[i[o]];break;case 277:i[o-3].push(i[o-2]);break;case 327:case 339:case 343:case 353:case 355:case 359:case 371:case 379:case 385:case 387:case 396:i[o-2].push(i[o-1]);break}},table:[e(t,n,{3:1,4:2,7:3}),{1:[3]},e(a,[2,276],{5:4,8:5,311:6,9:7,103:8,17:9,40:10,49:11,54:12,104:13,18:14,22:15,25:19,6:[2,202],28:i,41:[1,16],50:[1,17],55:[1,18]}),e([6,28,41,50,55,107,117,120,122,123,132,133,138,320,321,322,323,324],[2,2],{312:21,11:22,14:23,12:[1,24],15:[1,25]}),{6:[1,26]},{6:[2,204]},{6:[2,205]},{6:[2,214],10:27,89:28,90:s},{6:[2,203]},e(o,[2,210]),e(o,[2,211]),e(o,[2,212]),e(o,[2,213]),{105:30,107:[1,31],110:32,113:33,117:[1,34],120:[1,35],122:[1,36],123:[1,37],124:38,128:39,132:[2,301],133:[2,295],137:45,138:[1,46],320:[1,40],321:[1,41],322:[1,42],323:[1,43],324:[1,44]},e(u,[2,216],{19:47}),e(u,[2,218],{23:48}),e(c,[2,232],{42:49,44:50,46:[1,51]}),{13:l,16:f,26:[1,54],34:d,51:52,60:57,310:p,316:55,317:53},e(u,[2,246],{56:61}),{26:[1,62],27:63,33:64,34:h,35:y},e(v,[2,224],{29:67,313:68,314:[1,69],315:[1,70]}),e(t,[2,209]),e(t,[2,206]),e(t,[2,207]),{13:[1,71]},{16:[1,72]},{1:[2,1]},{6:[2,3]},{6:[2,215]},{34:[1,74],35:[1,76],91:73,93:[1,75]},{6:[2,278],106:77,191:[1,78]},e(m,[2,280],{108:79,319:[1,80]}),e(g,[2,286],{111:81,319:[1,82]}),e(b,[2,291],{114:83,319:[1,84]}),{118:85,119:[2,293],319:[1,86]},{46:w,121:87},{46:w,121:89},{46:w,121:90},{125:91,133:T},{129:93,132:E},e(N,[2,284]),e(N,[2,285]),e(x,[2,288]),e(x,[2,289]),e(x,[2,290]),{132:[2,302],133:[2,296]},{13:l,16:f,60:95,310:p},{20:96,45:_,46:O,57:97,58:I,61:98},{20:101,45:_,46:O,57:102,58:I,61:98},e(u,[2,230],{43:103}),{45:[1,104],57:105,58:I},e(R,[2,358],{179:106,180:107,181:108,48:[2,356]}),e(A,[2,242],{52:109}),e(A,[2,240],{60:57,316:110,13:l,16:f,34:d,310:p}),e(A,[2,241]),e(C,[2,238]),e(C,[2,236]),e(C,[2,237]),e(S,[2,199]),e(S,[2,200]),e(S,[2,201]),{20:111,45:_,46:O,57:112,58:I,61:98},e(u,[2,8]),e(u,[2,9],{33:113,34:h,35:y}),e(D,[2,220]),e(D,[2,13]),e(k,j,{36:114,39:115,245:116,249:118,253:119,257:120,265:121,269:122,217:F,229:P,271:L,332:U}),e(v,[2,10]),e(v,[2,225]),e(v,[2,222]),e(v,[2,223]),e(t,[2,4]),{13:[1,126]},e(M,[2,40]),{46:[1,127]},{46:[1,128]},{34:[1,130],95:129},{6:[2,49]},e(t,n,{7:3,4:131}),{13:l,16:f,60:132,310:p},e(m,[2,281]),{112:133,119:[1,134],141:[1,136],143:135,318:[1,137],325:[1,138]},e(g,[2,287]),e(m,V,{115:139,142:141,119:q,141:B}),e(b,[2,292]),{119:[1,143]},{119:[2,294]},e($,[2,54]),e(R,G,{144:144,151:145,152:146,48:H,119:H}),e($,[2,55]),e($,[2,56]),e(X,[2,297],{126:147,129:148,132:E}),{46:w,121:149},e(X,[2,303],{130:150,125:151,133:T}),{46:w,121:152},e([132,133],[2,62]),e(Q,z,{21:153,64:154,74:155,75:W}),e(u,[2,217]),{46:J,62:157},e(m,[2,248],{59:159,318:[1,160]}),{46:[2,251]},e(Y,K,{24:161,63:162,67:163,68:Z}),e(u,[2,219]),{20:165,45:_,46:O,57:166,58:I,61:98},{46:[1,167]},e(c,[2,233]),{48:[1,168]},{48:[2,357]},{13:l,16:f,34:ee,35:te,39:173,60:178,87:re,93:ne,98:179,153:169,183:170,185:171,224:ae,229:P,241:172,242:177,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(we,[2,244],{61:98,53:200,57:201,20:202,45:_,46:O,58:I}),e(C,[2,239]),e(Y,K,{63:162,67:163,24:203,68:Z}),e(u,[2,247]),e(D,[2,221]),{37:[1,204]},{37:[1,205]},e(Te,[2,427],{246:206}),{13:l,16:f,34:ee,39:209,60:178,87:re,93:ne,98:179,119:[1,207],229:P,234:208,241:210,242:177,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(Ee,[2,429],{250:211}),e(Ee,[2,147],{254:212,255:213,256:[2,437],293:[1,214],333:[1,215],334:[1,216],335:[1,217],336:[1,218],337:[1,219],338:[1,220]}),e(Ne,[2,439],{258:221}),e(xe,[2,447],{266:222}),{13:l,16:f,34:_e,35:Oe,60:226,72:225,73:227,82:224,87:re,98:228,261:187,263:188,270:223,272:231,273:Ie,274:Re,275:Ae,277:Ce,278:236,279:Se,280:De,281:239,282:ke,283:je,286:Fe,288:Pe,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p,338:Le,339:Ue,340:Me,341:Ve,342:qe,343:Be},{13:l,16:f,34:_e,35:Oe,60:226,72:225,73:227,82:224,87:re,98:228,261:187,263:188,270:249,272:231,273:Ie,274:Re,275:Ae,277:Ce,278:236,279:Se,280:De,281:239,282:ke,283:je,286:Fe,288:Pe,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p,338:Le,339:Ue,340:Me,341:Ve,342:qe,343:Be},{13:l,16:f,34:_e,35:Oe,60:226,72:225,73:227,82:224,87:re,98:228,261:187,263:188,270:250,272:231,273:Ie,274:Re,275:Ae,277:Ce,278:236,279:Se,280:De,281:239,282:ke,283:je,286:Fe,288:Pe,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p,338:Le,339:Ue,340:Me,341:Ve,342:qe,343:Be},e(k,[2,452]),e(t,[2,5]),e($e,[2,266],{92:251}),e(Ge,[2,268],{94:252}),{34:[1,254],38:[1,253]},e(He,[2,270]),e(a,[2,277],{6:[2,279]}),e($,[2,282],{109:255,139:256,140:[1,257]}),e($,[2,51]),{13:l,16:f,60:258,310:p},e($,[2,67]),e($,[2,311]),e($,[2,312]),e($,[2,313]),{116:[1,259]},e(Xe,[2,64]),{13:l,16:f,60:260,310:p},e(m,[2,310]),{13:l,16:f,60:261,310:p},e(Qe,[2,316],{145:262}),e(Qe,[2,315]),{13:l,16:f,34:ee,35:te,39:173,60:178,87:re,93:ne,98:179,153:263,183:170,185:171,224:ae,229:P,241:172,242:177,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(X,[2,299],{127:264}),e(X,[2,298]),e([45,132,135],[2,60]),e(X,[2,305],{131:265}),e(X,[2,304]),e([45,133,135],[2,59]),e(o,[2,6]),e(ze,[2,256],{65:266,77:267,78:[1,268]}),e(Q,[2,255]),{13:l,16:f,35:Oe,60:274,72:272,73:273,76:269,82:271,84:270,272:231,273:Ie,274:Re,275:Ae,277:Ce,278:236,279:Se,280:De,281:239,282:ke,283:je,286:Fe,288:Pe,310:p,338:Le,339:Ue,340:Me,341:Ve,342:qe,343:Be},e([6,48,68,75,78,86,88,90],[2,21]),e(R,We,{25:19,30:275,155:276,18:277,22:278,156:279,162:280,163:281,28:i,46:Je,48:Je,90:Je,119:Je,167:Je,168:Je,170:Je,173:Je,174:Je}),{13:l,16:f,60:282,310:p},e(m,[2,249]),e(o,[2,7]),e(Q,z,{64:154,74:155,21:283,75:W}),e(Y,[2,253]),{69:[1,284]},e(Y,K,{63:162,67:163,24:285,68:Z}),e(u,[2,231]),e(R,G,{152:146,47:286,151:287,48:[2,234]}),e(u,[2,92]),{48:[2,360],182:288,326:[1,289]},{13:l,16:f,34:Ye,60:294,184:290,188:291,193:292,195:Ke,310:p},e(Ze,[2,364],{188:291,193:292,60:294,186:296,187:297,184:298,13:l,16:f,34:Ye,195:Ke,310:p}),e(et,[2,362]),e(et,[2,363]),{13:l,16:f,34:ee,35:te,39:304,60:178,87:re,93:ne,98:179,185:302,197:300,223:299,224:ae,227:301,229:P,241:303,242:177,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},{13:l,16:f,34:Ye,60:294,184:305,188:291,193:292,195:Ke,310:p},e(tt,[2,136]),e(tt,[2,137]),e(tt,[2,138]),e(tt,[2,139]),e(tt,[2,140]),e(tt,[2,141]),e(tt,[2,142]),e(rt,[2,180],{295:[1,306],296:[1,307]}),e(rt,[2,183]),e(rt,[2,184]),e(rt,[2,185]),e(rt,[2,186]),e(rt,[2,187]),e(rt,[2,188]),e(nt,[2,189]),e(nt,[2,190]),e(nt,[2,191]),e(nt,[2,192]),e(rt,[2,193]),e(rt,[2,194]),e(rt,[2,195]),e(rt,[2,196]),e(rt,[2,197]),e(rt,[2,198]),e(Y,K,{63:162,67:163,24:308,68:Z}),e(A,[2,243]),e(we,[2,245]),e(o,[2,19]),{34:[1,309]},{34:[1,310]},e([37,38,191,276],[2,143],{247:311,248:[1,312]}),{13:l,16:f,34:[1,314],60:315,230:313,310:p},{13:l,16:f,34:Ye,60:294,193:316,195:Ke,310:p},e(et,[2,413]),e(et,[2,414]),e(Te,[2,145],{251:317,252:[1,318]}),e(k,j,{257:120,265:121,269:122,253:319,217:F,271:L,332:U}),{256:[1,320]},e(at,[2,431]),e(at,[2,432]),e(at,[2,433]),e(at,[2,434]),e(at,[2,435]),e(at,[2,436]),{256:[2,438]},e([37,38,191,248,252,256,276,293,333,334,335,336,337,338],[2,150],{259:321,260:322,261:323,263:324,271:[1,326],304:he,305:ye,306:ve,307:me,308:ge,309:be,332:[1,325]}),e(Ne,[2,154],{267:327,268:328,26:it,329:st}),e(xe,[2,156]),e(xe,[2,159]),e(xe,[2,160]),e(xe,[2,161],{35:ot,93:ut}),e(xe,[2,162]),e(xe,[2,163]),e(xe,[2,164]),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:333,217:F,271:L,332:U}),e(ct,[2,166]),{93:[1,334]},{35:[1,335]},{35:[1,336]},{35:[1,337]},{35:lt,93:ft,177:338},{35:[1,341]},{35:[1,343],93:[1,342]},{282:[1,344]},{35:[1,345]},{35:[1,346]},{35:[1,347]},e(dt,[2,453]),e(dt,[2,454]),e(dt,[2,455]),e(dt,[2,456]),e(dt,[2,457]),{282:[2,459]},e(xe,[2,157]),e(xe,[2,158]),{13:l,16:f,48:[1,348],60:350,87:re,97:349,98:351,99:352,100:pt,229:ht,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},{48:[1,355],93:[1,356]},{46:[1,357]},e(He,[2,271]),e($,[2,50]),e($,[2,283]),{119:[1,358]},e($,[2,66]),e(m,V,{142:141,115:359,119:q,141:B}),e(Xe,[2,65]),e($,[2,53]),{48:[1,360],119:[1,362],146:361},e(Qe,[2,328],{154:363,326:[1,364]}),{45:[1,365],134:366,135:yt},{45:[1,368],134:369,135:yt},e(vt,[2,258],{66:370,85:371,86:[1,372],88:[1,373]}),e(ze,[2,257]),{69:[1,374]},e(Q,[2,30],{272:231,278:236,281:239,82:271,72:272,73:273,60:274,84:375,13:l,16:f,35:Oe,273:Ie,274:Re,275:Ae,277:Ce,279:Se,280:De,282:ke,283:je,286:Fe,288:Pe,310:p,338:Le,339:Ue,340:Me,341:Ve,342:qe,343:Be}),e(mt,[2,262]),e(gt,[2,85]),e(gt,[2,86]),e(gt,[2,87]),{35:ot,93:ut},{48:[1,376]},{48:[1,377]},{20:378,45:_,46:O,61:98},{20:379,45:_,46:O,61:98},e(bt,[2,332],{157:380}),e(bt,[2,331]),{13:l,16:f,34:ee,35:wt,39:385,60:178,87:re,93:ne,98:179,164:381,198:382,200:383,224:Tt,229:P,241:384,242:177,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(A,[2,20]),e(vt,[2,22]),{13:l,16:f,34:Et,35:Nt,60:274,70:388,71:389,72:390,73:391,272:231,273:Ie,274:Re,275:Ae,277:Ce,278:236,279:Se,280:De,281:239,282:ke,283:je,286:Fe,288:Pe,310:p,338:Le,339:Ue,340:Me,341:Ve,342:qe,343:Be},e(o,[2,16]),{48:[1,394]},{48:[2,235]},{48:[2,93]},e(R,[2,359],{48:[2,361]}),e(Ze,[2,94]),e(xt,[2,366],{189:395}),e(R,_t,{194:396,196:397}),e(R,[2,100]),e(R,[2,101]),e(R,[2,102]),e(Ze,[2,95]),e(Ze,[2,96]),e(Ze,[2,365]),{13:l,16:f,34:ee,35:te,38:[1,398],39:304,60:178,87:re,93:ne,98:179,185:302,197:399,224:ae,227:301,229:P,241:303,242:177,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(Ot,[2,399]),e(It,[2,128]),e(It,[2,129]),e(It,[2,403]),e(It,[2,404]),{225:[1,400]},e(rt,[2,181]),{13:l,16:f,60:401,310:p},e(o,[2,18]),{38:[1,402]},{38:[1,403]},e(Te,[2,428]),e(k,j,{249:118,253:119,257:120,265:121,269:122,245:404,217:F,271:L,332:U}),{46:[1,405]},{46:[2,407]},{46:[2,408]},{13:l,16:f,34:ee,39:407,60:178,87:re,93:ne,98:179,229:P,235:406,241:408,242:177,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(Ee,[2,430]),e(k,j,{253:119,257:120,265:121,269:122,249:409,217:F,271:L,332:U}),e(Ee,[2,148]),{35:lt,93:ft,177:410},e(Ne,[2,440]),e(k,j,{265:121,269:122,257:411,217:F,271:L,332:U}),e(xe,[2,443],{262:412}),e(xe,[2,445],{264:413}),e(at,[2,441]),e(at,[2,442]),e(xe,[2,448]),e(k,j,{269:122,265:414,217:F,271:L,332:U}),e(at,[2,449]),e(at,[2,450]),e(ct,[2,88]),e(at,[2,350],{175:415,314:[1,416]}),{38:[1,417]},e(ct,[2,167]),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:418,217:F,271:L,332:U}),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:419,217:F,271:L,332:U}),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:420,217:F,271:L,332:U}),e(ct,[2,171]),e(ct,[2,90]),e(at,[2,354],{178:421}),{34:[1,422]},e(ct,[2,173]),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:423,217:F,271:L,332:U}),{46:J,62:424},e(Rt,[2,460],{284:425,314:[1,426]}),e(at,[2,464],{287:427,314:[1,428]}),e(at,[2,466],{289:429,314:[1,430]}),e(M,[2,41]),e($e,[2,267]),e(At,[2,44]),e(At,[2,45]),e(At,[2,46]),e(At,[2,47]),{13:l,16:f,60:178,87:re,93:ne,98:179,99:433,119:[1,431],229:ht,239:432,242:434,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(M,[2,42]),e(Ge,[2,269]),e(Ct,[2,272],{96:435}),{13:l,16:f,60:436,310:p},e($,[2,52]),e([6,45,132,133,135,191],[2,68]),e(Qe,[2,317]),{13:l,16:f,34:[1,438],60:439,147:437,310:p},e(Qe,[2,70]),e(R,[2,327],{48:St,119:St}),{46:J,62:440},e(X,[2,300]),e(m,[2,307],{136:441,318:[1,442]}),{46:J,62:443},e(X,[2,306]),e(vt,[2,23]),e(vt,[2,259]),{87:[1,444]},{87:[1,445]},{13:l,16:f,34:Dt,35:Oe,60:274,72:272,73:273,79:446,80:447,81:kt,82:271,83:jt,84:450,272:231,273:Ie,274:Re,275:Ae,277:Ce,278:236,279:Se,280:De,281:239,282:ke,283:je,286:Fe,288:Pe,310:p,338:Le,339:Ue,340:Me,341:Ve,342:qe,343:Be},e(mt,[2,263]),e(Ft,[2,71]),e(Ft,[2,72]),e(Q,z,{64:154,74:155,21:452,75:W}),e(Y,K,{63:162,67:163,24:453,68:Z}),{46:[2,342],48:[2,73],89:463,90:s,119:[1,459],158:454,159:455,166:456,167:[1,457],168:[1,458],170:[1,460],173:[1,461],174:[1,462]},e(bt,[2,340],{165:464,326:[1,465]}),e(Pt,Lt,{199:466,202:467,208:468,209:470,34:Ut}),e(Mt,[2,374],{202:467,208:468,209:470,201:471,199:472,13:Lt,16:Lt,35:Lt,195:Lt,217:Lt,222:Lt,310:Lt,34:Ut}),e(Vt,[2,372]),e(Vt,[2,373]),{13:l,16:f,34:ee,35:wt,39:478,60:178,87:re,93:ne,98:179,200:476,204:474,224:Tt,226:473,228:475,229:P,241:477,242:177,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(Pt,Lt,{202:467,208:468,209:470,199:479,34:Ut}),e(Y,[2,24],{272:231,278:236,281:239,60:274,72:390,73:391,71:480,13:l,16:f,34:Et,35:Nt,273:Ie,274:Re,275:Ae,277:Ce,279:Se,280:De,282:ke,283:je,286:Fe,288:Pe,310:p,338:Le,339:Ue,340:Me,341:Ve,342:qe,343:Be}),e(qt,[2,260]),e(qt,[2,25]),e(qt,[2,26]),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:481,217:F,271:L,332:U}),e(qt,[2,29]),e(Y,K,{63:162,67:163,24:482,68:Z}),e([48,119,225,326],[2,97],{190:483,191:[1,484]}),e(xt,[2,99]),{13:l,16:f,34:ee,35:te,39:304,60:178,87:re,93:ne,98:179,185:302,197:485,224:ae,227:301,229:P,241:303,242:177,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(Bt,[2,124]),e(Ot,[2,400]),e(Bt,[2,125]),e(rt,[2,182]),e(D,[2,14]),e(D,[2,15]),e(Te,[2,144]),{13:l,16:f,34:ee,39:487,60:178,87:re,93:ne,98:179,229:P,231:486,241:488,242:177,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},{233:[1,489]},{233:[2,415]},{233:[2,416]},e(Ee,[2,146]),e(Ee,[2,149]),e(Ne,[2,151]),e(Ne,[2,152],{268:328,267:490,26:it,329:st}),e(Ne,[2,153],{268:328,267:491,26:it,329:st}),e(xe,[2,155]),e(at,[2,352],{176:492}),e(at,[2,351]),e([6,13,16,26,34,35,37,38,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,224,229,243,244,248,252,256,271,273,274,275,276,277,279,280,282,283,286,288,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,329,332,333,334,335,336,337,338,339,340,341,342,343],[2,165]),{38:[1,493]},{276:[1,494]},{276:[1,495]},e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:496,217:F,271:L,332:U}),{38:[1,497]},{38:[1,498]},e(ct,[2,175]),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,285:499,36:501,26:[1,500],217:F,271:L,332:U}),e(Rt,[2,461]),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:502,217:F,271:L,332:U}),e(at,[2,465]),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:503,217:F,271:L,332:U}),e(at,[2,467]),{13:l,16:f,34:[1,505],60:506,236:504,310:p},{13:l,16:f,34:Ye,60:294,193:507,195:Ke,310:p},e(et,[2,423]),e(et,[2,424]),{35:[1,510],48:[1,508],101:509},e($,[2,63]),{46:[1,511]},{46:[2,318]},{46:[2,319]},e($,[2,57]),{13:l,16:f,60:512,310:p},e(m,[2,308]),e($,[2,58]),e(vt,[2,36],{88:[1,513]}),e(vt,[2,37],{86:[1,514]}),e(ze,[2,31],{272:231,278:236,281:239,82:271,72:272,73:273,60:274,84:450,80:515,13:l,16:f,34:Dt,35:Oe,81:kt,83:jt,273:Ie,274:Re,275:Ae,277:Ce,279:Se,280:De,282:ke,283:je,286:Fe,288:Pe,310:p,338:Le,339:Ue,340:Me,341:Ve,342:qe,343:Be}),e($t,[2,264]),{35:Oe,82:516},{35:Oe,82:517},e($t,[2,34]),e($t,[2,35]),{31:518,48:[2,226],89:519,90:s},{32:520,48:[2,228],89:521,90:s},e(bt,[2,333]),e(Gt,[2,334],{160:522,326:[1,523]}),{46:J,62:524},{46:J,62:525},{46:J,62:526},{13:l,16:f,34:[1,528],60:529,169:527,310:p},e(Ht,[2,346],{171:530,319:[1,531]}),{13:l,16:f,35:Oe,60:274,72:272,73:273,82:271,84:532,272:231,273:Ie,274:Re,275:Ae,277:Ce,278:236,279:Se,280:De,281:239,282:ke,283:je,286:Fe,288:Pe,310:p,338:Le,339:Ue,340:Me,341:Ve,342:qe,343:Be},{35:[1,533]},e(Xt,[2,84]),e(bt,[2,75]),e(R,[2,339],{46:Qt,48:Qt,90:Qt,119:Qt,167:Qt,168:Qt,170:Qt,173:Qt,174:Qt}),e(Mt,[2,104]),e(R,[2,378],{203:534}),e(R,[2,376]),e(R,[2,377]),e(Pt,[2,386],{210:535,211:536}),e(Mt,[2,105]),e(Mt,[2,375]),{13:l,16:f,34:ee,35:wt,38:[1,537],39:478,60:178,87:re,93:ne,98:179,200:476,204:538,224:Tt,228:475,229:P,241:477,242:177,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(Ot,[2,401]),e(It,[2,130]),e(It,[2,131]),e(It,[2,405]),e(It,[2,406]),{225:[1,539]},e(qt,[2,261]),{37:[1,541],38:[1,540]},e(o,[2,17]),e(xt,[2,367]),e(xt,[2,368],{193:292,60:294,192:542,188:543,13:l,16:f,34:Ye,195:Ke,310:p}),e(zt,[2,103],{276:[1,544]}),{13:l,16:f,34:Ye,60:294,193:545,195:Ke,310:p},e(et,[2,409]),e(et,[2,410]),e(Wt,[2,133]),e(xe,[2,444]),e(xe,[2,446]),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:546,217:F,271:L,332:U}),e(ct,[2,168]),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:547,217:F,271:L,332:U}),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:548,217:F,271:L,332:U}),{38:[1,549],276:[1,550]},e(ct,[2,172]),e(ct,[2,174]),{38:[1,551]},{38:[2,462]},{38:[2,463]},{38:[1,552]},{38:[2,468],191:[1,555],290:553,291:554},{46:[1,556]},{46:[2,417]},{46:[2,418]},{13:l,16:f,60:178,87:re,93:ne,98:179,99:558,229:ht,240:557,242:559,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(M,[2,43]),e(Ct,[2,273]),{13:l,16:f,60:350,87:re,97:561,98:351,99:352,100:pt,102:560,229:ht,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(R,G,{152:146,148:562,151:563,48:[2,320]}),e(X,[2,61]),{87:[1,564]},{87:[1,565]},e($t,[2,265]),e($t,[2,32]),e($t,[2,33]),{48:[2,11]},{48:[2,227]},{48:[2,12]},{48:[2,229]},e(R,We,{163:281,161:566,162:567,46:Jt,48:Jt,90:Jt,119:Jt,167:Jt,168:Jt,170:Jt,173:Jt,174:Jt}),e(Gt,[2,335]),e(Xt,[2,76],{327:[1,568]}),e(Xt,[2,77]),e(Xt,[2,78]),{46:J,62:569},{46:[2,344]},{46:[2,345]},{13:l,16:f,34:[1,571],60:572,172:570,310:p},e(Ht,[2,347]),e(Xt,[2,81]),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:573,39:574,217:F,229:P,271:L,332:U}),{13:l,16:f,34:ee,35:wt,39:478,60:178,87:re,93:ne,98:179,200:476,204:575,224:Tt,228:475,229:P,241:477,242:177,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(Ot,[2,109],{328:[1,576]}),e(Yt,[2,393],{212:577,216:578,222:[1,579]}),e(Kt,[2,126]),e(Ot,[2,402]),e(Kt,[2,127]),e(qt,[2,27]),{34:[1,580]},e(xt,[2,98]),e(xt,[2,369]),e(R,[2,371]),{13:l,16:f,34:ee,39:582,60:178,87:re,93:ne,98:179,229:P,232:581,241:583,242:177,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},{38:[1,584],276:[1,585]},{38:[1,586]},{276:[1,587]},e(ct,[2,91]),e(at,[2,355]),e(ct,[2,176]),e(ct,[2,177]),{38:[1,588]},{38:[2,469]},{292:[1,589]},{13:l,16:f,60:178,87:re,93:ne,98:179,99:591,229:ht,237:590,242:592,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},{233:[1,593]},{233:[2,425]},{233:[2,426]},{13:l,16:f,38:[1,594],60:350,87:re,97:595,98:351,99:352,100:pt,229:ht,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(Zt,[2,274]),{48:[1,596]},{48:[2,321]},e(vt,[2,38]),e(vt,[2,39]),e(bt,[2,74]),e(bt,[2,337]),{46:[2,343]},e(Xt,[2,79]),{46:J,62:597},{46:[2,348]},{46:[2,349]},{37:[1,598]},{37:[1,599]},e(zt,[2,380],{205:600,276:[1,601]}),e(Pt,[2,385]),e([13,16,34,35,38,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,328],[2,110],{329:[1,602]}),{13:l,16:f,35:[1,608],60:605,195:[1,606],213:603,214:604,217:[1,607],310:p},e(Yt,[2,394]),{38:[1,609]},{48:[1,610]},{48:[2,411]},{48:[2,412]},e(ct,[2,89]),e(at,[2,353]),e(ct,[2,169]),e(k,j,{245:116,249:118,253:119,257:120,265:121,269:122,36:611,217:F,271:L,332:U}),e(ct,[2,178]),{293:[1,612]},{13:l,16:f,34:Ye,60:294,193:613,195:Ke,310:p},e(et,[2,419]),e(et,[2,420]),e(er,[2,135]),e(Ct,[2,48]),e(Zt,[2,275]),e(tr,[2,322],{149:614,326:[1,615]}),e(Xt,[2,80]),{34:[1,616]},{34:[1,617]},e([46,48,90,119,167,168,170,173,174,225,326],[2,106],{206:618,191:[1,619]}),e(R,[2,379]),e(Pt,[2,387]),e(rr,[2,112]),e(rr,[2,391],{215:620,330:621,26:[1,623],331:[1,622],332:[1,624]}),e(nr,[2,113]),e(nr,[2,114]),{13:l,16:f,35:[1,628],60:629,93:[1,627],195:ar,218:625,219:626,222:ir,310:p},e(Pt,Lt,{209:470,208:632}),e(qt,[2,28]),{233:[1,633]},{38:[1,634]},{294:635,300:le,301:fe,302:de,303:pe},{13:l,16:f,60:178,87:re,93:ne,98:179,99:637,229:ht,238:636,242:638,243:ie,244:se,261:187,263:188,294:183,297:oe,298:ue,299:ce,300:le,301:fe,302:de,303:pe,304:he,305:ye,306:ve,307:me,308:ge,309:be,310:p},e(R,G,{152:146,150:639,151:640,48:sr,119:sr}),e(tr,[2,323]),{38:[1,641]},{38:[1,642]},e(zt,[2,381]),e(zt,[2,107],{209:470,207:643,208:644,13:Lt,16:Lt,35:Lt,195:Lt,217:Lt,222:Lt,310:Lt,34:[1,645]}),e(rr,[2,111]),e(rr,[2,392]),e(rr,[2,388]),e(rr,[2,389]),e(rr,[2,390]),e(nr,[2,115]),e(nr,[2,117]),e(nr,[2,118]),e(or,[2,395],{220:646}),e(nr,[2,120]),e(nr,[2,121]),{13:l,16:f,60:647,195:[1,648],310:p},{38:[1,649]},e(Wt,[2,132]),e(ct,[2,170]),{38:[2,179]},{48:[1,650]},{48:[2,421]},{48:[2,422]},e(Qe,[2,69]),e(Qe,[2,325]),e(Xt,[2,82]),e(Xt,[2,83]),e(R,_t,{196:397,194:651}),e(R,[2,382]),e(R,[2,383]),{13:l,16:f,38:[2,397],60:629,195:ar,219:653,221:652,222:ir,310:p},e(nr,[2,122]),e(nr,[2,123]),e(nr,[2,116]),{233:[1,654]},e(zt,[2,108]),{38:[1,655]},{38:[2,398],328:[1,656]},e(er,[2,134]),e(nr,[2,119]),e(or,[2,396])],defaultActions:{5:[2,204],6:[2,205],8:[2,203],26:[2,1],27:[2,3],28:[2,215],77:[2,49],86:[2,294],100:[2,251],107:[2,357],220:[2,438],248:[2,459],287:[2,235],288:[2,93],314:[2,407],315:[2,408],407:[2,415],408:[2,416],438:[2,318],439:[2,319],500:[2,462],501:[2,463],505:[2,417],506:[2,418],518:[2,11],519:[2,227],520:[2,12],521:[2,229],528:[2,344],529:[2,345],554:[2,469],558:[2,425],559:[2,426],563:[2,321],568:[2,343],571:[2,348],572:[2,349],582:[2,411],583:[2,412],635:[2,179],637:[2,421],638:[2,422]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],a=[],i=this.table,s="",o=0,u=0,c=0,l=2,f=1,d=a.slice.call(arguments,1),p=Object.create(this.lexer),h={yy:{}};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(h.yy[y]=this.yy[y]);p.setInput(e,h.yy),h.yy.lexer=p,h.yy.parser=this,"undefined"==typeof p.yylloc&&(p.yylloc={});var v=p.yylloc;a.push(v);var m=p.options&&p.options.ranges;"function"===typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;var g,b,w,T,E,N,x,_,O,I=function(){var e;return e=p.lex()||f,"number"!==typeof e&&(e=t.symbols_[e]||e),e},R={};while(1){if(w=r[r.length-1],this.defaultActions[w]?T=this.defaultActions[w]:(null!==g&&"undefined"!=typeof g||(g=I()),T=i[w]&&i[w][g]),"undefined"===typeof T||!T.length||!T[0]){var A="";for(N in O=[],i[w])this.terminals_[N]&&N>l&&O.push("'"+this.terminals_[N]+"'");A=p.showPosition?"Parse error on line "+(o+1)+":\n"+p.showPosition()+"\nExpecting "+O.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(o+1)+": Unexpected "+(g==f?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(A,{text:p.match,token:this.terminals_[g]||g,line:p.yylineno,loc:v,expected:O})}if(T[0]instanceof Array&&T.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+g);switch(T[0]){case 1:r.push(g),n.push(p.yytext),a.push(p.yylloc),r.push(T[1]),g=null,b?(g=b,b=null):(u=p.yyleng,s=p.yytext,o=p.yylineno,v=p.yylloc,c>0&&c--);break;case 2:if(x=this.productions_[T[1]][1],R.$=n[n.length-x],R._$={first_line:a[a.length-(x||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(x||1)].first_column,last_column:a[a.length-1].last_column},m&&(R._$.range=[a[a.length-(x||1)].range[0],a[a.length-1].range[1]]),E=this.performAction.apply(R,[s,u,o,h.yy,T[1],n,a].concat(d)),"undefined"!==typeof E)return E;x&&(r=r.slice(0,-1*x*2),n=n.slice(0,-1*x),a=a.slice(0,-1*x)),r.push(this.productions_[T[1]][0]),n.push(R.$),a.push(R._$),_=i[r[r.length-2]][r[r.length-1]],r.push(_);break;case 3:return!0}}return!0}},cr=r("51b7").Wildcard,lr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",fr=lr+"type",dr=lr+"first",pr=lr+"rest",hr=lr+"nil",yr="http://www.w3.org/2001/XMLSchema#",vr=yr+"integer",mr=yr+"decimal",gr=yr+"double",br=yr+"boolean",wr="",Tr="",Er="";function Nr(e){return e.toLowerCase()}function xr(e,t){return e.push(t),e}function _r(e,t){return e.push.apply(e,t),e}function Or(e){e||(e={});for(var t,r=1,n=arguments.length;r<n&&(t=arguments[r]||{});r++)for(var a in t)e[a]=t[a];return e}function Ir(){for(var e=[],t=0,r=arguments.length;t<r;t++)e=e.concat.apply(e,arguments[t]);return e}function Rr(e){if("<"===e[0]&&(e=e.substring(1,e.length-1)),/^[a-z]+:/i.test(e))return e;if(!un.base)throw new Error("Cannot resolve relative IRI "+e+" because no base IRI was set.");switch(wr!==un.base&&(wr=un.base,Tr=wr.replace(/[^\/:]*$/,""),Er=wr.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),e[0]){case void 0:return wr;case"#":return wr+e;case"?":return wr.replace(/(?:\?.*)?$/,e);case"/":return Er+e;default:return Tr+e}}function Ar(e){if(e){var t=e[0];if("?"===t||"$"===t)return un.factory.variable(e.substr(1))}return e}function Cr(e,t){return{type:"operation",operator:e,args:t||[]}}function Sr(e,t){var r={expression:"*"===e?new cr:e};if(t)for(var n in t)r[n]=t[n];return r}function Dr(e,t){return{type:"path",pathType:e,items:t}}function kr(e,t){for(var r,n=0,a=t.length;n<a&&(r=t[n]);n++)e=Cr(r[0],[e,r[1]]);return e}function jr(e,t){var r,n=[],a=[],i=e.length,s={};if(!i)return null;for(var o=0;o<i&&(r=e[o]);o++)(r.named?a:n).push(r.iri);return s[t||"from"]={default:n,named:a},s}function Fr(e){return parseInt(e,10)}function Pr(e){return"group"===e.type&&1===e.patterns.length?e.patterns[0]:e}function Lr(e,t){return t&&"NamedNode"!==t.termType&&(t=un.factory.namedNode(t)),un.factory.literal(e,t)}function Ur(e,t){return un.factory.literal(e,t)}function Mr(e,t,r){var n={};return null!=e&&(n.subject=e),null!=t&&(n.predicate=t),null!=r&&(n.object=r),n}function Vr(e){return"string"===typeof e?e.startsWith("e_")?un.factory.blankNode(e):un.factory.blankNode("e_"+e):un.factory.blankNode("g_"+qr++)}var qr=0;un._resetBlanks=function(){qr=0};var Br=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,$r={"\\":"\\","'":"'",'"':'"',t:"\t",b:"\b",n:"\n",r:"\r",f:"\f"},Gr=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,Hr=String.fromCharCode;function Xr(e,t){e=e.substring(t,e.length-t);try{e=e.replace(Br,(function(e,t,r,n){var a;if(t){if(a=parseInt(t,16),isNaN(a))throw new Error;return Hr(a)}if(r){if(a=parseInt(r,16),isNaN(a))throw new Error;return a<65535?Hr(a):Hr(55296+((a-=65536)>>10),56320+(1023&a))}var i=$r[n];if(!i)throw new Error;return i}))}catch(r){return""}if(Gr.exec(e))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+e);return e}function Qr(e){var t=Vr(),r=t,n=[],a=[];e.forEach((function(e){n.push(e.entity),_r(a,e.triples)}));for(var i=0,s=0,o=n.length,u=Array(2*o);i<o;)u[s++]=Mr(r,un.factory.namedNode(dr),n[i]),u[s++]=Mr(r,un.factory.namedNode(pr),r=++i<o?Vr():un.factory.namedNode(hr));return{entity:t,triples:_r(u,a)}}function zr(e){var t=Vr();return{entity:t,triples:e.map((function(e){return Or(Mr(t),e)}))}}function Wr(e,t,r){var n=[],a=[];return t.forEach((function(t){n.push(Mr(null,e,t.entity)),_r(a,t.triples)})),Ir(n,r||[],a)}function Jr(e){return e.variable?e.variable.value:e.value||e.expression.value}function Yr(e){if(!e)return[];if("aggregate"===e.type)return[e];if("operation"===e.type){const t=[];for(const r of e.args)t.push(...Yr(r));return t}return[]}function Kr(e){const t=new Set,r=function(e){e&&("Variable"===e.termType?t.add(e):"operation"===e.type&&e.args.forEach(r))};return r(e),t}function Zr(e,t=1,r=[]){for(const n of e)t>0&&n instanceof Array?Zr(n,t-1,r):r.push(n);return r}function en(e){return"Variable"===e.termType}function tn(e){if(e.triples){const t=[];for(const r of e.triples)en(r.subject)&&t.push(r.subject.value),en(r.predicate)&&t.push(r.predicate.value),en(r.object)&&t.push(r.object.value);return t}if(e.patterns){const t=[];for(const r of e.patterns)t.push(...tn(r));return t}return[]}function rn(e){const t=e.slice().sort(),r=[];for(let n=0;n<t.length-1;n++)t[n+1]==t[n]&&r.push(t[n]);return r}function nn(e){if(!un.sparqlStar)throw new Error("SPARQL* support is not enabled");return e}function an(e){for(const t of e){if("graph"===t.type&&"Variable"===t.name.termType)throw new Error("Detected illegal variable in GRAPH");if("bgp"===t.type||"graph"===t.type)for(const e of t.triples)if("Variable"===e.subject.termType||"Variable"===e.predicate.termType||"Variable"===e.object.termType)throw new Error("Detected illegal variable in BGP")}return e}function sn(e){for(const t of e)if("bgp"===t.type)for(const e of t.triples)if("BlankNode"===e.subject.termType||"BlankNode"===e.predicate.termType||"BlankNode"===e.object.termType)throw new Error("Detected illegal blank node in BGP");return e}var on=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var a=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,a;if(this.options.backtrack_lexer&&(a={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(a.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var i in a)this[i]=a[i];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var a=this._currentRules(),i=0;i<a.length;i++)if(r=this._input.match(this.rules[a[i]]),r&&(!t||r[0].length>t[0].length)){if(t=r,n=i,this.options.backtrack_lexer){if(e=this.test_match(r,a[i]),!1!==e)return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?(e=this.test_match(t,a[n]),!1!==e&&e):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions["INITIAL"].rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 12;case 2:return 15;case 3:return 28;case 4:return 314;case 5:return 315;case 6:return 35;case 7:return 37;case 8:return 38;case 9:return 26;case 10:return 41;case 11:return 45;case 12:return 46;case 13:return 48;case 14:return 50;case 15:return 55;case 16:return 58;case 17:return 318;case 18:return 68;case 19:return 69;case 20:return 75;case 21:return 78;case 22:return 81;case 23:return 83;case 24:return 86;case 25:return 88;case 26:return 90;case 27:return 191;case 28:return 107;case 29:return 319;case 30:return 140;case 31:return 320;case 32:return 321;case 33:return 117;case 34:return 322;case 35:return 116;case 36:return 323;case 37:return 324;case 38:return 120;case 39:return 122;case 40:return 123;case 41:return 138;case 42:return 132;case 43:return 133;case 44:return 135;case 45:return 141;case 46:return 119;case 47:return 325;case 48:return 326;case 49:return 167;case 50:return 170;case 51:return 174;case 52:return 100;case 53:return 168;case 54:return 327;case 55:return 173;case 56:return 229;case 57:return 233;case 58:return 276;case 59:return 195;case 60:return 328;case 61:return 329;case 62:return 222;case 63:return 331;case 64:return 332;case 65:return 217;case 66:return 224;case 67:return 225;case 68:return 248;case 69:return 252;case 70:return 293;case 71:return 333;case 72:return 334;case 73:return 335;case 74:return 336;case 75:return 337;case 76:return 256;case 77:return 338;case 78:return 271;case 79:return 279;case 80:return 280;case 81:return 273;case 82:return 274;case 83:return 275;case 84:return 339;case 85:return 340;case 86:return 277;case 87:return 342;case 88:return 341;case 89:return 343;case 90:return 282;case 91:return 283;case 92:return 286;case 93:return 288;case 94:return 292;case 95:return 296;case 96:return 299;case 97:return 13;case 98:return 16;case 99:return 310;case 100:return 243;case 101:return 34;case 102:return 295;case 103:return 87;case 104:return 297;case 105:return 298;case 106:return 304;case 107:return 305;case 108:return 306;case 109:return 307;case 110:return 308;case 111:return 309;case 112:return"EXPONENT";case 113:return 300;case 114:return 301;case 115:return 302;case 116:return 303;case 117:return 93;case 118:return 244;case 119:return 6;case 120:return"INVALID";case 121:console.log(t.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121],inclusive:!0}}};return e}();function un(){this.yy={}}return ur.lexer=on,un.prototype=ur,ur.Parser=un,new un}();t.parser=a,t.Parser=a.Parser,t.parse=function(){return a.parse.apply(a,arguments)},t.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1));var a=r(27).readFileSync(r(28).normalize(n[1]),"utf8");return t.parser.parse(a)},r.c[r.s]===n&&t.main(e.argv.slice(1))}).call(this,r("4362"),r("62e4")(e))},f4a4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("2c03"),a=r("9659"),i=r("ef12"),s=r("694b"),o=r("5189"),u=r("b4c9").Parser,c=n.types;let l,f=new Set,d=0,p=!1;function h(e,t){if(t=t||{},l=new a.default(t.dataFactory),v(e)){let r=new u(t);r._resetBlanks(),e=r.parse(e)}return y(e,t.quads,t.blankToVariable)}function y(e,t,r){if(f=new Set,d=0,p=t,"query"!==e.type&&"update"!==e.type)throw new Error("Translate only works on complete query or update objects.");let n,a=new Set(Object.keys(b(e)).map(l.createTerm.bind(l)));if("query"===e.type){let t={type:"group",patterns:e.where||[]};n=w(t),n=j(e,n,a)}else"update"===e.type&&(n=L(e));return r&&(n=G(n,a)),n}function v(e){return"string"===typeof e}function m(e){return null!==e&&"object"===typeof e}function g(e){return e&&"Variable"===e.termType}function b(e){let t={};if(g(e))t[o.termToString(e)]=!0,f.add(e);else if(m(e))if("bind"===e.type)b(e.expression),Object.assign(t,b(e.variable));else if("SELECT"===e.queryType){let r=b(e.where);for(let n of e.variables)i.default.isWildcard(n)?Object.assign(t,r):n.variable?Object.assign(t,b(n.variable)):Object.assign(t,b(n));if(e.group)for(let n of e.group)Object.assign(t,b(n))}else for(let r of Object.keys(e))Object.assign(t,b(e[r]));return t}function w(e){let t,r=[],n=[];if(e.patterns)for(let a of e.patterns)("filter"===a.type?r:n).push(a);if("bgp"===e.type)return E(e);if("union"===e.type)t=n.map(e=>("group"!==e.type&&(e={type:"group",patterns:[e]}),w(e))).reduce((e,t)=>l.createUnion(e,t));else{if("graph"===e.type)return R(e);if("group"===e.type)t=n.reduce(S,l.createBgp([]));else if("values"===e.type)t=k(e);else{if("query"!==e.type)throw new Error("Unexpected type: "+e.type);t=y(e,p,!1)}}if(r.length>0){let e=r.map(e=>T(e.expression));e.length>0&&(t=l.createFilter(t,e.reduce((e,t)=>l.createOperatorExpression("&&",[e,t]))))}return t}function T(e){if(i.default.isTerm(e)||"Quad"===e.termType)return l.createTermExpression(e);if(i.default.isWildcard(e))return l.createWildcardExpression();if(e.aggregation)return l.createAggregateExpression(e.aggregation,T(e.expression),e.distinct,e.separator);if(e.function)return l.createNamedExpression(e.function,e.args.map(T));if(e.operator)return"exists"===e.operator||"notexists"===e.operator?l.createExistenceExpression("notexists"===e.operator,w(e.args[0])):("in"!==e.operator&&"notin"!==e.operator||(e.args=[e.args[0]].concat(e.args[1])),l.createOperatorExpression(e.operator,e.args.map(T)));throw new Error("Unknown expression: "+JSON.stringify(e))}function E(e){let t=[],r=[];for(let n of e.triples)if("path"===n.predicate.type){let e=N(n);for(let n of e)n.type===c.PATH?(t.length>0&&r.push(l.createBgp(t)),t=[],r.push(n)):t.push(n)}else t.push(I(n));return t.length>0&&r.push(l.createBgp(t)),1===r.length?r[0]:r.reduce((e,t)=>l.createJoin(e,t))}function N(e){let t=e.subject,r=x(e.predicate),n=e.object;return _(t,r,n)}function x(e){if(i.default.isTerm(e)&&"NamedNode"===e.termType)return l.createLink(e);if("^"===e.pathType)return l.createInv(x(e.items[0]));if("!"===e.pathType){let t,r=[],n=[];t="path"===e.items[0].type&&"|"===e.items[0].pathType?e.items[0].items:e.items;for(let e of t)if(i.default.isTerm(e))r.push(e);else{if("^"!==e.pathType)throw new Error("Unexpected item: "+JSON.stringify(e));n.push(e.items[0])}let a=l.createNps(r),s=l.createInv(l.createNps(n));return 0===n.length?a:0===r.length?s:l.createAlt(a,s)}if("/"===e.pathType)return e.items.map(x).reduce((e,t)=>l.createSeq(e,t));if("|"===e.pathType)return e.items.map(x).reduce((e,t)=>l.createAlt(e,t));if("*"===e.pathType)return l.createZeroOrMorePath(x(e.items[0]));if("+"===e.pathType)return l.createOneOrMorePath(x(e.items[0]));if("?"===e.pathType)return l.createZeroOrOnePath(x(e.items[0]));throw new Error("Unable to translate path expression "+JSON.stringify(e))}function _(e,t,r){if(t.type===c.LINK)return[l.createPattern(e,t.iri,r)];if(t.type===c.INV)return _(r,t.path,e);if(t.type===c.SEQ){let n=O(),a=_(e,t.left,n),i=_(n,t.right,r);return a.concat(i)}return[l.createPath(e,t,r)]}function O(){let e="?var"+d++;return f.has(e)?O():(f.add(e),l.createTerm(e))}function I(e){return l.createPattern(e.subject,e.predicate,e.object,e.graph)}function R(e){e.type="group";let t=w(e);return t=p?C(t,e.name):l.createGraph(t,e.name),t}t.default=h;let A=Object.keys(c).map(e=>c[e]);function C(e,t,r){if(e.type===c.BGP)e.patterns=e.patterns.map(e=>(r&&(e.subject.equals(t)&&(e.subject=r),e.predicate.equals(t)&&(e.predicate=r),e.object.equals(t)&&(e.object=r)),e.graph=t,e));else if(e.type===c.PATH){const n=e;r&&(n.subject.equals(t)&&(n.subject=r),n.object.equals(t)&&(n.object=r)),e.graph=t}else if(e.type!==c.PROJECT||r)if(e.type!==c.EXTEND||r)for(let n of Object.keys(e))Array.isArray(e[n])?e[n]=e[n].map(e=>C(e,t,r)):A.indexOf(e[n].type)>=0?e[n]=C(e[n],t,r):r&&g(e[n])&&e[n].equals(t)&&(e[n]=r);else{const n=e;n.variable.equals(t)&&(r=O()),n.input=C(n.input,t,r)}else{const n=e;n.variables.some(e=>e.equals(t))||(r=O()),n.input=C(n.input,t,r)}return e}function S(e,t){if("optional"===t.type){let r=w({type:"group",patterns:t.patterns});if(r.type===c.FILTER){let t=r;e=l.createLeftJoin(e,t.input,t.expression)}else e=l.createLeftJoin(e,r)}else if("minus"===t.type){let r=w({type:"group",patterns:t.patterns});e=l.createMinus(e,r)}else if("bind"===t.type)e=l.createExtend(e,t.variable,T(t.expression));else if("service"===t.type){t.type="group";let r=l.createService(w(t),t.name,t.silent);e=D(e,r)}else{let r=w(t);e=D(e,r)}return e}function D(e,t){return e.type===c.BGP&&t.type===c.BGP?e=l.createBgp([].concat(e.patterns,t.patterns)):e.type===c.BGP&&0===e.patterns.length?e=t:t.type===c.BGP&&0===t.patterns.length||(e=l.createJoin(e,t)),e}function k(e){let t=(0===e.values.length?[]:Object.keys(e.values[0])).map(l.createTerm.bind(l)),r=e.values.map(e=>{let t=Object.keys(e);t=t.filter(t=>void 0!==e[t]);let r={};for(let n of t)r[n]=e[n];return r});return l.createValues(t,r)}function j(e,t,r){let n=[],a={};if(e.variables=F(e.variables,a),e.having=F(e.having,a),e.order=F(e.order,a),e.group||Object.keys(a).length>0){let r=Object.keys(a).map(e=>P(a[e],l.createTerm(e))),n=[];if(e.group)for(let a of e.group)if(a.expression.type){const e=a.variable?a.variable:O();t=l.createExtend(t,e,T(a.expression)),n.push(e)}else n.push(a.expression);t=l.createGroup(t,n,r)}if(e.having)for(let i of e.having)t=l.createFilter(t,T(i));e.values&&(t=l.createJoin(t,k(e)));let s=new Set;if("SELECT"===e.queryType||"DESCRIBE"===e.queryType)if(e.variables.some(e=>e&&i.default.isWildcard(e)))s=r;else for(let i of e.variables)g(i)||!i.variable?s.add(i):i.variable&&(s.add(i.variable),n.push(i));for(let i of n)t=l.createExtend(t,i.variable,T(i.expression));return e.order&&(t=l.createOrderBy(t,e.order.map(e=>{let t=T(e.expression);return e.descending&&(t=l.createOperatorExpression(c.DESC,[t])),t}))),"SELECT"===e.queryType&&(t=l.createProject(t,Array.from(s))),e.distinct&&(t=l.createDistinct(t)),e.reduced&&(t=l.createReduced(t)),"CONSTRUCT"===e.queryType?t=l.createConstruct(t,e.template.map(I)):"ASK"===e.queryType?t=l.createAsk(t):"DESCRIBE"===e.queryType&&(t=l.createDescribe(t,Array.from(s))),(e.offset||e.limit)&&(t=l.createSlice(t,e.offset,e.limit)),e.from&&(t=l.createFrom(t,e.from.default,e.from.named)),t}function F(e,t){if(!e)return e;if("aggregate"===e.type){let r,n=!1;for(let a of Object.keys(t))if(s(t[a],e)){r=l.createTerm(a),n=!0;break}return n||(r=O(),t[o.termToString(r)]=e),r}return e.expression?e.expression=F(e.expression,t):e.args?F(e.args,t):Array.isArray(e)&&e.forEach((r,n)=>e[n]=F(r,t)),e}function P(e,t){if("aggregate"!==e.type||!e.aggregation)throw new Error("Unexpected input: "+JSON.stringify(e));let r=T(e);return r.variable=t,r}function L(e){return 1===e.updates.length?U(e.updates[0]):l.createCompositeUpdate(e.updates.map(U))}function U(e){if("insertdelete"===e.updateType||"deletewhere"===e.updateType||"delete"===e.updateType||"insert"===e.updateType)return M(e);if("load"===e.type)return B(e);if("clear"===e.type||"create"===e.type||"drop"===e.type)return q(e);if("add"===e.type||"copy"===e.type||"move"===e.type)return $(e);throw new Error("Unknown update type "+e.updateType)}function M(e){if(!p)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let t,r=[],n=[];return e.delete&&(r=i.default.flatten(e.delete.map(t=>V(t,e.graph)))),e.insert&&(n=i.default.flatten(e.insert.map(t=>V(t,e.graph)))),e.where&&e.where.length>0?(t=w({type:"group",patterns:e.where}),e.using?t=l.createFrom(t,e.using.default,e.using.named):e.graph&&(t=l.createFrom(t,[e.graph],[]))):"deletewhere"===e.updateType&&r.length>0&&(t=l.createBgp(r)),l.createDeleteInsert(r.length>0?r:void 0,n.length>0?n:void 0,t)}function V(e,t){let r=t;"graph"===e.type&&(r=e.name);let n=e.triples;return r&&(n=n.map(e=>Object.assign(e,{graph:r}))),n.map(I)}function q(e){let t;switch(t=e.graph.all?"ALL":e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.name,e.type){case"clear":return l.createClear(t,e.silent);case"create":return l.createCreate(t,e.silent);case"drop":return l.createDrop(t,e.silent)}}function B(e){return l.createLoad(e.source,e.destination,e.silent)}function $(e){const t=e.source.default?"DEFAULT":e.source.name,r=e.destination.default?"DEFAULT":e.destination.name;switch(e.type){case"copy":return l.createCopy(t,r,e.silent);case"move":return l.createMove(t,r,e.silent);case"add":return l.createAdd(t,r,e.silent)}}function G(e,t){const r={},n=Array.from(t).reduce((e,t)=>(e[t.value]=!0,e),{});return i.default.mapOperation(e,{path:(e,t)=>({result:t.createPath(a(e.subject),e.predicate,a(e.object),a(e.graph)),recurse:!1}),pattern:(e,t)=>({result:t.createPattern(a(e.subject),a(e.predicate),a(e.object),a(e.graph)),recurse:!1}),construct:e=>({result:l.createConstruct(G(e.input,t),e.template),recurse:!1})});function a(e){if("BlankNode"===e.termType){let t=r[e.value];return t||(t=i.default.createUniqueVariable(e.value,n,l.dataFactory),n[t.value]=!0,r[e.value]=t),t}return e}}},f51a:function(e,t,r){"use strict";var n=r("dbce"),a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.parseRDFaDOM=t.default=void 0;var i=a(r("970b")),s=a(r("5bc3")),o=a(r("43f6")),u=a(r("085a")),c=a(r("606c")),l=n(r("3897")),f=n(r("4b68")),d=a(r("8fd3"));if("undefined"===typeof p)var p={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var h=function(){function e(t,r){(0,i.default)(this,e),this.options=r||{},this.kb=t,this.target=r.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return(0,s.default)(e,[{key:"addTriple",value:function(e,t,r,n){var a,i,s,o;a="undefined"===typeof t?d.default.namedNode(this.options.base):this.toRDFNodeObject(t),s=this.toRDFNodeObject(r),i=this.toRDFNodeObject(n),o=d.default.namedNode(this.options.base),this.kb.add(a,s,i,o)}},{key:"ancestorPath",value:function(e){var t="";while(e&&e.nodeType!==p.DOCUMENT_NODE)t="/"+e.localName+t,e=e.parentNode;return t}},{key:"copyMappings",value:function(e){var t={};for(var r in e)t[r]=e[r];return t}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(t){for(var r=0;r<e.dateTimeTypes.length;r++){var n=e.dateTimeTypes[r].pattern.exec(t);if(n&&n[0].length===t.length)return e.dateTimeTypes[r].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return this.blankCounter++,"_:"+this.blankCounter}},{key:"newSubjectOrigin",value:function(e,t){}},{key:"parseCURIE",value:function(t,r,n){var a,i=t.indexOf(":");if(i>=0){var s=t.substring(0,i);if(""===s)return a=r[""],a?a+t.substring(i+1):null;if("_"===s)return"_:"+t.substring(i+1);if(e.NCNAME.test(s)&&(a=r[s],a))return a+t.substring(i+1)}return null}},{key:"parseCURIEOrURI",value:function(e,t,r){var n=this.parseCURIE(e,t,r);return n||this.resolveAndNormalize(r,e)}},{key:"parsePredicate",value:function(e,t,r,n,a,i){if(""===e)return null;var s=this.parseTermOrCURIEOrAbsURI(e,t,i?null:r,n,a);return s&&0===s.indexOf("_:")?null:s}},{key:"parsePrefixMappings",value:function(e,t){for(var r=this.tokenize(e),n=null,a=0;a<r.length;a++)":"===r[a][r[a].length-1]?n=r[a].substring(0,r[a].length-1):n&&(t[n]=this.options.base?l.join(r[a],this.options.base):r[a],n=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(e,t,r){return e=this.trim(e),"["===e.charAt(0)&&"]"===e.charAt(e.length-1)?(e=e.substring(1,e.length-1),e=e.trim(e),0===e.length?null:"_:"===e?this.theOne:this.parseCURIE(e,t,r)):this.parseCURIEOrURI(e,t,r)}},{key:"parseTermOrCURIEOrAbsURI",value:function(e,t,r,n,a){e=this.trim(e);var i=this.parseCURIE(e,n,a);if(i)return i;if(r){if(t&&!this.absURIRE.exec(e))return t+e;var s=r[e];if(s)return s;var o=e.toLowerCase();if(s=r[o],s)return s}return this.absURIRE.exec(e)?this.resolveAndNormalize(a,e):null}},{key:"parseTermOrCURIEOrURI",value:function(e,t,r,n,a){e=this.trim(e);var i=this.parseCURIE(e,n,a);if(i)return i;var s=r[e];if(s)return s;var o=e.toLowerCase();return s=r[o],s||(t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(a,e))}},{key:"parseURI",value:function(e){return e}},{key:"process",value:function(t,r){var n;r=r||{},t.nodeType===p.DOCUMENT_NODE?(t.baseURI&&!r.baseURI&&(r.baseURI=t.baseURI),n=t.baseURI,t=t.documentElement,t.baseURI||(t.baseURI=n),this.setContext(t)):t.parentNode.nodeType===p.DOCUMENT_NODE&&this.setContext(t);var a=[],i=function(e){if(!e&&r&&r.baseURI)return r.baseURI;var t=e.indexOf("#");return t>=0&&(e=e.substring(0,t)),r&&r.baseURIMap&&(e=r.baseURIMap(e)),e};a.push({current:t,context:this.push(null,i(t.baseURI))});while(a.length>0){var s=a.shift();if(s.parent){if(s.context.parent&&s.context.parent.listMapping===s.listMapping)continue;for(var o in s.listMapping){var u=s.listMapping[o];if(0!==u.length){for(var c=[],f=0;f<u.length;f++)c.push(this.newBlankNode());for(var d=0;d<c.length;d++)this.addTriple(s.parent,c[d],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",u[d]),this.addTriple(s.parent,c[d],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:e.objectURI,value:d+1<c.length?c[d+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(s.parent,s.subject,o,{type:e.objectURI,value:c[0]})}else this.addTriple(s.parent,s.subject,o,{type:e.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var h=s.current,y=s.context,v=!1,m=null,g=null,b=null,w=y.prefixes,T=!1,E=[],N=y.listMapping,x=!y.parent,_=y.language,O=y.vocabulary;n=this.parseURI(i(h.baseURI)),h.item=null;var I=h.getAttributeNode("vocab");if(I){var R=this.trim(I.value);if(R.length>0){O=R;var A=n.spec;this.addTriple(h,A,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:e.objectURI,value:O})}else O=this.vocabulary}for(var C=0;C<h.attributes.length;C++){var S=h.attributes[C];if("x"===S.nodeName.charAt(0)&&0===S.nodeName.indexOf("xmlns:")){T||(w=this.copyMappings(w),T=!0);var D=S.nodeName.substring(6),k=e.trim(S.value);w[D]=this.options.base?l.join(k,this.options.base):k}}var j=h.getAttributeNode("prefix");j&&(T||(w=this.copyMappings(w),T=!0),this.parsePrefixMappings(j.value,w));for(var F=null,P=0;!F&&P<this.langAttributes.length;P++)F=h.getAttributeNodeNS(this.langAttributes[P].namespaceURI,this.langAttributes[P].localName);if(F){var L=e.trim(F.value);_=L.length>0?L:null}var U,M,V=h.getAttributeNode("rel"),q=h.getAttributeNode("rev"),B=h.getAttributeNode("typeof"),$=h.getAttributeNode("property"),G=h.getAttributeNode("datatype"),H=this.inHTMLMode?h.getAttributeNode("datetime"):null,X=h.getAttributeNode("content"),Q=h.getAttributeNode("about"),z=h.getAttributeNode("src"),W=h.getAttributeNode("resource"),J=h.getAttributeNode("href"),Y=h.getAttributeNode("inlist"),K=[];if(V){M=this.tokenize(V.value);for(var Z=0;Z<M.length;Z++)U=this.parsePredicate(M[Z],O,y.terms,w,n,this.inHTMLMode&&null!==$),U&&K.push(U)}var ee=[];if(q){M=this.tokenize(q.value);for(var te=0;te<M.length;te++)U=this.parsePredicate(M[te],O,y.terms,w,n,this.inHTMLMode&&$),U&&ee.push(U)}if(this.inHTMLMode&&(V||q)&&$&&(0===K.length&&(V=null),0===ee.length&&(q=null)),V||q?(Q&&(m=this.parseSafeCURIEOrCURIEOrURI(Q.value,w,n)),B&&(b=m),m||(h.parentNode.nodeType===p.DOCUMENT_NODE?m=i(h.baseURI):y.parentObject&&(m=i(h.parentNode.baseURI)===y.parentObject?i(h.baseURI):y.parentObject)),W&&(g=this.parseSafeCURIEOrCURIEOrURI(W.value,w,n)),g||(J?g=this.resolveAndNormalize(n,encodeURI(J.value)):z?g=this.resolveAndNormalize(n,encodeURI(z.value)):!B||Q||this.inXHTMLMode&&("head"===h.localName||"body"===h.localName)||(g=this.newBlankNode())),!B||Q||!this.inXHTMLMode||"head"!==h.localName&&"body"!==h.localName?B&&!Q&&(b=g):b=m):!$||X||G?(Q&&(m=this.parseSafeCURIEOrCURIEOrURI(Q.value,w,n)),!m&&W&&(m=this.parseSafeCURIEOrCURIEOrURI(W.value,w,n)),!m&&J&&(m=this.resolveAndNormalize(n,encodeURI(J.value))),!m&&z&&(m=this.resolveAndNormalize(n,encodeURI(z.value))),m||(h.parentNode.nodeType===p.DOCUMENT_NODE?m=i(h.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!==h.localName&&"body"!==h.localName?B?m=this.newBlankNode():y.parentObject&&(m=i(h.parentNode.baseURI)===y.parentObject?i(h.baseURI):y.parentObject,$||(v=!0)):m=i(h.parentNode.baseURI)===y.parentObject?i(h.baseURI):y.parentObject),B&&(b=m)):(Q&&(m=this.parseSafeCURIEOrCURIEOrURI(Q.value,w,n),B&&(b=m)),m||h.parentNode.nodeType!==p.DOCUMENT_NODE?!m&&y.parentObject&&(m=i(h.parentNode.baseURI)===y.parentObject?i(h.baseURI):y.parentObject):(m=i(h.baseURI),B&&(b=m)),B&&!b&&(W&&(b=this.parseSafeCURIEOrCURIEOrURI(W.value,w,n)),!b&&J&&(b=this.resolveAndNormalize(n,encodeURI(J.value))),!b&&z&&(b=this.resolveAndNormalize(n,encodeURI(z.value))),b||!this.inXHTMLMode&&!this.inHTMLMode||"head"!==h.localName&&"body"!==h.localName||(b=m),b||(b=this.newBlankNode()),g=b)),m&&(Q||W||b)){var re=m;B&&!Q&&!W&&g&&(re=g),this.newSubjectOrigin(h,re)}if(b){M=this.tokenize(B.value);for(var ne=0;ne<M.length;ne++){var ae=this.parseTermOrCURIEOrAbsURI(M[ne],O,y.terms,w,n);ae&&this.addTriple(h,b,e.typeURI,{type:e.objectURI,value:ae})}}if(m&&m!==y.parentObject&&(N={},x=!0),g){if(V&&Y)for(var ie=0;ie<K.length;ie++){var se=N[K[ie]];se||(se=[],N[K[ie]]=se),se.push({type:e.objectURI,value:g})}else if(V)for(var oe=0;oe<K.length;oe++)this.addTriple(h,m,K[oe],{type:e.objectURI,value:g});if(q)for(var ue=0;ue<ee.length;ue++)this.addTriple(h,g,ee[ue],{type:e.objectURI,value:m})}else{if(m&&!g&&(V||q)&&(g=this.newBlankNode()),V&&Y)for(var ce=0;ce<K.length;ce++){var le=N[K[ce]];le||(le=[],N[U]=le),E.push({predicate:K[ce],list:le})}else if(V)for(var fe=0;fe<K.length;fe++)E.push({predicate:K[fe],forward:!0});if(q)for(var de=0;de<ee.length;de++)E.push({predicate:ee[de],forward:!1})}if($){var pe=null,he=null;G?(pe=""===G.value?e.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(G.value,O,y.terms,w,n),he=H&&!X?H.value:pe===e.XMLLiteralURI||pe===e.HTMLLiteralURI?null:X?X.value:h.textContent):X?(pe=e.PlainLiteralURI,he=X.value):H?(he=H.value,pe=e.deriveDateTimeType(he),pe||(pe=e.PlainLiteralURI)):V||q||(W&&(he=this.parseSafeCURIEOrCURIEOrURI(W.value,w,n)),!he&&J?he=this.resolveAndNormalize(n,encodeURI(J.value)):!he&&z&&(he=this.resolveAndNormalize(n,encodeURI(z.value))),he&&(pe=e.objectURI)),pe||(B&&!Q?(pe=e.objectURI,he=b):(he=h.textContent,this.inHTMLMode&&"time"===h.localName&&(pe=e.deriveDateTimeType(he)),pe||(pe=e.PlainLiteralURI))),M=this.tokenize($.value);for(var ye=0;ye<M.length;ye++){var ve=this.parsePredicate(M[ye],O,y.terms,w,n);if(ve)if(Y){var me=N[ve];me||(me=[],N[ve]=me),me.push(pe===e.XMLLiteralURI||pe===e.HTMLLiteralURI?{type:pe,value:h.childNodes}:{type:pe||e.PlainLiteralURI,value:he,language:_})}else pe===e.XMLLiteralURI||pe===e.HTMLLiteralURI?this.addTriple(h,m,ve,{type:pe,value:h.childNodes}):this.addTriple(h,m,ve,{type:pe||e.PlainLiteralURI,value:he,language:_})}}if(m&&!v)for(var ge=0;ge<y.incomplete.length;ge++)y.incomplete[ge].list?y.incomplete[ge].list.push({type:e.objectURI,value:m}):y.incomplete[ge].forward?this.addTriple(h,y.subject,y.incomplete[ge].predicate,{type:e.objectURI,value:m}):this.addTriple(h,m,y.incomplete[ge].predicate,{type:e.objectURI,value:y.subject});var be=null,we=m;v?(be=this.push(y,y.subject),be.parentObject=i(h.parentNode.baseURI)===y.parentObject?i(h.baseURI):y.parentObject,be.incomplete=y.incomplete,be.language=_,be.prefixes=w,be.vocabulary=O):(be=this.push(y,m),be.parentObject=g||m||y.subject,be.prefixes=w,be.incomplete=E,g&&(we=g,N={},x=!0),be.listMapping=N,be.language=_,be.vocabulary=O),x&&a.unshift({parent:h,context:y,subject:we,listMapping:N});for(var Te=h.lastChild;Te;Te=Te.previousSibling)Te.nodeType===p.ELEMENT_NODE&&a.unshift({current:Te,context:be})}}this.inHTMLMode&&this.copyProperties();for(var Ee=0;Ee<this.finishedHandlers.length;Ee++)this.finishedHandlers[Ee](t)}},{key:"push",value:function(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(e,t){return l.join(t,e)}},{key:"setContext",value:function(e){"html"===e.localName&&"XHTML+RDFa 1.1"===e.getAttribute("version")?this.setXHTMLContext():"html"===e.localName||"http://www.w3.org/1999/xhtml"===e.namespaceURI?"undefined"!==typeof document&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"===document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms["alternate"]="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms["appendix"]="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms["bookmark"]="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms["cite"]="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms["chapter"]="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms["contents"]="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms["copyright"]="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms["first"]="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms["glossary"]="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms["help"]="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms["icon"]="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms["index"]="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms["last"]="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms["license"]="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms["meta"]="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms["next"]="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms["prev"]="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms["previous"]="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms["section"]="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms["stylesheet"]="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms["subsection"]="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms["start"]="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms["top"]="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms["up"]="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms["p3pv1"]="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms["related"]="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms["role"]="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms["transformation"]="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"toRDFNodeObject",value:function(t){if("undefined"!==typeof t){if("string"===typeof t)return"_:"===t.substring(0,2)?("undefined"===typeof this.blankNodes[t.substring(2)]&&(this.blankNodes[t.substring(2)]=new o.default(t.substring(2))),this.blankNodes[t.substring(2)]):d.default.namedNode(t);switch(t.type){case e.objectURI:return"_:"===t.value.substring(0,2)?("undefined"===typeof this.blankNodes[t.value.substring(2)]&&(this.blankNodes[t.value.substring(2)]=new o.default(t.value.substring(2))),this.blankNodes[t.value.substring(2)]):d.default.namedNode(t.value);case e.PlainLiteralURI:return new u.default(t.value,t.language||"");case e.XMLLiteralURI:case e.HTMLLiteralURI:var r="";return Object.keys(t.value).forEach((function(e){r+=f.domToString(t.value[e],this.htmlOptions)})),new u.default(r,"",new c.default(t.type));default:return new u.default(t.value,"",new c.default(t.type))}}}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(t,r,n){var a=new e(r,{base:n});t.baseURI||(t.baseURI=n),a.process(t,{baseURI:n})}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}]),e}();t.default=h,h.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",h.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",h.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",h.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",h.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",h.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",h.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",h.NCNAME=new RegExp("^"+h.nameStartChar+h.nameChar+"*$"),h.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var y=h.parseRDFaDOM;t.parseRDFaDOM=y},f62b:function(e,t,r){"use strict";r.r(t);var n=r("851f");class a{constructor(e){this._defaultStore=this.readSources(e),this._defaultStore.catch(()=>null)}async*execute(e,t){/^\s*(?:INSERT|DELETE)/i.test(e)&&(yield*this.executeUpdate(e,t));const r=Object(n["SPARQLToQuery"])(e,!0,Object(n["graph"])()),a=await(t?this.readSources(t):this._defaultStore);a.fetcher=null;const i=[];await new Promise((e,t)=>{a.query(r,e=>i.push(e),null,r=>r?t(r):e(i))});const s=new Set(r.vars.map(e=>"?"+e.value));for(const n of i){const e=Object.entries(n).filter(([e])=>s.has(e));yield new Map(e)}}async*executeUpdate(e,t){throw new Error("SPARQL UPDATE queries are unsupported, received: "+e)}async readSources(e,t=Object(n["graph"])()){let r=await e;if(r)if(r instanceof URL?r=r.href:"NamedNode"===r.termType&&(r=r.value),"string"===typeof r){const e=r.replace(/#.*/,""),a=new n["Fetcher"](t);await a.load(e)}else if(Array.isArray(r))await Promise.all(r.map(e=>this.readSources(e,t)));else{if("function"!==typeof r.match)throw new Error("Unsupported source: "+r);{const e=r.match(null,null,null,null);await new Promise((r,n)=>{function a(e){try{t.add(e.subject,e.predicate,e.object,e.graph)}catch(r){i(r)}}function i(t){return e.removeListener("data",a),e.removeListener("end",i),e.removeListener("error",i),t?n(t):r(null)}e.on("data",a),e.on("end",i),e.on("error",i)})}}return t}async clearCache(e){}}t["default"]=a},f6d5:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=n(r("9523")),s=n(r("b1e9")),o=n(r("8fd3")),u=r("43f5"),c=r("037b"),l=r("ab32"),f=n(r("089a"));function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=p(p({},o.default),{},{supports:(a={},(0,i.default)(a,c.Feature.collections,!0),(0,i.default)(a,c.Feature.defaultGraphType,!1),(0,i.default)(a,c.Feature.equalsMethod,!0),(0,i.default)(a,c.Feature.identity,!1),(0,i.default)(a,c.Feature.id,!0),(0,i.default)(a,c.Feature.reversibleId,!1),(0,i.default)(a,c.Feature.variableType,!0),a),collection:function(e){return new s.default(e)},id:function(e){var t=this;return(0,l.isCollection)(e)?"( ".concat(e.elements.map((function(e){return t.id(e)})).join(", ")," )"):(0,l.isVariable)(e)?f.default.toString(e):o.default.id(e)},termToNQ:function(e){return e.termType===u.CollectionTermType?s.default.toNT(e):o.default.termToNQ(e)}}),y=h;t.default=y},f703:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r("00e8")),a=r("f947");function i(e){return e&&e.__esModule?e:{default:e}}class s{constructor(e,t){this._source=this.getUpdateSource(e),this._source.catch(()=>null),this._engine=t}async*execute(e,t){yield*/^\s*(?:INSERT|DELETE)/i.test(e)?this.executeUpdate(e,t):this._engine.execute(e,t)}executeUpdate(e,t){let r=!1;const i=async()=>{if(r)return{done:r};r=!0;const i=await(t?this.getUpdateSource(t):this._source),{ok:s,status:o,statusText:u}=await n.default.fetch(i,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:e});if(!s)throw new Error("Update query failed (".concat(o,"): ").concat(u));return await this.clearCache(i),{value:(0,a.asList)({ok:s})}};return{next:i,return:o,throw:o,[Symbol.asyncIterator](){return this}}}async getUpdateSource(e){let t=await e;if(t instanceof URL?t=t.href:t&&"string"===typeof t.value&&(t=t.value),"string"===typeof t){if(!/^https?:\/\//.test(t))throw new Error("Can only update an HTTP(S) document.");return t.replace(/#.*/,"")}if(Array.isArray(t)){if(t=await Promise.all(t.map(e=>this.getUpdateSource(e))),t=[].concat(...t).filter(e=>!!e),1!==t.length)throw new Error("Can only update a single source.");return t[0]}throw new Error("Unsupported source: ".concat(t))}clearCache(e){return this._engine.clearCache(e)}}function o(){}t.default=s},f7ae:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r("970b")),i=n(r("5bc3")),s=n(r("3c96")),o=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),f=n(r("21b4")),d=n(r("b1e9")),p=n(r("8fd3")),h=n(r("3c962")),y=n(r("491a")),v=n(r("33e3")),m=n(r("b80f")),g=r("43f5"),b=r("ab32"),w=n(r("089a")),T=r("1079"),E=n(r("606c"));function N(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=x(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function x(e,t){if(e){if("string"===typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e){var t=I();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var R=function(e){(0,o.default)(r,e);var t=O(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,a.default)(this,r),e=t.call(this,""),e.statements=n,e.constraints=i,e.initBindings=o,e.optional=u,(0,l.default)((0,s.default)(e),"termType",g.GraphTermType),(0,l.default)((0,s.default)(e),"classOrder",f.default.Graph),(0,l.default)((0,s.default)(e),"fetcher",void 0),(0,l.default)((0,s.default)(e),"isVar",0),(0,l.default)((0,s.default)(e),"ns",y.default),(0,l.default)((0,s.default)(e),"rdfFactory",void 0),e.rdfFactory=c&&c.rdfFactory||p.default;var d,h=N(T.appliedFactoryMethods);try{var v=function(){var t=d.value;e[t]=function(){var r;return(r=e.rdfFactory)[t].apply(r,arguments)}};for(h.s();!(d=h.n()).done;)v()}catch(m){h.e(m)}finally{h.f()}return e}return(0,i.default)(r,[{key:"add",value:function(e,t,r,n){var a=this;return 1===arguments.length&&e.forEach((function(e){return a.add(e.subject,e.predicate,e.object,e.graph)})),this.statements.push(this.rdfFactory.quad(e,t,r,n))}},{key:"addStatement",value:function(e){return this.add(e)}},{key:"bnode",value:function(e){return this.rdfFactory.blankNode(e)}},{key:"addAll",value:function(e){var t=this;e.forEach((function(e){t.add(e.subject,e.predicate,e.object,e.graph)}))}},{key:"any",value:function(e,t,r,n){var a=this.anyStatementMatching(e,t,r,n);return null==a?null:null==e?a.subject:null==t?a.predicate:null==r?a.object:null}},{key:"anyValue",value:function(e,t,r,n){var a=this.any(e,t,r,n);return a?a.value:void 0}},{key:"anyJS",value:function(e,t,r,n){var a=this.any(e,t,r,n);return a?v.default.toJS(a):void 0}},{key:"anyStatementMatching",value:function(e,t,r,n){var a=this.statementsMatching(e,t,r,n,!0);if(a&&0!==a.length)return a[0]}},{key:"id",value:function(e){return this.rdfFactory.id(e)}},{key:"statementsMatching",value:function(e,t,r,n,a){var i=this.statements.filter((function(a){return(!e||e.equals(a.subject))&&(!t||t.equals(a.predicate))&&(!r||r.equals(a.object))&&(!n||n.equals(a.subject))}));return a?0===i.length?[]:[i[0]]:i}},{key:"bottomTypeURIs",value:function(e){var t,r,n,a,i,s,o,u;for(var c in t=[],e)if(e.hasOwnProperty(c)){for(u=e[c],o=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(c)),r=!0,a=0,i=o.length;a<i;a++)if(n=o[a],s=n.uri,s in e){r=!1;break}r&&(t[c]=u)}return t}},{key:"collection",value:function(){return new d.default}},{key:"each",value:function(e,t,r,n){var a=[],i=this.statementsMatching(e,t,r,n,!1);if(null==e)for(var s=0,o=i.length;s<o;s++)a.push(i[s].subject);else if(null==t)for(var u=0,c=i.length;u<c;u++)a.push(i[u].predicate);else if(null==r)for(var l=0,f=i.length;l<f;l++)a.push(i[l].object);else if(null==n)for(var d=0,p=i.length;d<p;d++)a.push(new E.default(i[d].graph.value));return a}},{key:"equals",value:function(e){return!!e&&this.hashString()===e.hashString()}},{key:"findMembersNT",value:function(e){var t,r,n,a,i,s,o,u,c,l,f,d,p,h;for(var y in d={},d[e.toNT()]=!0,a={},s=this.transitiveClosure(d,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0),s)if(s.hasOwnProperty(y)){o=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(y));for(var v=0,m=o.length;v<m;v++)p=o[v],a[p.subject.toNT()]=p;u=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(y));for(var g=0,b=u.length;g<b;g++)for(i=u[g],c=this.statementsMatching(void 0,i),n=0,t=c.length;n<t;n++)p=c[n],a[p.subject.toNT()]=p;l=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(y));for(var w=0,T=l.length;w<T;w++)for(i=l[w],f=this.statementsMatching(void 0,i),h=0,r=f.length;h<r;h++)p=f[h],a[p.object.toNT()]=p}return a}},{key:"findMemberURIs",value:function(e){return this.NTtoURI(this.findMembersNT(e))}},{key:"findSubClassesNT",value:function(e){var t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(e){var t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(e){var t,r,n,a,i,s,o,u,c;n="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",c=[],a=this.statementsMatching(e,void 0,void 0);for(var l=0,f=a.length;l<f;l++)if(u=a[l],u.predicate.uri===n)c[u.object.toNT()]=u;else{i=this.each(u.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"));for(var d=0,p=i.length;d<p;d++)r=i[d],c[r.toNT()]=u}s=this.statementsMatching(void 0,void 0,e);for(var h=0,y=s.length;h<y;h++){u=s[h],o=this.each(u.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"));for(var v=0,m=o.length;v<m;v++)t=o[v],c[t.toNT()]=u}return this.transitiveClosure(c,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(e){return this.NTtoURI(this.findTypesNT(e))}},{key:"connectedStatements",value:function(e,t,r){r=r||[];var n=[e],a={},i={},s=[],o=this,u=function(e){var u=function(e){"BlankNode"!==e.termType||a[e.value]||(a[e.value]=!0,n.push(e))},c=o.statementsMatching(null,null,e,t).concat(o.statementsMatching(e,null,null,t));c=c.filter((function(e){if(r[e.predicate.value])return!1;var t=e.toNT();return!i[t]&&(i[t]=!0,!0)})),c.forEach((function(e){u(e.subject),u(e.object)})),s=s.concat(c)};while(n.length)u(n.shift());return s}},{key:"formula",value:function(e){return new r}},{key:"fromNT",value:function(e){var t,r,n;switch(e[0]){case"<":return this.sym(e.slice(1,-1));case'"':if(n=void 0,t=void 0,r=e.lastIndexOf('"'),r<e.length-1)if("@"===e[r+1])n=e.slice(r+2);else{if("^^"!==e.slice(r+1,r+3))throw new Error("Can't convert string from NT: "+e);t=this.fromNT(e.slice(r+3))}return e=e.slice(1,r),e=e.replace(/\\"/g,'"'),e=e.replace(/\\n/g,"\n"),e=e.replace(/\\\\/g,"\\"),this.rdfFactory.literal(e,n||t);case"_":return this.rdfFactory.blankNode(e.slice(2));case"?":return new w.default(e.slice(1))}throw new Error("Can't convert from NT: "+e)}},{key:"holds",value:function(e,t,r,n){var a;if(1===arguments.length){if(!e)return!0;if(e instanceof Array){for(a=0;a<e.length;a++)if(!this.holds(e[a]))return!1;return!0}if((0,b.isStatement)(e))return this.holds(e.subject,e.predicate,e.object,e.graph);if(e.statements)return this.holds(e.statements)}var i=this.anyStatementMatching(e,t,r,n);return null!=i}},{key:"holdsStatement",value:function(e){return this.holds(e.subject,e.predicate,e.object,e.graph)}},{key:"list",value:function(e,t){if(t.rdfFactory.supports["COLLECTIONS"]){var r=t.rdfFactory.collection();return e.forEach((function(e){r.append(e)})),r}var n=t.rdfFactory.blankNode(),a=(0,T.arrayToStatements)(t.rdfFactory,n,e);return t.addAll(a),n}},{key:"NTtoURI",value:function(e){var t,r,n={};for(t in e)e.hasOwnProperty(t)&&(r=e[t],"<"===t[0]&&(n[t.slice(1,-1)]=r));return n}},{key:"serialize",value:function(e,t,r){var n,a,i;switch(i=(0,m.default)(this),i.suggestNamespaces(this.ns),i.setBase(e),a=r?this.statementsMatching(void 0,void 0,void 0,r):this.statements,null!=t?t:"text/n3"){case"application/rdf+xml":n=i.statementsToXML(a);break;case"text/n3":case"text/turtle":n=i.statementsToN3(a);break;default:throw new Error("serialize: Content-type "+t+" not supported.")}return n}},{key:"substitute",value:function(e){var t=this.statements.map((function(t){return t.substitute(e)}));console.log("Formula subs statmnts:"+t);var n=new r;return n.addAll(t),console.log("indexed-form subs formula:"+n),n}},{key:"sym",value:function(e,t){if(t)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(e)}},{key:"the",value:function(e,t,r,n){var a=this.any(e,t,r,n);return null==a&&h.default.error("No value found for the() {"+e+" "+t+" "+r+"}."),a}},{key:"transitiveClosure",value:function(e,t,r){var n,a,i,s,o,u,c={};Object.assign(c,e);var l={};while(1){if(u=function(){for(var e in c)if(c.hasOwnProperty(e))return e}(),null==u)return l;for(o=r?this.each(void 0,t,this.fromNT(u)):this.each(this.fromNT(u),t),a=0,i=o.length;a<i;a++)n=o[a],s=n.toNT(),s in l||s in c||(c[s]=c[u]);l[u]=c[u],delete c[u]}}},{key:"topTypeURIs",value:function(e){var t,r,n,a,i,s,o,u;for(n in o=[],e)if(e.hasOwnProperty(n)){for(u=e[n],i=0,s=this.each(this.rdfFactory.namedNode(n),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf")),t=0,a=s.length;t<a;t++)if(r=s[t],"http://www.w3.org/2000/01/rdf-schema#Resource"!==r.uri){i++;break}i||(o[n]=u)}return o["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete o["http://www.w3.org/2000/01/rdf-schema#Resource"],o["http://www.w3.org/2002/07/owl#Thing"]&&delete o["http://www.w3.org/2002/07/owl#Thing"],o}},{key:"toString",value:function(){return"{"+this.statements.join("\n")+"}"}},{key:"variable",value:function(e){return new w.default(e)}},{key:"whether",value:function(e,t,r,n){return this.statementsMatching(e,t,r,n,!1).length}}]),r}(v.default);t.default=R},f947:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceVariables=i,t.asList=s,t.termToString=void 0;var n=r("600b");const{termToString:a}=n.SparqlHandler.prototype;function i(e,t){for(const r in t)e=e.replace(new RegExp("_:".concat(r),"g"),a(t[r]));return e}function s(...e){return{size:e.length,values:()=>({next:()=>({value:e.shift()})})}}t.termToString=a},fb42:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function a(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function o(e){try{u(n["throw"](e))}catch(t){i(t)}}function u(e){e.done?r(e.value):a(e.value).then(s,o)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FetchDocumentLoader=void 0,r("7274");const a=r("56af"),i=r("c7e2"),s=r("e43f");class o{constructor(e){this.fetcher=e}load(e){return n(this,void 0,void 0,(function*(){const t=yield(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(t.ok&&t.headers){let r=t.headers.get("Content-Type");if(r){const e=r.indexOf(";");e>0&&(r=r.substr(0,e))}if("application/ld+json"===r)return yield t.json();if(t.headers.has("Link")){let r;if(t.headers.forEach((t,n)=>{if("link"===n){const n=i.parse(t);for(const t of n.get("type","application/ld+json"))if("alternate"===t.rel){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+e);r=s.resolve(t.uri,e)}}}),r)return this.load(r)}throw new a.ErrorCoded("Unsupported JSON-LD media type "+r,a.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(t.statusText||"Status code: "+t.status)}))}}t.FetchDocumentLoader=o},fd4e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){return{parseJSON:function(e,t,r){var n,a,i,s={},o=r.sym(t);for(var u in e){0===u.indexOf("_:")?s[u]?n=s[u]:(n=r.bnode(u),s[u]=n):n=r.sym(u);var c=e[u];for(var l in c){var f=c[l];for(var d in a=r.sym(l),f){var p=f[d];if("uri"===p.type)i=r.sym(p.value),r.add(n,a,i,o);else if("BlankNode"===p.type)s[p.value]?i=s[p.value]:(i=r.bnode(p.value),s[p.value]=i),r.add(n,a,i,o);else{if("Literal"!==p.type)throw new Error("error: unexpected termtype: "+d.type);i=p.datatype?r.literal(p.value,void 0,r.sym(p.datatype)):p.lang?r.literal(p.value,p.lang):r.literal(p.value),r.add(n,a,i,o)}}}}}}}();t.default=n}}]);
//# sourceMappingURL=chunk-746eff00.5764ba92.js.map