(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d093f1d8","chunk-61ade157","chunk-749e9e5f"],{"057d":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{id:"storage-modal",title:"Storage"}},[null==e.webId?n("SolidLoginButton"):n("div",[n("b-container",[n("b-input-group",{staticClass:"mt-3"},[n("b-form-input",{ref:"graph_name_input",attrs:{placeholder:"New Graph Name"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)}},model:{value:e.new_graph_name,callback:function(t){e.new_graph_name=t},expression:"new_graph_name"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"info"},on:{click:e.save}},[e._v("create")])],1)],1),n("b-form-checkbox",{model:{value:e.publish,callback:function(t){e.publish=t},expression:"publish"}},[e._v(" publish To Agora ")]),null!=e.storage?n("b-list-group",{staticClass:"item list-group-item d-flex justify-content-between p-1"},["https://"!=e.folder.parent?n("b-list-group-item",{attrs:{variant:"dark",button:""},on:{click:function(t){return e.readParent(e.folder.parent)}}},[e._v(e._s(e.folder.parent))]):e._e(),e._l(e.folder.folders,(function(t){return n("b-list-group-item",{key:t.url,attrs:{button:""},on:{click:function(n){return e.read(t)}}},[n("div",{staticClass:"input-group",staticStyle:{display:"table",width:"100%"}},[n("b-button",{staticClass:"unstyled-button",attrs:{variant:"outline-warning"}},[n("b-icon-folder-fill")],1),e._v(" "+e._s(t.name)+" "),n("span",{staticStyle:{display:"table-cell",width:"40px"}},[n("b-button",{attrs:{size:"sm",variant:"outline-info"},on:{click:function(n){return n.stopPropagation(),e.see(t)}}},[n("b-icon-eye",{attrs:{variant:"info"},on:{click:function(n){return n.stopPropagation(),e.see(t)}}})],1)],1)],1)])})),e._l(e.folder.files,(function(t){return n("b-list-group-item",{key:t.url,staticClass:"item list-group-item d-flex justify-content-between",attrs:{variant:"light",button:""},on:{click:function(n){return e.replace(t)}}},[n("p",{staticClass:"p-0 m-0 flex-grow-1"},[n("b-icon-file-text"),e._v(" "+e._s(t.name))],1)])}))],2):e._e()],1)],1)],1)},a=[],o=n("1da1"),i=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0"),n("caad"),n("2532"),n("ac1f"),n("1276"),n("e9c4"),n("00e8")),s=n.n(i),u=n("7fed"),c=n.n(u),l=n("d4ec"),f=n("bee2"),d=n("ec26"),p=n("6655"),h=n.n(p),b=n("9b92"),g=new c.a(s.a),m="https://ipgs.solidcommunity.net/public/activity/",w=m+"log.ttl",v=function(){function e(){Object(l["a"])(this,e),this.jsonld={"@context":"https://www.w3.org/ns/activitystreams","@type":"Create","@id":m+"data/"+Object(d["a"])()+".json",object:{id:"https://example.com/~mallory/note/72",type:"Note",attributedTo:"https://example.net/~mallory",content:"This is a note",published:"2015-02-10T15:04:55Z",to:["https://example.org/~john/"],cc:["https://example.com/~erik/followers","https://www.w3.org/ns/activitystreams#Public"]},published:new Date,to:["https://example.org/~john/"],cc:["https://example.com/~erik/followers","https://www.w3.org/ns/activitystreams#Public"]}}return Object(f["a"])(e,[{key:"publish",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(this.jsonld["@id"]),e.next=3,g.postFile(this.jsonld["@id"],JSON.stringify(this.jsonld),"application/json").then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),n=t.headers.get("location"),console.log("Activity send",n),e.next=5,h.a[w]["https://www.dublincore.org/specifications/dublin-core/dcmi-terms/hasPart"].add(Object(b["namedNode"])(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),y=new c.a(s.a),x={json:"application/json",jsonld:"application/ld+json",ttl:"text/turtle"},k={name:"StorageModal",components:{SolidLoginButton:function(){return n.e("chunk-2d226c5a").then(n.bind(null,"e9a1"))}},props:["network"],data:function(){return{folder:{folders:[],files:[]},url:"",new_graph_name:"",publish:!0}},created:function(){this.dataToSave=this.$store.state.ipgs.dataToSave,null!=this.storage&&this.read({url:this.storage,name:this.storage,type:"folder"})},methods:{replace:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log(e),t.new_graph_name=e.name,t.$refs.graph_name_input.focus();case 3:case"end":return n.stop()}}),n)})))()},save:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.new_graph_name.length>0)){t.next=21;break}return console.log("dataToSave",e.dataToSave),n=e.url+e.new_graph_name,!n.includes(".")&&(n=n+"."+e.dataToSave.format),r=e.dataToSave.content,"jsonld"==e.dataToSave.format&&(a=JSON.parse(e.dataToSave.content),console.log(a),a["@context"]["@base"]=n,a["@id"]=n,a.label=e.new_graph_name.split("/").pop(),a.creator={"@id":e.webId},r=JSON.stringify(a,void 0,2),console.log("new content",r)),o=x[e.dataToSave.format],console.log(o,r),t.next=10,y.itemExists(n);case 10:if(!t.sent){t.next=17;break}if(i=confirm(n+" already exists, do you want to replace it ?"),1!=i){t.next=15;break}return t.next=15,y.createFile(n,r,o).then((function(t){console.log(t);var a=t.headers.get("location");if(console.log(a),1==e.publish){var o=new v;o.jsonld.creator=e.webId,o.jsonld.object="ttl"==e.dataToSave.format?r:JSON.parse(r),console.log(o),o.publish()}e.$bvModal.hide("storage-modal"),e.$router.push({path:"network",query:{url:n}})})).catch((function(e){return alert("Error: ".concat(e))}));case 15:t.next=19;break;case 17:return t.next=19,y.createFile(n,r,o).then((function(t){console.log(t);var a=t.headers.get("location");if(console.log(a),1==e.publish){var o=new v;o.jsonld.creator=e.webId,o.jsonld.object="ttl"==e.dataToSave.format?r:JSON.parse(r),o.jsonld.object.url=n,console.log(o),o.publish()}e.$bvModal.hide("storage-modal"),e.$router.push({path:"network",query:{url:n}})})).catch((function(e){return alert("Error: ".concat(e))}));case 19:t.next=22;break;case 21:alert("If you want to create a Graph, you must provide a name !");case 22:case"end":return t.stop()}}),t)})))()},see:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$router.push({path:"network",query:{url:e.url}});case 1:case"end":return n.stop()}}),n)})))()},read:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("folder"!=e.type){n.next=7;break}return t.url=e.url,n.next=4,y.readFolder(e.url);case 4:t.folder=n.sent,n.next=8;break;case 7:t.$router.push({path:"network",query:{url:e.url}});case 8:case"end":return n.stop()}}),n)})))()},readParent:function(e){this.read({url:e,name:e,type:"folder"})}},watch:{storage:function(){null!=this.storage&&this.read({url:this.storage,name:this.storage,type:"folder"})}},computed:{webId:{get:function(){return this.$store.state.solid.webId},set:function(){}},storage:{get:function(){return this.$store.state.solid.storage},set:function(){}},dataToSave:{get:function(){return this.$store.state.ipgs.dataToSave},set:function(){}}}},j=k,_=(n("558e"),n("2877")),S=Object(_["a"])(j,r,a,!1,null,null,null);t["default"]=S.exports},"4fadd":function(e,t,n){var r=n("d039"),a=n("861d"),o=n("c6b6"),i=n("d86b"),s=Object.isExtensible,u=r((function(){s(1)}));e.exports=u||i?function(e){return!!a(e)&&((!i||"ArrayBuffer"!=o(e))&&(!s||s(e)))}:s},"558e":function(e,t,n){"use strict";n("eb4d")},"6d61":function(e,t,n){"use strict";var r=n("23e7"),a=n("da84"),o=n("e330"),i=n("94ca"),s=n("6eeb"),u=n("f183"),c=n("2266"),l=n("19aa"),f=n("1626"),d=n("861d"),p=n("d039"),h=n("1c7e"),b=n("d44e"),g=n("71560");e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),w=-1!==e.indexOf("Weak"),v=m?"set":"add",y=a[e],x=y&&y.prototype,k=y,j={},_=function(e){var t=o(x[e]);s(x,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(w&&!d(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return w&&!d(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(w&&!d(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})},S=i(e,!f(y)||!(w||x.forEach&&!p((function(){(new y).entries().next()}))));if(S)k=n.getConstructor(t,e,m,v),u.enable();else if(i(e,!0)){var O=new k,T=O[v](w?{}:-0,1)!=O,F=p((function(){O.has(1)})),$=h((function(e){new y(e)})),E=!w&&p((function(){var e=new y,t=5;while(t--)e[v](t,t);return!e.has(-0)}));$||(k=t((function(e,t){l(e,x);var n=g(new y,e,k);return void 0!=t&&c(t,n[v],{that:n,AS_ENTRIES:m}),n})),k.prototype=x,x.constructor=k),(F||E)&&(_("delete"),_("has"),m&&_("get")),(E||T)&&_(v),w&&x.clear&&delete x.clear}return j[e]=k,r({global:!0,forced:k!=y},j),b(k,e),w||n.setStrong(k,e,m),k}},71560:function(e,t,n){var r=n("1626"),a=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var i,s;return o&&r(i=t.constructor)&&i!==n&&a(s=i.prototype)&&s!==n.prototype&&o(e,s),e}},bb2f:function(e,t,n){var r=n("d039");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d86b:function(e,t,n){var r=n("d039");e.exports=r((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},e9c4:function(e,t,n){var r=n("23e7"),a=n("da84"),o=n("d066"),i=n("2ba4"),s=n("e330"),u=n("d039"),c=a.Array,l=o("JSON","stringify"),f=s(/./.exec),d=s("".charAt),p=s("".charCodeAt),h=s("".replace),b=s(1..toString),g=/[\uD800-\uDFFF]/g,m=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,v=function(e,t,n){var r=d(n,t-1),a=d(n,t+1);return f(m,e)&&!f(w,a)||f(w,e)&&!f(m,r)?"\\u"+b(p(e,0),16):e},y=u((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&r({target:"JSON",stat:!0,forced:y},{stringify:function(e,t,n){for(var r=0,a=arguments.length,o=c(a);r<a;r++)o[r]=arguments[r];var s=i(l,null,o);return"string"==typeof s?h(s,g,v):s}})},eb4d:function(e,t,n){},f183:function(e,t,n){var r=n("23e7"),a=n("e330"),o=n("d012"),i=n("861d"),s=n("1a2d"),u=n("9bf2").f,c=n("241c"),l=n("057f"),f=n("4fadd"),d=n("90e3"),p=n("bb2f"),h=!1,b=d("meta"),g=0,m=function(e){u(e,b,{value:{objectID:"O"+g++,weakData:{}}})},w=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,b)){if(!f(e))return"F";if(!t)return"E";m(e)}return e[b].objectID},v=function(e,t){if(!s(e,b)){if(!f(e))return!0;if(!t)return!1;m(e)}return e[b].weakData},y=function(e){return p&&h&&f(e)&&!s(e,b)&&m(e),e},x=function(){k.enable=function(){},h=!0;var e=c.f,t=a([].splice),n={};n[b]=1,e(n).length&&(c.f=function(n){for(var r=e(n),a=0,o=r.length;a<o;a++)if(r[a]===b){t(r,a,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},k=e.exports={enable:x,fastKey:w,getWeakData:v,onFreeze:y};o[b]=!0}}]);
//# sourceMappingURL=chunk-d093f1d8.09ec1da1.js.map